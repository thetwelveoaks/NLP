<posts>
  <row Body="You can use Javascript's alert method to return the source code, type this in the address bar:&#10;&#10;javascript: alert(&lt;api&gt;document.getElementsByTagName('html')&lt;/api&gt;[0].innerHTML);&#10;" CommentCount="3" CreationDate="2011-01-21T17:28:23.520" Id="5040" LastActivityDate="2011-01-22T01:42:58.180" LastEditDate="2011-01-22T01:42:58.180" LastEditorUserId="482" OwnerDisplayName="acconrad" ParentId="5039" PostTypeId="2" Score="48" />
  <row Body="You can turn the url of the page your are viewing into a QR Code easily with these bookmarklets: &#10;&#10;&#10;This one creates a pop-up where you can edit the url.  It's a two click process:&#10;&#10;javascript:var sCode=prompt('Enter URL to encode',window.location);void(&lt;api&gt;window.open('http://chart.apis.google.com/chart?cht=qr&amp;amp;chs=300x300&amp;amp;chl='+encodeURIComponent(sCode)&lt;/api&gt;,'Qr code','top=100,left=200,width=350,height=350,status=yes'));&#10;This one is a one click and done process:&#10;&#10;javascript:(function(){if(document.getElementById){var x=&lt;api&gt;document.getElementsByTagName('head')&lt;/api&gt;.item(0);var o=&lt;api&gt;document.createElement('script')&lt;/api&gt;;if(typeof(o)!='object') o=&lt;api&gt;document.standardCreateElement('script')&lt;/api&gt;;&lt;api&gt;o.setAttribute('src','http://qrbookmarklet.googlecode.com/svn/trunk/qr.js')&lt;/api&gt;;&lt;api&gt;o.setAttribute('type','text/javascript')&lt;/api&gt;;&lt;api&gt;x.appendChild(o)&lt;/api&gt;;}})();&#10;&#10;&#10;Just create a bookmark in your Chrome or FF browser bar and paste the above code into the URL field of the bookmark.&#10;" CommentCount="0" CreationDate="2011-02-03T18:41:16.907" Id="5621" LastActivityDate="2011-02-03T18:41:16.907" OwnerUserId="137" ParentId="1964" PostTypeId="2" Score="2" />
  <row AnswerCount="1" Body="I'm using the new Twitter 2 on Android 2.1.&#10;&#10;Whenever I hit the button which enables me to upload multiple photos in a single tweet, I always get the error &quot;The application Camera (process com.sonyericsson.camera) has stopped unexpectidly. Please try again&quot;. However, uploading a single photo using the camera button in Twitter have no problem, it works.&#10;&#10;My phone is Sony Ericsson x10 mini pro.&#10;&#10;I tried signing out and back in, same result.&#10;&#10;Anything I can do to fix this?&#10;&#10;This is the log info I got using Log Collector:&#10;&#10;02-23 15:05:57.328 I/ActivityManager( 1240): Starting activity: Intent { act=com.twitter.android.post.status cmp=com.twitter.android/.PostActivity }&#10;02-23 15:05:57.338 D/PhoneWindow(15095): couldn't save which view has focus because the focused view com.android.internal.policy.impl.PhoneWindow$DecorView@45726938 has no id.&#10;02-23 15:05:57.688 I/ActivityManager( 1240): Displayed activity com.twitter.android/.PostActivity: 340 ms (total 340 ms)&#10;02-23 15:05:59.018 I/ActivityManager( 1240): Starting activity: Intent { act=android.intent.action.PICK typ=vnd.android.cursor.dir/image cmp=com.sonyericsson.camera/com.sonyericsson.album.grid.GridActivity }&#10;02-23 15:05:59.038 I/ActivityManager( 1240): Start proc com.sonyericsson.camera for activity com.sonyericsson.camera/com.sonyericsson.album.grid.GridActivity: pid=15113 uid=10057 gids={1006, 1015, 3003}&#10;02-23 15:05:59.128 I/dalvikvm(15113): Debugger thread not active, ignoring DDM send (t=0x41504e4d l=38)&#10;02-23 15:05:59.158 I/dalvikvm(15113): Debugger thread not active, ignoring DDM send (t=0x41504e4d l=50)&#10;02-23 15:05:59.448 I/ActivityManager( 1240): Displayed activity com.sonyericsson.camera/com.sonyericsson.album.grid.GridActivity: 423 ms (total 423 ms)&#10;02-23 15:05:59.458 W/dalvikvm(15113): threadid=15: thread exiting with uncaught exception (group=0x4001e160)&#10;02-23 15:05:59.458 E/AndroidRuntime(15113): Uncaught handler: thread AsyncTask #1 exiting due to uncaught exception&#10;02-23 15:05:59.468 E/AndroidRuntime(15113): java.lang.RuntimeException: An error occured while executing doInBackground()&#10;02-23 15:05:59.468 E/AndroidRuntime(15113):     at android.os.AsyncTask$3.done(AsyncTask.java:200)&#10;02-23 15:05:59.468 E/AndroidRuntime(15113):     at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)&#10;02-23 15:05:59.468 E/AndroidRuntime(15113):     at java.util.concurrent.FutureTask.setException(FutureTask.java:124)&#10;02-23 15:05:59.468 E/AndroidRuntime(15113):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)&#10;02-23 15:05:59.468 E/AndroidRuntime(15113):     at java.util.concurrent.FutureTask.run(FutureTask.java:137)&#10;02-23 15:05:59.468 E/AndroidRuntime(15113):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1068)&#10;02-23 15:05:59.468 E/AndroidRuntime(15113):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:561)&#10;02-23 15:05:59.468 E/AndroidRuntime(15113):     at java.lang.Thread.run(Thread.java:1096)&#10;02-23 15:05:59.468 E/AndroidRuntime(15113): Caused by: java.lang.IllegalArgumentException: Unsupported MIME type.&#10;02-23 15:05:59.468 E/AndroidRuntime(15113):     at com.sonyericsson.album.grid.GridActivity$AlbumTask.doInBackground(GridActivity.java:202)&#10;02-23 15:05:59.468 E/AndroidRuntime(15113):     at com.sonyericsson.album.grid.GridActivity$AlbumTask.doInBackground(GridActivity.java:124)&#10;02-23 15:05:59.468 E/AndroidRuntime(15113):     at android.os.AsyncTask$2.call(AsyncTask.java:185)&#10;02-23 15:05:59.468 E/AndroidRuntime(15113):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)&#10;02-23 15:05:59.468 E/AndroidRuntime(15113):     ... 4 more&#10;02-23 15:05:59.628 E/SemcCheckin(15113): Get crash dump level : java.io.FileNotFoundException: /data/semc-checkin/crashdump&#10;02-23 15:05:59.628 W/ActivityManager( 1240): Unable to start service Intent { act=com.sonyericsson.android.jcrashcatcher.action.BUGREPORT_AUTO cmp=com.sonyericsson.android.jcrashcatcher/.JCrashCatcherService (has extras) }: not found&#10;02-23 15:05:59.648 I/Process ( 1240): Sending signal. PID: 15113 SIG: 3&#10;02-23 15:05:59.648 I/dalvikvm(15113): threadid=7: reacting to signal 3&#10;02-23 15:05:59.778 I/dalvikvm(15113): Wrote stack trace to '/data/anr/traces.txt'&#10;02-23 15:06:00.388 E/SemcCheckin( 1673): Get Crash Level : java.io.FileNotFoundException: /data/semc-checkin/crashdump&#10;02-23 15:06:01.708 I/DumpStateReceiver( 1240): Added state dump to 1 crashes&#10;02-23 15:06:02.008 D/iddd-events( 1117): Registering event com.sonyericsson.idd.probe.android.devicemonitor::ApplicationCrash with 4314 bytes payload.&#10;02-23 15:06:06.968 D/dalvikvm( 1673): GC freed 661 objects / 126704 bytes in 124ms&#10;02-23 15:06:11.928 D/dalvikvm( 1379): GC freed 19753 objects / 858832 bytes in 84ms&#10;02-23 15:06:13.038 I/Process (15113): Sending signal. PID: 15113 SIG: 9&#10;02-23 15:06:13.048 I/WindowManager( 1240): WIN DEATH: Window{4596ecc0 com.sonyericsson.camera/com.sonyericsson.album.grid.GridActivity paused=false}&#10;02-23 15:06:13.048 I/ActivityManager( 1240): Process com.sonyericsson.camera (pid 15113) has died.&#10;02-23 15:06:13.048 I/WindowManager( 1240): WIN DEATH: Window{459db5e8 com.sonyericsson.camera/com.sonyericsson.album.grid.GridActivity paused=false}&#10;02-23 15:06:13.078 I/UsageStats( 1240): Unexpected resume of com.twitter.android while already resumed in com.sonyericsson.camera&#10;02-23 15:06:13.098 W/InputManagerService( 1240): Window already focused, ignoring focus gain of: com.android.internal.view.IInputMethodClient$Stub$Proxy@456e7168&#10;02-23 15:06:21.278 D/dalvikvm( 1745): GC freed 2032 objects / 410848 bytes in 60ms&#10;&#10;" CommentCount="2" CreationDate="2011-02-23T13:31:01.090" Id="6299" LastActivityDate="2011-02-24T08:59:03.040" OwnerDisplayName="Hazz" OwnerUserId="3188" PostTypeId="1" Score="1" Tags="&lt;twitter&gt;" Title="Twitter 2 for Android crash every time I try uploading multi photos" ViewCount="984" />
  <row AnswerCount="1" Body="After RTFM, I decided to ask the question here.&#10;&#10;Device is a generic android tablet device (http://www.reeder.com.tr/reedpad.asp), &#10;&#10;idenfied as: &quot;sec_smdkv210&quot;&#10;here is the build fingerprint:&#10;&quot;sec_smdkv210/smdkv210/smdkv210:2.2.1/FRF91/eng.root.20110224.011402:eng/release&quot;&#10;Android Version: 2.2.1&#10;&#10;Problem occurs after I launch Angry Birds Rio, and try to play the first level, at the very beginning, it just quits from the game.&#10;&#10;System Log:&#10;&#10;http://pastebin.com/aBmfvXtF&#10;&#10;Game is an adsupported version 1.0.0 downloaded from market.&#10;&#10;No ad blocker installed, no add-ons. Device is rooted by z4root, but before or after rooting, behaviour is same. Also, same crash behaviour is observed with Angry Birds Seasons, but slighly different, it crashes if you  try to pause and reload the level during the game, resulting a similiar crash log which I didn't bother to paste here once again.&#10;&#10;Same string appears in the crash log before the crash:&#10;&#10;JNI WARNING: received null jstring (Check_GetStringUTFChars)&#10;&#10;W/dalvikvm(25888): JNI WARNING: received null jstring (Check_GetStringUTFChars)&#10;I/dalvikvm(25888): &quot;GLThread 9&quot; prio=5 tid=8 NATIVE&#10;I/dalvikvm(25888):   | group=&quot;main&quot; sCount=0 dsCount=0 s=N obj=0x46f97d70 self=0x225c10&#10;I/dalvikvm(25888):   | sysTid=25895 nice=0 sched=0/0 cgrp=default handle=2251432&#10;I/dalvikvm(25888):   | schedstat=( 7639180271 5104522289 130271 )&#10;I/dalvikvm(25888):   at com.rovio.ka3d.WebViewWrapper.urlLoadedCallback(Native Method)&#10;I/dalvikvm(25888):   at com.rovio.ka3d.WebViewWrapper.access$500(WebViewWrapper.java:42)&#10;I/dalvikvm(25888):   at com.rovio.ka3d.WebViewWrapper$8.run(WebViewWrapper.java:216)&#10;I/dalvikvm(25888):   at com.rovio.ka3d.MyRenderer.handleEvents(MyRenderer.java:118)&#10;I/dalvikvm(25888):   at com.rovio.ka3d.MyRenderer.onDrawFrame(MyRenderer.java:77)&#10;I/dalvikvm(25888):   at com.rovio.ka3d.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1346)&#10;I/dalvikvm(25888):   at com.rovio.ka3d.GLSurfaceView$GLThread.run(GLSurfaceView.java:1121)&#10;&#10;Trying to move from SD card to device did not help.&#10;Trying to change the device locale from Turkish to English did not help.&#10;Trying to update the device from manufacturer's site, did not help (it did not updated the android version, only manufacturer's build number changed)&#10;Trying to root the device, did not help.&#10;&#10;Anybody could suggest what could be going on here?&#10;&#10;Best Regards,&#10;q.m.&#10;" CommentCount="1" CreationDate="2011-04-04T15:14:30.823" Id="7918" LastActivityDate="2015-03-23T03:54:20.177" OwnerDisplayName="user4065" PostTypeId="1" Score="2" Tags="&lt;angry-birds&gt;" Title="AdSupported Angry Birds versions keep crashing on Android 2.2.1 Tablet PC" ViewCount="1312" />
  <row Body="Another option ( very restricted, because involves changes in the platform ) is to change the&#10;&#10;./frameworks/base/core/java/android/content/res/Configuration.java&#10;&#10;&#10;file.&#10;&#10;There you must:&#10;&#10;-Create a setter/getter pair to obtain the font value&#10;&#10;-Change the point where the file obtain the value. I changed the method&#10;&#10;public void setToDefaults(){&#10;  //I set the class member to the desired value trough my getter ( getFontScale )&#10;  fontScale= &lt;api&gt;this.getFontScale()&lt;/api&gt;;&#10;  ...&#10;  ...&#10;}&#10;&#10;&#10;-Initialize the class member to the stored value:&#10;&#10;   //This is the class member ( previouslly not initialized. Now i set it´s value trough my getter )&#10;   public float fontScale= &lt;api&gt;this.getFontScale()&lt;/api&gt;;&#10;&#10;&#10;This way every app will initially have it´s font setted to the stored value.&#10;&#10;ps: You should create an interface in the Android Settings apk too, otherwise your font would only start with a fixed value.&#10;&#10;I can give more details if needed.&#10;" CommentCount="0" CreationDate="2011-06-01T12:32:54.497" Id="9930" LastActivityDate="2011-06-01T13:15:44.287" LastEditDate="2011-06-01T13:15:44.287" LastEditorUserId="4312" OwnerUserId="4312" ParentId="2202" PostTypeId="2" Score="2" />
  <row Body="I have finally had a chance to look at the logcat while the problem was occuring. The error message reads:&#10;&#10;Completed command PLAYER_PREPARE status=-17&#10;&#10;&#10;According to this forum &quot;it’s caused by having too many MediaPlayer objects active at once.&quot; Unfortunately I have not yet found a fix. The only known workaround seems to be rebooting. &#10;&#10;I am still not sure, which app (or combination of apps) reproduce the error reliably.&#10;&#10;Edit: I guess that any application, that uses the MediaPlayer class can cause the problem. Those apps probably never reach a state where they call &lt;api&gt;MediaPlayer.release()&lt;/api&gt;. Maybe we need to contact the vendors of applications that use the MediaPlayer, so they make sure they call release().&#10;&#10;My superficial research did not lead to a solution, that would fix the problem without a reboot.&#10;&#10;Edit 2: I have updated to Android 2.3 (Gingerbread) and unfortunately this problem still persists.&#10;&#10;Some logcat messages around the error:&#10;&#10;06-08 20:03:08.785 V/PlayerDriver( 2377): CommandCompleted&#10;06-08 20:03:08.785 V/PlayerDriver( 2377): Completed command PLAYER_INIT status=1&#10;06-08 20:03:08.785 V/PVPlayer( 2377): run_set_video_surface s=0, cancelled=0&#10;06-08 20:03:08.785 V/PVPlayer( 2377): run_set_audio_output s=0, cancelled=0&#10;06-08 20:03:08.785 V/PlayerDriver( 2377): Send player code: 5&#10;06-08 20:03:08.785 V/PlayerDriver( 2377): Create realtime output&#10;06-08 20:03:08.785 V/PlayerDriver( 2377): CommandCompleted&#10;06-08 20:03:08.785 V/PlayerDriver( 2377): Completed command PLAYER_SET_AUDIO_SINK status=1&#10;06-08 20:03:08.785 V/PVPlayer( 2377): run_prepare s=0, cancelled=0&#10;06-08 20:03:08.789 V/PlayerDriver( 2377): Send player code: 7&#10;06-08 20:03:08.789 V/PlayerDriver( 2377): disable natpkt - 0&#10;06-08 20:03:08.789 D/        ( 2377): After GetDurationFromRandomScan: clipDuration=8716644 &#10;06-08 20:03:08.789 D/        ( 2377): After GetDurationFromRandomScan: clipDuration=8716644 &#10;06-08 20:03:08.804 V/PlayerDriver( 2377): HandleInformationalEvent: 26&#10;06-08 20:03:08.804 V/PlayerDriver( 2377): HandleInformationalEvent: type=26 UNHANDLED&#10;06-08 20:03:08.804 V/PlayerDriver( 2377): CommandCompleted&#10;06-08 20:03:08.804 V/PlayerDriver( 2377): Completed command PLAYER_PREPARE status=-17&#10;06-08 20:03:08.804 E/PlayerDriver( 2377): Command PLAYER_PREPARE completed with an error or info -17&#10;06-08 20:03:08.804 V/PVPlayer( 2377): check_for_live_streaming s=-2147483648, cancelled=0&#10;06-08 20:03:08.804 V/PlayerDriver( 2377): HandleInformationalEvent: 27&#10;06-08 20:03:08.804 W/PlayerDriver( 2377): PVMFInfoErrorHandlingComplete&#10;06-08 20:03:08.804 W/MediaPlayer(22989): info/warning (1, 26)&#10;06-08 20:03:08.804 E/MediaPlayer(22989): error (1, -17)&#10;06-08 20:03:08.808 I/AudioService( 2471):  AudioFocus  abandonAudioFocus() from android.media.AudioManager@480f3630null&#10;06-08 20:03:08.812 I/AudioService( 2471):  AudioFocus  abandonAudioFocus() from android.media.AudioManager@480f3630null&#10;06-08 20:03:08.812 D/PlayTo  (22989): opening content://dtmedia/media/1553 with Android Player&#10;06-08 20:03:08.812 D/PlayTo  (22989): About to set Android Player datasource to content://dtmedia/media/1553&#10;06-08 20:03:08.812 E/PVPlayer( 2377): isDrmfile playing 0&#10;06-08 20:03:08.812 V/PVPlayer( 2377): reset&#10;06-08 20:03:08.812 V/PlayerDriver( 2377): Send player code: 18&#10;06-08 20:03:08.812 V/PlayerDriver( 2377): handleCancelAllCommands&#10;06-08 20:03:08.816 V/PlayerDriver( 2377): CommandCompleted&#10;06-08 20:03:08.816 V/PlayerDriver( 2377): Completed command PLAYER_CANCEL_ALL_COMMANDS status=1&#10;06-08 20:03:08.816 V/PlayerDriver( 2377): Send player code: 11&#10;06-08 20:03:08.816 V/PlayerDriver( 2377): handleReset&#10;06-08 20:03:08.816 V/PlayerDriver( 2377): CommandCompleted&#10;06-08 20:03:08.816 V/PlayerDriver( 2377): Completed command PLAYER_RESET status=1&#10;06-08 20:03:08.816 V/PlayerDriver( 2377): Send player code: 17&#10;06-08 20:03:08.816 V/PlayerDriver( 2377): handleRemoveDataSource&#10;06-08 20:03:08.816 V/PlayerDriver( 2377): CommandCompleted&#10;06-08 20:03:08.816 V/PlayerDriver( 2377): Completed command PLAYER_REMOVE_DATA_SOURCE status=1&#10;06-08 20:03:08.816 V/PVPlayer( 2377): unmap file&#10;&#10;" CommentCount="1" CreationDate="2011-06-08T18:56:19.120" Id="10213" LastActivityDate="2011-06-14T04:35:37.793" LastEditDate="2011-06-14T04:35:37.793" LastEditorUserId="526" OwnerUserId="526" ParentId="8851" PostTypeId="2" Score="4" />
  <row Body="I got it to work now. The problem was that&#10;&#10;&#10;calendar sync appearently wasn't supported by Funambol Android client v9.0.1 (which is not the latest version, whatever their download page says)&#10;the most recent version v10.0.3 has a bug that prevents a calendar from being created if none exists on Android v2.3 and above.&#10;&#10;&#10;You can either wait for the next snapshot or patch it yourself: in the Funambol Android Client sources in file src/com/funambol/android/source/pim/calendar/CalendarManager.java find the line (280):&#10;&#10;if (&lt;api&gt;Integer.parseInt(Build.VERSION.SDK)&lt;/api&gt; == 8 ) {&#10;&#10;&#10;and replace it with&#10;&#10;if (&lt;api&gt;Integer.parseInt(Build.VERSION.SDK)&lt;/api&gt; &amp;gt;= 8 ) {&#10;&#10;&#10;and compile.&#10;" CommentCount="0" CreationDate="2011-06-09T14:15:38.640" Id="10247" LastActivityDate="2011-06-09T14:15:38.640" OwnerUserId="5657" ParentId="10017" PostTypeId="2" Score="4" />
  <row AcceptedAnswerId="126265" AnswerCount="2" Body="USB reverse tethering = Cellphone gets network connection from PC via USB.&#10;&#10;I know how to do USB reverse tethering except for one problem: Many Android apps will check network connection using the code below before doing any useful work:&#10;&#10;ConnectivityManager connectivityManager = (ConnectivityManager)&lt;api&gt;context.getSystemService(Context.CONNECTIVITY_SERVICE)&lt;/api&gt;;&#10;NetworkInfo info = &lt;api&gt;connectivityManager.getActiveNetworkInfo()&lt;/api&gt;;&#10;&#10;&#10;The problem is that, when using USB reverse tethering, the above code will report no network connection. However, there IS a network connection (which is the USB reverse tethering itself), and ping, wget and all programs not doing this stupid check work well.&#10;&#10;So the question is: How can I hack the system to let this network connection check return success (so that I can fool these apps)?&#10;&#10;BTW. I use Cyanogenmod 7. And any solution specific to this MOD is also welcome.&#10;" CommentCount="2" CreationDate="2011-10-02T13:30:39.420" Id="14046" LastActivityDate="2015-10-18T07:36:12.093" LastEditDate="2011-10-02T14:12:49.240" LastEditorUserId="440" OwnerUserId="4816" PostTypeId="1" Score="16" Tags="&lt;cyanogenmod&gt;&lt;usb&gt;&lt;reverse-tether&gt;" Title="Android USB reverse tethering: How to fool the apps" ViewCount="5323" />
  <row AcceptedAnswerId="14109" AnswerCount="2" Body="Is there a way I can use ADB to determine the external storage directory (equivalent of the Android API call &lt;api&gt;Environment.getExternalStorageDirectory())&lt;/api&gt;?&#10;" CommentCount="0" CreationDate="2011-10-03T17:36:55.847" FavoriteCount="1" Id="14105" LastActivityDate="2011-10-03T20:19:11.207" LastEditDate="2011-10-03T18:30:51.910" LastEditorUserId="440" OwnerUserId="8483" PostTypeId="1" Score="7" Tags="&lt;adb&gt;&lt;storage&gt;" Title="How can I determine storage directory from ADB?" ViewCount="5186" />
  <row AcceptedAnswerId="14507" AnswerCount="1" Body="On my phone add new contact is failing by unexpected closure. The logs of that operation is;&#10;&#10;10-13 08:06:57.801: INFO/CustomizationProvider(1340): No configuration file: /system/etc/customization/settings/com/sonyericsson/android/socialphonebook/custom_settings.xml&#10;10-13 08:06:57.801: WARN/socialphonebook(12699): SettingsParser: No customization file exists.&#10;10-13 08:06:57.801: ERROR/socialphonebook(12699): SettingsParser: key not found. key=[account-types]&#10;10-13 08:06:57.831: DEBUG/szipinf(12699): Initializing inflate state&#10;10-13 08:06:57.841: WARN/dalvikvm(12699): threadid=11: thread exiting with uncaught exception (group=0x2aac8560)&#10;10-13 08:06:57.851: ERROR/AndroidRuntime(12699): FATAL EXCEPTION: AsyncTask #1&#10;        java.lang.RuntimeException: An error occured while executing doInBackground()&#10;        at android.os.AsyncTask$3.done(AsyncTask.java:200)&#10;        at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:274)&#10;        at java.util.concurrent.FutureTask.setException(FutureTask.java:125)&#10;        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:308)&#10;        at java.util.concurrent.FutureTask.run(FutureTask.java:138)&#10;        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)&#10;        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)&#10;        at java.lang.Thread.run(Thread.java:1019)&#10;        Caused by: java.lang.IllegalStateException: Top level element must be ContactsSource&#10;        at com.sonyericsson.android.socialphonebook.model.ExternalSource.inflate(ExternalSource.java:137)&#10;        at com.sonyericsson.android.socialphonebook.model.ExternalSource.inflate(ExternalSource.java:108)&#10;        at com.sonyericsson.android.socialphonebook.model.ContactsSource.superInflate(ContactsSource.java:119)&#10;        at com.sonyericsson.android.socialphonebook.model.ContactsSource.ensureInflated(ContactsSource.java:111)&#10;        at com.sonyericsson.android.socialphonebook.model.Sources.getInflatedSource(Sources.java:369)&#10;        at com.sonyericsson.android.socialphonebook.model.Sources.getAccounts(Sources.java:268)&#10;        at com.sonyericsson.android.socialphonebook.ui.EditContactActivity$AddContactTask.doInBackground(EditContactActivity.java:1438)&#10;        at com.sonyericsson.android.socialphonebook.ui.EditContactActivity$AddContactTask.doInBackground(EditContactActivity.java:1422)&#10;        at com.sonyericsson.android.socialphonebook.util.WeakAsyncTask.doInBackground(WeakAsyncTask.java:49)&#10;        at android.os.AsyncTask$2.call(AsyncTask.java:185)&#10;        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)&#10;        ... 4 more&#10;10-13 08:06:57.861: WARN/ActivityManager(242): Force finishing activity com.sonyericsson.android.socialphonebook/.ui.EditContactActivity&#10;10-13 08:06:57.861: WARN/ActivityManager(242): Force finishing activity com.sonyericsson.android.socialphonebook/.SocialPhonebookActivity&#10;&#10;&#10;Help please, I can't add contacts ( weird and funny !! )&#10;" CommentCount="0" CreationDate="2011-10-13T05:15:21.053" FavoriteCount="1" Id="14506" LastActivityDate="2014-05-10T15:45:33.057" LastEditDate="2012-07-20T12:15:57.860" LastEditorUserId="440" OwnerUserId="7384" PostTypeId="1" Score="1" Tags="&lt;contacts&gt;&lt;sony-xperia-arc&gt;" Title="Xperia Arc Social Phonebook Add Contact Problem" ViewCount="5686" />
  <row Body="Some phones' partitions have a separate partition for the kernel (often called &quot;boot&quot;) that is separate from the one that holds /system.&#10;&#10;Unzip the CynanogenMod update.zip - there should be a boot.img inside. If you have fastboot and know how to use it, you can flash boot.img with ./fastboot flash boot /path/to/boot.img(You will need to be S-OFF for this; sounds like you are.)&#10;&#10;Another option is to go back to stock &amp;amp; flash CM again. If you're flashing CM over top of itself you may be able to get away without wiping /data (you may still want to wipe /cache)&#10;" CommentCount="0" CreationDate="2011-10-21T19:02:18.030" Id="14851" LastActivityDate="2011-10-22T16:44:51.777" LastEditDate="2011-10-22T16:44:51.777" LastEditorUserId="6830" OwnerUserId="6830" ParentId="14844" PostTypeId="2" Score="3" />
  <row Body="Supporting multiple users has been discussed before, and I think that it is something that is needed as well. If I buy a tablet, and set it up for my email, calendar, etc. I don't want that device to be a community device. Which would mean that multiple tablets would be needed in a family household.&#10;&#10;A problem with being able to support multiple users is the space required. If each user had their own settings, then the /data/data would have to be much larger to support these extra users. But not only settings, it would have to support all the apps installed by the user too, so /data would have to be much larger too. You couldn't use the same apps between users, because the paid apps are tied to the account that bought them.&#10;&#10;I think this will eventually happen, but much larger storage would be needed for the devices. As it is, my device consistently fills the /data/cache and I have to clear that out because of the number of apps I have installed. Now just imagine have 2 (or more users) using the same device. And where do you set the limit on the number of users that can use one device? There are 2 adults and 3 teenagers in my household. So that is 5 people that could potentially be using one device.&#10;&#10;I actually experience issues with Google TV about this very topic as well. It doesn't, currently, have gmail, or apps like that, installed, but I can log in to gmail via Chrome Browser, and then if someone else comes and uses the TV/Browser, now I am logged in. (I don't actually do this, but I noticed it to be an issue with services like youtube and such)&#10;&#10;&#10;&#10;update&#10;&#10;Google has been hard at work starting to implement this. No actually information on when it will be available, but the start of the foundation has been laid.&#10;&#10;In the LockPatternKeyguardView is the following code:&#10;&#10;public void onUserChanged(int userId) {&#10;           &lt;api&gt;mLockPatternUtils.setCurrentUser(userId)&lt;/api&gt;;&#10;           updateScreen(getInitialMode(), true);&#10;}&#10;&#10;&#10;So multi-user support is coming, at some point.&#10;&#10;Update 2 (10/29/2012)&#10;&#10;With the announcement of JellyBean 4.2, Multi-User support is available, but only on tablets.&#10;" CommentCount="1" CreationDate="2011-11-07T16:34:10.327" Id="15355" LastActivityDate="2012-10-29T19:30:02.607" LastEditDate="2012-10-29T19:30:02.607" LastEditorUserId="1951" OwnerUserId="1951" ParentId="6693" PostTypeId="2" Score="8" />
  <row AnswerCount="1" Body="For some reason, after I changed my device's battery. It just keeps rebooting and here's a LogCat of the error: &#10;&#10;E/JavaBinder( 1305): *** Uncaught remote exception!  (Exceptions are not yet supported across processes.)  &#10;E/JavaBinder( 1305): java.lang.ArrayIndexOutOfBoundsException: length=5; index=6  &#10;E/JavaBinder( 1305):    at com.android.internal.os.BatteryStatsImpl.updateAllPhoneStateLocked(BatteryStatsImpl.java:1907)  &#10;E/JavaBinder( 1305):    at com.android.internal.os.BatteryStatsImpl.notePhoneSignalStrengthLocked(BatteryStatsImpl.java:1937)  &#10;E/JavaBinder( 1305):    at com.android.server.am.BatteryStatsService.notePhoneSignalStrength(BatteryStatsService.java:211)  &#10;E/JavaBinder( 1305):    at com.android.server.TelephonyRegistry.broadcastSignalStrengthChanged(TelephonyRegistry.java:564)  &#10;E/JavaBinder( 1305):    at com.android.server.TelephonyRegistry.notifySignalStrength(TelephonyRegistry.java:325)  &#10;E/JavaBinder( 1305):    at com.android.internal.telephony.ITelephonyRegistry$Stub.onTransact(ITelephonyRegistry.java:95)  &#10;E/JavaBinder( 1305):    at android.os.Binder.execTransact(Binder.java:338)  &#10;E/JavaBinder( 1305):    at dalvik.system.NativeStart.run(Native Method)&#10;&#10;" CommentCount="10" CreationDate="2012-01-06T18:44:44.650" FavoriteCount="0" Id="18013" LastActivityDate="2012-11-28T13:32:23.783" LastEditDate="2012-11-28T13:32:23.783" LastEditorUserId="3303" OwnerDisplayName="user1134955" OwnerUserId="11418" PostTypeId="1" Score="3" Tags="&lt;logging&gt;&lt;battery&gt;&lt;reboot&gt;" Title="My Device Keeps Rebooting (LogCat attached)" ViewCount="1036" />
  <row Body="There's some info in the source code in the classes com.android.internal.policy.impl.RecentApplicationsBackground and com.android.internal.policy.impl.RecentApplicationsDialog. &#10;&#10;If I read these correctly, there are specific handlers for selecting the apps but nothing special for swiping them except for onDetachedFromWindow(), which calls &lt;api&gt;com.android.View.onDetachedFromWindow()&lt;/api&gt; which basically hides the element and clears it's data. This would hint to the fact that nothing special happens on swiping the app, which corresponds with Austin Mills' answer, because since the list doesn't show the active app, the onPause() and other system calls that are done when &quot;quitting&quot; an application have already happened.&#10;" CommentCount="0" CreationDate="2012-03-10T09:13:30.463" Id="20465" LastActivityDate="2012-03-10T09:13:30.463" OwnerUserId="475" ParentId="19987" PostTypeId="2" Score="14" />
  <row Body="Digging into the PackageManagerService class on grepCode (warning: this class file is huge, your browser may chug a fair bit when rendering it), the optimizing message is displayed in the following context:&#10;&#10;public void performBootDexOpt() {&#10;    ArrayList&amp;lt;PackageParser.Package&amp;gt; pkgs = null;&#10;    synchronized (mPackages) {&#10;        if (&lt;api&gt;mDeferredDexOpt.size()&lt;/api&gt; &amp;gt; 0) {&#10;            pkgs = new ArrayList&amp;lt;PackageParser.Package&amp;gt;(mDeferredDexOpt);&#10;            &lt;api&gt;mDeferredDexOpt.clear()&lt;/api&gt;;&#10;        }&#10;    }&#10;    if (pkgs != null) {&#10;        for (int i=0; i&amp;lt;&lt;api&gt;pkgs.size()&lt;/api&gt;; i++) {&#10;            if (!isFirstBoot()) {&#10;                try {&#10;                    &lt;api&gt;ActivityManagerNative.getDefault()&lt;/api&gt;.showBootMessage(&#10;                            &lt;api&gt;mContext.getResources()&lt;/api&gt;.getString(&#10;                                    com.android.internal.R.string.android_upgrading_apk,&#10;                                    i+1, &lt;api&gt;pkgs.size())&lt;/api&gt;, true);&#10;                } catch (RemoteException e) {&#10;                }&#10;            }&#10;            PackageParser.Package p = &lt;api&gt;pkgs.get(i)&lt;/api&gt;;&#10;            synchronized (mInstallLock) {&#10;                if (!p.mDidDexOpt) {&#10;                    performDexOptLI(p, false, false);&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;&#10;&#10;Here the value of com.android.internal.R.string.android_upgrading_apk is the string &quot;Optimizing application&quot;. In layman's terms, it loops through each application on the device, updates the message on the screen by calling showBootMessage() and then calls performDexOptLI() on the application. So naturally, the next question is &quot;What does performDexOptLI() do?&quot; Well here's what that looks like:&#10;&#10;private int performDexOptLI(PackageParser.Package pkg, boolean forceDex, boolean defer) {&#10;    boolean performed = false;&#10;    if ((pkg.applicationInfo.flags&amp;amp;ApplicationInfo.FLAG_HAS_CODE) != 0) {&#10;        String path = pkg.mScanPath;&#10;        int ret = 0;&#10;        try {&#10;            if (forceDex || &lt;api&gt;dalvik.system.DexFile.isDexOptNeeded(path))&lt;/api&gt; {&#10;                if (!forceDex &amp;amp;&amp;amp; defer) {&#10;                    &lt;api&gt;mDeferredDexOpt.add(pkg)&lt;/api&gt;;&#10;                    return DEX_OPT_DEFERRED;&#10;                } else {&#10;                    &lt;api&gt;Log.i(TAG, &quot;Running dexopt on: &quot; + pkg.applicationInfo.packageName)&lt;/api&gt;;&#10;                    ret = &lt;api&gt;mInstaller.dexopt(path, pkg.applicationInfo.uid,&#10;                            !isForwardLocked(pkg));&lt;/api&gt;&#10;                    pkg.mDidDexOpt = true;&#10;                    performed = true;&#10;                }&#10;            }&#10;        } catch (...) {&#10;           //I've trimmed out a bunch of exception handling here, it basically just writes to&#10;           //the log and sets the return value&#10;        }&#10;    }&#10;&#10;    return performed ? DEX_OPT_PERFORMED : DEX_OPT_SKIPPED;&#10;}&#10;&#10;&#10;So this invokes the dexopt utility on all of the applications that need it. It's difficult to find any simple documentation regarding dexopt, but there's a high-level overview here. Suffice it to say, it's being used by the Just In Time (JIT) compiler to create optimized .dex files that help improve the performance of the apps on your device and it outputs them into the VM cache. The reason it stores the .dex files in the cache is because otherwise it would have to re-extract them any time you want to run the app (the .apk is just an archive, it is not an executable file!). Thus, it makes sense to just keep them in the /data/dalvik-cache directory to reuse them, and dexopt performs some optimizations during the initial extraction while it's at it.&#10;&#10;&#10;&#10;TL;DR (or non-programmer summary, I guess): It's rebuilding the Dalvik cache.&#10;" CommentCount="1" CreationDate="2012-04-10T16:57:46.697" Id="21664" LastActivityDate="2015-06-24T15:09:02.513" LastEditDate="2015-06-24T15:09:02.513" LastEditorUserId="114053" OwnerUserId="981" ParentId="21653" PostTypeId="2" Score="38" />
  <row Body="I started working on this. I'm posting my results so far here as a &quot;community wiki&quot; answer for two reasons: first, if someone else wants to join in, there's a place to talk; second, if I get pulled away from this project, there'll be hints for someone else to start working.&#10;&#10;&amp;nbsp;&#10;&#10;The backup logic on the host is entirely contained within https://github.com/android/platform_system_core/blob/master/adb/commandline.c, in the function named backup. The function is very simple: it validates the command line options, sends the command mostly as-is to the adb daemon on the phone, and writes the phone's output to the file. There isn't even error-checking: if, for example, you refuse the backup on the phone, adb just writes out an empty file.&#10;&#10;On the phone, the backup logic starts in service_to_fd() in https://github.com/android/platform_system_core/blob/master/adb/services.c. The function identifies that the command from the host is &quot;backup&quot;, and passes the unparsed command to backup_service() in https://github.com/android/platform_system_core/blob/master/adb/backup_service.c. That, in turn, is a thin wrapper around /system/bin/bu, which is a trivial shell script to launch com.android.commands.bu.Backup as then main-class of a new Android app process. That calls &lt;api&gt;ServiceManager.getService(&quot;backup&quot;)&lt;/api&gt; to get the backup service as an IBackupManager, and calls &lt;api&gt;IBackupManager.fullBackup()&lt;/api&gt;, passing it the still-unused file descriptor (very indirectly) connected to the backup.ab file on the host.&#10;&#10;Control passes to fullBackup() in com.android.server.BackupManagerService, which pops up the GUI asking the user to confirm/reject the backup. When the user do so, acknowledgeFullBackupOrRestore() (same file) is called. If the user approved the request, acknowledgeFullBackupOrRestore() figures out if the backup is encrypted, and passes a message to BackupHandler (same file.) BackupHandler then instantiates and kicks off a PerformFullBackupTask (same file, line 2228 as of time of writing)&#10;&#10;We finally start generating output there, in &lt;api&gt;PerformFullBackupTask.run()&lt;/api&gt;, between line 2367 and line 2453.&#10;&#10;First, run() writes a header, which consists of either 4 or 9 ASCII lines:&#10;&#10;&#10;&#10;&#10;&quot;ANDROID BACKUP&quot;&#10;the backup format version: currently always &quot;1&quot;&#10;either &quot;0&quot; if the backup is uncompressed or &quot;1&quot; if it is&#10;the encryption method: currently either &quot;none&quot; or &quot;AES-256&quot;&#10;(if encrypted), the &quot;user password salt&quot; encoded in hex, all caps&#10;(if encrypted), the &quot;master key checksum salt&quot; encoded in hex, all caps&#10;(if encrypted), the &quot;number of PBKDF2 rounds used&quot; as a decimal number&#10;(if encrypted), the &quot;IV of the user key&quot; encoded in hex, all caps&#10;(if encrypted), the &quot;master IV + key blob, encrypted by the user key&quot; encoded in hex, all caps&#10;&#10;&#10;&#10;&#10;The actual backup data follows, either as (depending on compression and encryption) tar, deflate(tar), encrypt(tar), or encrypt(deflate(tar)).&#10;&#10;&amp;nbsp;&#10;&#10;TODO: write up the code path that generates the tar output -- you can simply use tar as long as entries are in the proper order (see below). &#10;&#10;Tar archive format &#10;&#10;App data is stored under the app/ directory, starting with a _manifest file, the APK (if requested) in a/, app files in f/, databases in db/ and shared preferences in sp/. If you requested external storage backup (using the -shared option), there will also be a shared/ directory in the archive containing external storage files. &#10;&#10;$ tar tvf mybackup.tar&#10;-rw------- 1000/1000      1019 2012-06-04 16:44 apps/org.myapp/_manifest&#10;-rw-r--r-- 1000/1000   1412208 2012-06-02 23:53 apps/org.myapp/a/org.myapp-1.apk&#10;-rw-rw---- 10091/10091     231 2012-06-02 23:41 apps/org.myapp/f/share_history.xml&#10;-rw-rw---- 10091/10091       0 2012-06-02 23:41 apps/org.myapp/db/myapp.db-journal&#10;-rw-rw---- 10091/10091    5120 2012-06-02 23:41 apps/org.myapp/db/myapp.db&#10;-rw-rw---- 10091/10091    1110 2012-06-03 01:29 apps/org.myapp/sp/org.myapp_preferences.xml&#10;&#10;&#10;Encryption details &#10;&#10;&#10;An AES 256 key is derived from the backup encryption password using 10000 rounds of PBKDF2 with a randomly generated 512 bit salt. &#10;An AES 256 master key is randomly generated&#10;A master key 'checksum' is generated by running the master key through 10000 rounds of PBKDF2 with a new randomly generated 512 bit salt. &#10;A random backup encryption IV is generated. &#10;The IV, master key, and checksum are concatenated and encrypted with the key derived in 1. The resulting blob is saved in the header as a hex string.&#10;The actual backup data is encrypted with the master key and appended to end of the file. &#10;&#10;&#10;Sample pack/unpack code implementation (produces/uses) tar archives: https://github.com/nelenkov/android-backup-extractor&#10;&#10;Some more details here: http://nelenkov.blogspot.com/2012/06/unpacking-android-backups.html&#10;&#10;Perl scripts for packing/unpacking and fixing broken archives: &#10;&#10;http://forum.xda-developers.com/showthread.php?p=27840175#post27840175&#10;" CommentCount="25" CommunityOwnedDate="2012-05-29T23:57:08.923" CreationDate="2012-05-29T23:57:08.923" Id="23608" LastActivityDate="2012-06-25T03:23:06.657" LastEditDate="2012-06-25T03:23:06.657" LastEditorUserId="15494" OwnerUserId="10680" ParentId="23357" PostTypeId="2" Score="34" />
  <row AnswerCount="1" Body="I have a Sony Xperia U. I had some problems with 2G/3G data connection when I bought it. After some configuration, power off/power, removing and reinserting SIM, things went all right.&#10;&#10;Now I've updated the OS and I have the same problem. I've set the APN, then activated the data connection, but I do not see the H/E/G symbol to tell that the data connection is active. I've verified, and have the data traffic for my subscription.&#10;&#10;&#10;How can I verify if the APN configuration is good? If there is an APN problem will I have the described behaviour?&#10;Is there some way to do some more troubleshooting? I read logs (with aLog) but didn't find anything?&#10;Is there any configuration/procedure to fix the problem?&#10;&#10;&#10;Some update:&#10;&#10;Network operator is French SFR (sometimes disappointing I must say).&#10;&#10;So I managed to take a look at logs (using adb).&#10;&#10;Main log:&#10;&#10;I/ActivityManager( 1737): Starting: Intent { flg=0x18000000 cmp=com.android.phon&#10;e/.DataTrafficSwitchDialog } from pid 1879&#10;V/DataTrafficSwitchDialog( 1879): isDataTrafficEnabled? false&#10;D/dalvikvm( 1879): GC_CONCURRENT freed 944K, 49% free 3585K/6983K, external 3880&#10;K/4099K, paused 13ms+6ms&#10;I/ActivityManager( 1737): Displayed com.android.phone/.DataTrafficSwitchDialog:&#10;+404ms (total +13s268ms)&#10;W/ActivityManager( 1737): Duplicate finish request for HistoryRecord{409aae38 co&#10;m.android.phone/.DataTrafficSwitchDialog}&#10;W/InputManagerService( 1737): Window already focused, ignoring focus gain of: co&#10;m.android.internal.view.IInputMethodClient$Stub$Proxy@40a0bc20&#10;W/ActivityManager( 1737): Duplicate finish request for HistoryRecord{409aae38 co&#10;m.android.phone/.DataTrafficSwitchDialog}&#10;I/TelephonyRegistry( 1737): notifyDataConnection: state=0 isDataConnectivityPoss&#10;ible=false reason=apnSwitched interfaceName=null networkType=3&#10;I/TelephonyRegistry( 1737): notifyDataConnection: state=1 isDataConnectivityPoss&#10;ible=true reason=apnSwitched interfaceName=null networkType=3&#10;D/Tethering( 1737): gprs0 is not a tetherable iface, ignoring&#10;V/kernel  ( 1481): [  801.811279] gprs0: attached&#10;V/kernel  ( 1481): [  803.178894] gprs0: detached&#10;E/Tethering( 1737): attempting to remove unknown iface (gprs0), ignoring&#10;I/TelephonyRegistry( 1737): notifyDataConnection: state=0 isDataConnectivityPoss&#10;ible=false reason=apnFailed interfaceName=null networkType=3&#10;D/GTalkService( 1869): ##### Network broadcast (connected=false) type=mobile, st&#10;ate=DISCONNECTED&#10;D/Tethering( 1737): MasterInitialState.processMessage what=3&#10;D/PicasaSyncManager( 2906): active network: null&#10;I/MediaUploader( 3052): No need to wake up&#10;D/PicasaSyncManager( 2906): background data: true&#10;I/fb_music_like( 3071): AvailabilityChangeReceiver : Availability change receive&#10;d. Action: android.net.conn.CONNECTIVITY_CHANGE&#10;I/fb_music_like( 3071): AvailabilityChangeReceiver : Network connectivity change&#10; received. No connectivity: true&#10;I/fb_music_like( 3071): &lt;api&gt;MusicLikeService.onCreate()&lt;/api&gt;.&#10;I/fb_music_like( 3071): &lt;api&gt;MusicLikeService.onStart()&lt;/api&gt;: #1 intent=Intent { act=andro&#10;id.net.conn.CONNECTIVITY_CHANGE cmp=com.sonyericsson.androidapp.fbmusiclike/.ser&#10;vice.MusicLikeService (has extras) }, flags=2&#10;I/fb_music_like( 3071): fireAvailabilityChanged(): available=true&#10;I/fb_music_like( 3071): isNetworkAvailable: EXTRA_NO_CONNECTIVITY found!&#10;I/fb_music_like( 3071): fireAvailabilityChanged(): available=false&#10;I/fb_music_like( 3071): Starting downloading music likes from Facebook.&#10;E/fb_music_like( 3071): downloadMusicLikes: false -&amp;gt; Value false of type java.la&#10;ng.Boolean cannot be converted to JSONObject&#10;W/fb_music_like( 3071): Get Error Code: 0 Error message: request failed&#10;I/fb_music_like( 3071): &lt;api&gt;MusicLikeService.onDestroy()&lt;/api&gt;.&#10;D/dalvikvm( 3062): GC_EXPLICIT freed 31K, 47% free 2878K/5379K, external 1681K/2&#10;129K, paused 44ms&#10;I/touchd  ( 1503): 'ab8500_usb' is online&#10;I/touchd  ( 1503): handling_uevent: event is 1&#10;D/kernel  ( 1481): [  810.299896] cyttsp-spi spi9.0: chg_status_work: Set charge&#10;r mode to reg: 0x1&#10;D/dalvikvm( 3071): GC_EXPLICIT freed 87K, 48% free 2818K/5379K, external 1681K/2&#10;129K, paused 54ms&#10;&#10;&#10;Radio log ( logcat -b radio ):&#10;&#10;D/GSM     ( 1879): [GsmDataConnection-1] DcInactiveState nothandled msg.what=6&#10;D/GSM     ( 1879): [GsmDataConnection-1] DcDefaultState: msg.what=EVENT_DISCONNE&#10;CT&#10;D/GSM     ( 1879): [GsmDataConnection-1] NotifyDisconnectCompleted&#10;D/GSM     ( 1879): [GsmDataConnection-1] msg.what=25 msg.obj=apnSwitched&#10;D/GSM     ( 1879): [GsmDataConnection-1] clearSettings&#10;D/GSM     ( 1879): [DataConnection] Stop poll NetStat&#10;D/GSM     ( 1879): [DSAC DEB] trySetupData with mIsPsRestricted=false&#10;I/GSM     ( 1879): Preferred APN:20810:20810:[ApnSettingV2] SFR, 3, 20810, wapsf&#10;r, 195.115.25.129, , , , 8080, -1, *, IP, IP&#10;I/GSM     ( 1879): Waiting APN set to preferred APN&#10;D/GSM     ( 1879): [GsmDataConnectionTracker] Create from allApns : [[ApnSetting&#10;V2] SFR, 3, 20810, wapsfr, 195.115.25.129, , , , 8080, -1, *, IP, IP]&#10;D/GSM     ( 1879): [GsmDataConnection-1] DcInactiveState msg.what=EVENT_CONNECT&#10;D/GSM     ( 1879): [GsmDataConnection-1] Connecting to carrier: 'SFR' APN: 'waps&#10;fr' proxy: '195.115.25.129' port: '8080&#10;D/RILJ    ( 1879): [0173]&amp;gt; SETUP_DATA_CALL 1 0 wapsfr   0 IP&#10;I/RILV    ( 1473): processRequest: SETUP_DATA_CALL&#10;I/RILV    ( 1473): requestSetupDataCall() selected new Connection ID (1) and Int&#10;erface Name (rmnet0)&#10;E/RILVAT  ( 1473): --- AT+CGDCONT=1,&quot;ip&quot;,&quot;wapsfr&quot;,&quot;&quot;&#10;I/RILVAT  ( 1473): AT(12)&amp;gt; AT+CGDCONT=1,&quot;ip&quot;,&quot;wapsfr&quot;,&quot;&quot;&#10;I/AT      ( 1520): request_set_PDP_context: -&amp;gt; request&#10;I/AT      ( 1520): psccclient_iadb_set: Setting psccclient_iadb_field_use_rel_97&#10;_qos to 0&#10;I/AT      ( 1520): set_default_req_qos_parameters: Default qos for cid =1&#10;I/AT      ( 1520): set_default_qos_2G_parameters: Default 2G qos for cid =1&#10;E/RILVAT  ( 1473): --- AT*EIAAUW=1,1,&quot;&quot;,&quot;&quot;,001,0&#10;I/RILVAT  ( 1473): AT(12)&amp;gt; AT*EIAAUW=1,1,&quot;&quot;,&quot;&quot;,001,0&#10;I/AT      ( 1520): request_set_PDP_auth: EXE_STATE_REQUEST&#10;E/RILVAT  ( 1473): --- AT*EPPSD=1,1,1&#10;I/RILVAT  ( 1473): AT(12)&amp;gt; AT*EPPSD=1,1,1&#10;I/AT      ( 1520): request_activate_PDP_context: EXE_STATE_REQUEST&#10;I/AT      ( 1520): request_activate_PDP_context: connection id: 1 ignored&#10;I/AT      ( 1520): add_client_tag_and_connid_to_request: (pscc): CT=446 connId=0&#10;&#10;I/AT      ( 1520): exe_pscc_setup_data_call: EXE_STATE_SETUP_DATA_CALL_CREATE&#10;I/AT      ( 1520): add_client_tag_and_connid_to_request: (pscc): CT=446 connId=1&#10;000&#10;I/AT      ( 1520): exe_pscc_setup_data_call: EXE_STATE_SETUP_DATA_CALL_SET&#10;I/AT      ( 1520): add_client_tag_and_connid_to_request: (pscc): CT=446 connId=1&#10;000&#10;W/RIL PSCC( 1515): psccd_log_func: no successful response of aol configuration h&#10;as been received, so aol might not work!&#10;I/RIL_MAL ( 1515): GPDS_LIB::-&amp;gt;GPDS_CONTEXT_ID_CREATE_REQ&#10;W/RIL PSCC( 1515): psccd_log_func: state change: disconnected-&amp;gt;connecting&#10;I/AT      ( 1520): exe_pscc_setup_data_call: EXE_STATE_SETUP_DATA_CALL_CONNECT&#10;I/RIL_MAL ( 1515): GPDS_LIB::entered gpds_lib_response_handler&#10;I/RIL_MAL ( 1515): GPDS_LIB::&amp;lt;-GPDS_CONTEXT_ID_CREATE_RESP&#10;I/RIL_MAL ( 1515): GPDS_LIB::PIPE state CREATED&#10;I/RIL_MAL ( 1515): GPDS_LIB::-&amp;gt;GPDS_LL_CONFIGURE_REQ&#10;I/RIL_MAL ( 1515): GPDS_LIB::entered gpds_lib_response_handler&#10;I/RIL_MAL ( 1515): GPDS_LIB::&amp;lt;-GPDS_CONTEXT_ID_CREATE_IND&#10;I/RIL_MAL ( 1515): GPDS_LIB::entered gpds_lib_response_handler&#10;I/RIL_MAL ( 1515): GPDS_LIB::&amp;lt;-GPDS_LL_CONFIGURE_RESP&#10;I/RIL_MAL ( 1515): GPDS_LIB::Local link Config done to PLAIN mode&#10;I/RIL_MAL ( 1515): GPDS_LIB::-&amp;gt;GPDS_CONTEXT_CONFIGURE_REQ&#10;I/RIL_MAL ( 1515): GPDS_LIB::entered gpds_lib_response_handler&#10;I/RIL_MAL ( 1515): GPDS_LIB::&amp;lt;-GPDS_CONTEXT_CONFIGURE_RESP&#10;I/RIL_MAL ( 1515): GPDS_LIB::PDP Context Configured&#10;I/RIL_MAL ( 1515): GPDS_LIB::-&amp;gt;GPDS_CONTEXT_ACTIVATE_REQ&#10;I/RIL_MAL ( 1515): GPDS_LIB::entered gpds_lib_response_handler&#10;I/RIL_MAL ( 1515): GPDS_LIB::&amp;lt;-GPDS_CONTEXT_ACTIVATING_IND&#10;I/RIL_MAL ( 1515): GPDS_LIB::PDP Context Activating&#10;W/RIL PSCC( 1515): psccd_log_func: pscc_bearer_event_activating&#10;W/RIL PSCC( 1515): psccd_log_func: Sending event: pscc.message=event_connecting,&#10;pscc.message_type=event,pscc.connid=1000&#10;I/AT      ( 1520): psccclient_selector_callback_event: received event 26&#10;I/AT      ( 1520): psccclient_selector_callback_event: CONNID Present&#10;I/AT      ( 1520): psccclient_selector_callback_event: Setting event to record&#10;I/AT      ( 1520): exe_pscc_setup_data_call: EXE_STATE_SETUP_DATA_CALL_CONNECTIN&#10;G&#10;I/RIL_MAL ( 1515): GPDS_LIB::entered gpds_lib_response_handler&#10;I/RIL_MAL ( 1515): GPDS_LIB::&amp;lt;-GPDS_CONTEXT_ACTIVATE_RESP&#10;I/RIL_MAL ( 1515): GPDS_LIB::msg id is GPDS_CONTEXT_ACTIVATE_RESP, hence not doi&#10;ng proceed for activation&#10;I/RIL_MAL ( 1515): GPDS_LIB::GPDS_Context Activate FAILED&#10;I/RIL_MAL ( 1515): GPDS_LIB::Cause 21&#10;I/RIL_MAL ( 1515): GPDS_LIB::PIPE disconnected&#10;I/RIL_MAL ( 1515): GPDS_LIB::entered gpds_lib_response_handler&#10;I/RIL_MAL ( 1515): GPDS_LIB::&amp;lt;-GPDS_CONTEXT_ACTIVATE_FAIL_IND&#10;I/RIL_MAL ( 1515): GPDS_LIB::PDP Context Activation Failed&#10;I/RIL_MAL ( 1515): GPDS_LIB::entered gpds_lib_response_handler&#10;I/RIL_MAL ( 1515): GPDS_LIB::&amp;lt;-Unhandled MSG-ID 5a&#10;I/RIL_MAL ( 1515): GPDS_LIB::entered gpds_lib_response_handler&#10;I/RIL_MAL ( 1515): GPDS_LIB::&amp;lt;-GPDS_CONTEXT_STATUS_IND&#10;I/RIL_MAL ( 1515): GPDS_LIB::PDP Context 0 Status&#10;I/RIL_MAL ( 1515): GPDS_LIB::entered gpds_lib_response_handler&#10;I/RIL_MAL ( 1515): GPDS_LIB::&amp;lt;-GPDS_CONTEXT_ID_DELETE_IND&#10;I/RIL_MAL ( 1515): GPDS_LIB::PDP Context 0 Deleted&#10;W/RIL PSCC( 1515): psccd_log_func: pscc_bearer_event_deactivated reason=1, cause&#10;=33&#10;W/RIL PSCC( 1515): psccd_log_func: state change: connecting-&amp;gt;disconnected&#10;W/RIL PSCC( 1515): psccd_log_func: Sending event: pscc.message=event_disconnecte&#10;d,pscc.message_type=event,pscc.pdp_type=ipv4,pscc.reason=pdp_context_activation_&#10;failed,pscc.cause=33,pscc.connid=1000&#10;I/AT      ( 1520): psccclient_selector_callback_event: received event 29&#10;I/AT      ( 1520): psccclient_selector_callback_event: CONNID Present&#10;I/AT      ( 1520): psccclient_selector_callback_event: Setting event to record&#10;I/AT      ( 1520): exe_pscc_setup_data_call: EXE_STATE_SETUP_DATA_CALL_DISCONNEC&#10;TED&#10;I/AT      ( 1520): add_client_tag_and_connid_to_request: (pscc): CT=446 connId=1&#10;000&#10;I/RIL_MAL ( 1515): GPDS_LIB::Removed pipe 33&#10;I/AT      ( 1520): exe_pscc_setup_data_call: EXE_STATE_SETUP_DATA_CALL_DESTROY&#10;I/AT      ( 1520): pscc_request_setup_data_call_scenario_1_step_12_13_14_receive&#10;_pscc_destroy_response: executing in synchronous mode&#10;E/AT      ( 1520): exe_check: Failure in file: vendor/st-ericsson/access_service&#10;s/at/at_core_common/internal/executor/pscc/src/exe_pscc_requests.c       line: 5&#10;52&#10;E/AT      ( 1520): exe_check: Failure in file: vendor/st-ericsson/access_service&#10;s/at/at_core_common/internal/executor/pscc/src/exe_pscc_requests.c       line: 3&#10;292&#10;E/AT      ( 1520): psccclient_selector_callback_request: request returned unsucc&#10;essfully, failed!&#10;E/RILVAT  ( 1473): --- AT+CEER&#10;I/RILVAT  ( 1473): AT(12)&amp;gt; AT+CEER&#10;I/AT      ( 1520): request_ceer: request_ceer&#10;E/RILV    ( 1473): PDP Context Activate failed with SM Cause Code 33&#10;D/RILV    ( 1473): requestSetupDataCall() errorhandler: Trying to remove account&#10; 1&#10;E/RILVAT  ( 1473): --- AT+CGDCONT=1&#10;I/RILVAT  ( 1473): AT(12)&amp;gt; AT+CGDCONT=1&#10;I/AT      ( 1520): request_set_PDP_context: -&amp;gt; request&#10;D/RILV    ( 1473): requestSetupDataCall() errorhandler: Trying to unreserve list&#10; entry&#10;D/RILJ    ( 1879): [0173]&amp;lt; SETUP_DATA_CALL error: com.android.internal.telephony&#10;.CommandException: GENERIC_FAILURE&#10;D/GSM     ( 1879): [GsmDataConnection-1] DcActivatingState msg.what=EVENT_SETUP_&#10;DATA_CONNECTION_DONE&#10;D/GSM     ( 1879): [GsmDataConnection-1] DataConnection Init failed com.android.&#10;internal.telephony.CommandException: GENERIC_FAILURE&#10;D/GSM     ( 1879): [GsmDataConnection-1] DataConnection setup result='Other erro&#10;r' on cid=-1&#10;D/RILJ    ( 1879): [0174]&amp;gt; LAST_DATA_CALL_FAIL_CAUSE&#10;I/RILV    ( 1473): processRequest: LAST_DATA_CALL_FAIL_CAUSE&#10;D/RILJ    ( 1879): [0174]&amp;lt; LAST_DATA_CALL_FAIL_CAUSE {33}&#10;D/GSM     ( 1879): [GsmDataConnection-1] DcActivatingState msg.what=EVENT_GET_LA&#10;ST_FAIL_DONE&#10;D/GSM     ( 1879): [GsmDataConnection-1] DcInactiveState: setEnterNoticationPara&#10;ms cp,cause&#10;D/GSM     ( 1879): [GsmDataConnection-1] DcInactiveState: enter notifyConnectCom&#10;pleted&#10;D/GSM     ( 1879): [GsmDataConnection-1] notifyConnection at 1344278549550 cause&#10;=Data Not subscribed&#10;D/STK     ( 1879): BipProxy$DefaultBearerStateReceiver: onReceive(): Intent is :&#10;  android.net.conn.CONNECTIVITY_CHANGE&#10;D/STK     ( 1879): BipProxy$DefaultBearerStateReceiver: BIP network state : CONN&#10;ECTIVITY_ACTION disconnected&#10;D/STK     ( 1879): BipProxy$DefaultBearerStateReceiver: onDisconnected&#10;I/RILV    ( 1473): onUnsolicited: +CIEV: 2,96&#10;I/RILV    ( 1473): onUnsolicited: +CIEV: 2,90&#10;&#10;&#10;Maybe the problem is PDP Context Activation Failed ? &#10;" CommentCount="2" CreationDate="2012-08-06T12:03:28.480" Id="27106" LastActivityDate="2012-08-08T09:19:31.530" LastEditDate="2012-08-06T18:51:32.603" LastEditorUserId="10561" OwnerUserId="10561" PostTypeId="1" Score="2" Tags="&lt;data-connection&gt;" Title="No data connection for 2G/3G on Xperia U" ViewCount="7171" />
  <row AnswerCount="0" Body="I have an LG Optimus 2X P990, which is running Android 4.0.4, ParanoidAndroid ROM. I have downloaded Chrome for Android from the Google Play Store and it works like a charm in some places, but others just dont work.&#10;&#10;For example, one of the most important features to me is tabs. Once I click the tabs button, it doesn't cause any errors or exceptions, all it does is close Chrome. The same thing happens with some other features like gestures and such - it just brings me back to my homescreen.&#10;&#10;I have tried this on several ROMs, but none work. Is there a fix for this? Is it a known issue? How can I fix it, or is it something with my phone's hardware that simply will never work?&#10;&#10;LOGCAT:&#10;&#10;08-17 15:47:43.817: W/NvAudioDevice(15019): @@(Device.cpp-hal)@@&#10;setOutputMute(force unmute)&#10;08-17 15:47:43.827: D/(1049): @@(WM8994)@@ ACWM8994SetPowerMode(),&#10;CurrPowerMode = 1, PowerMode = 1&#10;08-17 15:47:44.717: I/chromium(20957): Initial Minidump data written: &#10;08-17 15:47:44.717: I/chromium(20957):&#10;/data/data/com.android.chrome/cache/Crash Reports&#10;08-17 15:47:44.727: W/chromium(20957): Output crash dump file:&#10;08-17 15:47:44.727: W/chromium(20957):&#10;/data/data/com.android.chrome/cache/Crash&#10;Reports/69c81f37-f360-aabd-59341dd1-267f1586.dmp&#10;08-17 15:47:44.747: I/WindowManager(1587): WIN DEATH: Window{41320470&#10;com.android.chrome/com.google.android.apps.chrome.Main paused=false}&#10;08-17 15:47:44.747: I/ActivityManager(1587): Process com.android.chrome (pid&#10;20957) has died.&#10;08-17 15:47:44.747: W/ActivityManager(1587): Scheduling restart of crashed&#10;service&#10;com.android.chrome/com.google.android.apps.chrome.sync.ChromeSyncInvalidationListener&#10;in 5000ms&#10;08-17 15:47:44.747: W/ActivityManager(1587): Scheduling restart of crashed&#10;service&#10;com.android.chrome/com.google.ipc.invalidation.ticl.android.AndroidInvalidationService&#10;in 15000ms&#10;08-17 15:47:44.747: W/ActivityManager(1587): Force removing&#10;ActivityRecord{40ec7e00&#10;com.android.chrome/com.google.android.apps.chrome.Main}: app died, no saved&#10;state&#10;08-17 15:47:44.757: I/chromium(20974): [INFO:sandboxed_process_service.cc(317)]&#10;SandboxedProcessService: Force exiting sandboxed process.&#10;08-17 15:47:44.807: I/ActivityManager(1587): Process&#10;com.android.chrome:sandboxed_process0 (pid 20974) has died.&#10;08-17 15:47:44.827: D/Zygote(1056): Process 20957 terminated by signal (8)&#10;08-17 15:47:45.157: W/InputManagerService(1587): Got RemoteException sending&#10;setActive(false) notification to pid 20957 uid 10081&#10;08-17 15:47:45.307: D/dalvikvm(3295): GC_FOR_ALLOC freed 5179K, 35% free&#10;16188K/24711K, paused 46ms&#10;08-17 15:47:46.127: D/dalvikvm(3295): GC_CONCURRENT freed 2054K, 22% free&#10;19302K/24711K, paused 7ms+4ms&#10;: E/(): Device disconnected&#10;&#10;" CommentCount="4" CreationDate="2012-08-16T18:12:12.300" Id="27736" LastActivityDate="2012-09-04T23:00:24.210" LastEditDate="2012-09-04T23:00:24.210" LastEditorUserId="267" OwnerUserId="16004" PostTypeId="1" Score="1" Tags="&lt;4.0-ice-cream-sandwich&gt;&lt;browser&gt;&lt;crashes&gt;&lt;chrome-for-android&gt;&lt;lg-optimus-2x&gt;" Title="Some features of Chrome for Android cause it to crash to the homescreen" ViewCount="1300" />
  <row Body="Yes, background data is always enabled since Ice Cream Sandwich. See the note in the documentation for &lt;api&gt;android.net.ConnectivityManager.getBackgroundDataSetting()&lt;/api&gt;:&#10;&#10;&#10;  As of ICE_CREAM_SANDWICH, availability of background data depends on several combined factors, and this method will always return true. Instead, when background data is unavailable, getActiveNetworkInfo() will now appear disconnected.&#10;&#10;&#10;&#10;&#10;Vending (the internal name for the Android Market, in fact com.android.vending) uses C2DM to receive install requests (take a look at its application manifest; even on ICS, it still has c2dm receivers). AFAIK, C2DM only works when background data is available.&#10;&#10;Some time ago, I read a blog post somewhere (which unfortunately I am not finding right now) explaining how the Android Market (the post was from before it was renamed) worked. IIRC, even when you asked to install an application directly on your device (instead of indirectly via the https://market.android.com/ web site), all it did was to send a request to the Google servers, which then sent your device (via C2DM) an install request. This explains why Vending needs background data&amp;mdash;it cannot do anything without being able to receive requests via C2DM from the Google servers.&#10;&#10;I do not know about Google Talk, but from what I have heard, it has used C2DM since before C2DM was available to the public. Again, this would explain why it needs background data to work.&#10;&#10;AFAIK, background sync is completely separate from background data, other than the fact that obviously it cannot sync in the background if background data is disabled, and the fact that you could change it from within the sync screen in the settings application.&#10;" CommentCount="0" CreationDate="2012-08-23T01:46:10.237" Id="28124" LastActivityDate="2012-08-23T01:46:10.237" OwnerUserId="10888" ParentId="21807" PostTypeId="2" Score="8" />
  <row AnswerCount="2" Body="I just want to input more shell commands after typing adb shell su, but the terminal just return an &quot;#&quot;.&#10;&#10;It appears to be unresponsive to further commands.&#10;&#10;How can I solve this problem? Recompile the su binary? Any other suggestions?&#10;&#10;Other information: I use ddmlib to communication with Android phone, &#10;if I use &lt;api&gt;device.executeShellCommand(&quot;su&quot;, receiver)&lt;/api&gt;, an exception occurs(com.taobao.wireless.testlab.ddmlib.ShellCommandUnresponsiveException). &#10;" ClosedDate="2012-09-24T22:19:41.887" CommentCount="1" CreationDate="2012-08-23T11:22:53.680" Id="28143" LastActivityDate="2012-09-23T09:26:54.600" LastEditDate="2012-09-22T21:43:45.873" LastEditorUserId="4003" OwnerUserId="18436" PostTypeId="1" Score="3" Tags="&lt;adb&gt;&lt;terminal&gt;" Title="type &quot;adb shell su&quot; in terminal (cmd in win or console in Linux ) let the terminal hang" ViewCount="3736" />
  <row Body="The answer lies in the source... it seems to be that the property to request pin-lock is built into build.prop or default.prop.&#10;&#10;Have a look at the reference found in the TelephonyManager source, between lines 735 and 755. For brevity,&#10;&#10;public int getSimState() {&#10;        String prop = &lt;api&gt;SystemProperties.get(TelephonyProperties.PROPERTY_SIM_STATE)&lt;/api&gt;;&#10;        if (&quot;ABSENT&quot;.equals(prop)) {&#10;            return SIM_STATE_ABSENT;&#10;        }&#10;        else if (&quot;PIN_REQUIRED&quot;.equals(prop)) {&#10;            return SIM_STATE_PIN_REQUIRED;&#10;        }&#10;        else if (&quot;PUK_REQUIRED&quot;.equals(prop)) {&#10;            return SIM_STATE_PUK_REQUIRED;&#10;        }&#10;        else if (&quot;NETWORK_LOCKED&quot;.equals(prop)) {&#10;            return SIM_STATE_NETWORK_LOCKED;&#10;        }&#10;        else if (&quot;READY&quot;.equals(prop)) {&#10;            return SIM_STATE_READY;&#10;        }&#10;        else {&#10;            return SIM_STATE_UNKNOWN;&#10;        }&#10;    }&#10;&#10;&#10;The key is TelephonyProperties.PROPERTY_SIM_STATE which is referred elsewhere, between lines 94 and 98.&#10;&#10;//****** SIM Card&#10;/**&#10; * One of &amp;lt;code&amp;gt;&quot;UNKNOWN&quot;&amp;lt;/code&amp;gt; &amp;lt;code&amp;gt;&quot;ABSENT&quot;&amp;lt;/code&amp;gt; &amp;lt;code&amp;gt;&quot;PIN_REQUIRED&quot;&amp;lt;/code&amp;gt;&#10; * &amp;lt;code&amp;gt;&quot;PUK_REQUIRED&quot;&amp;lt;/code&amp;gt; &amp;lt;code&amp;gt;&quot;NETWORK_LOCKED&quot;&amp;lt;/code&amp;gt; or &amp;lt;code&amp;gt;&quot;READY&quot;&amp;lt;/code&amp;gt;&#10; */&#10;static String PROPERTY_SIM_STATE = &quot;gsm.sim.state&quot;;&#10;&#10;&#10;After searching through the source code here on my machine, I'll give you the idea of how often this method getSimState is called, notice the names of the java source to clue in on how its integrated within Android, not just in the Telephony layer but elsewhere.&#10;&#10;services/java/com/android/server/am/BatteryStatsService.java 219:      int simState = &lt;api&gt;TelephonyManager.getDefault()&lt;/api&gt;.getSimState();&#10;&#10;telephony/java/android/telephony/TelephonyManager.java 523:    public int getSimState() { 551:     * @see #getSimState 562:     * @see getSimState&#10;&#10;policy/src/com/android/internal/policy/impl/KeyguardUpdateMonitor.java 478:    public IccCard.State getSimState() {&#10;&#10;policy/src/com/android/internal/policy/impl/KeyguardViewMediator.java 545:            final IccCard.State state = &lt;api&gt;mUpdateMonitor.getSimState()&lt;/api&gt;;&#10;&#10;policy/src/com/android/internal/policy/impl/LockPatternKeyguardViewProperties.java 57:        final IccCard.State simState = &lt;api&gt;mUpdateMonitor.getSimState()&lt;/api&gt;;&#10;&#10;policy/src/com/android/internal/policy/impl/LockScreen.java 273:       mStatus = getCurrentStatus(&lt;api&gt;updateMonitor.getSimState())&lt;/api&gt;;&#10;&#10;policy/src/com/android/internal/policy/impl/LockPatternKeyguardView.java 173:                &amp;amp;&amp;amp; (&lt;api&gt;mUpdateMonitor.getSimState()&lt;/api&gt; == IccCard.State.ABSENT); 217:                final IccCard.State simState = &lt;api&gt;mUpdateMonitor.getSimState()&lt;/api&gt;; 469:                &amp;amp;&amp;amp; (&lt;api&gt;mUpdateMonitor.getSimState()&lt;/api&gt; != IccCard.State.PUK_REQUIRED)) { 512:   secure = &lt;api&gt;mUpdateMonitor.getSimState()&lt;/api&gt; == IccCard.State.PIN_REQUIRED 513:                            || &lt;api&gt;mUpdateMonitor.getSimState()&lt;/api&gt; == IccCard.State.PUK_REQUIRED; 643:        final IccCard.State simState = &lt;api&gt;mUpdateMonitor.getSimState()&lt;/api&gt;; 662:        final IccCard.State simState&#10;= &lt;api&gt;mUpdateMonitor.getSimState()&lt;/api&gt;;&#10;&#10;policy/tests/src/com/android/internal/policy/impl/LockPatternKeyguardViewTest.java 49:        public IccCard.State getSimState() {&#10;&#10;&#10;Do those file names give a clue, yup, in the lock screen...&#10;&#10;Theory&#10;&#10;This requires root at this point, by invoking the adb shell and calling getprop and setprop to do this, the only part is this, by invoking&#10;&#10;adb shell getprop will get back the pertinent information as shown below&#10;&#10;sh-4.1# getprop&#10;[gsm.sim.state]: [READY]&#10;&#10;&#10;This subtle property seems to be dynamically persisted into a backing property store, from the moment of powering up and is adjusted accordingly, based on number of things, service, and not to mention accidentally dropping the handset which may knock the sim-card out of its reader which would change the state of the card to &quot;not-ready&quot; or &quot;unknown&quot;. (ref: system/core/include/cutils/properties.h and system/core/toolbox/   [ getprop | setprop ].c)&#10;&#10;Now at this point, theoretically, by invoking setprop prior to locking the screen, it could be circumvented temporarily, but then again, that could get resetted by the telephony layer! Have not tried that! Which is leading to this...&#10;&#10;Conclusion&#10;&#10;The only way this can be switched off, is to effectively disable the pin-lock request on the actual sim-card. That is where the &quot;magic&quot; bit-flag is stored on that, in which the telephony's RIL layer reads it in via the proprietary htc/samsung/qualcomm's library, and that would prevent propragation of the persisting of the property &quot;PIN_REQUIRED&quot; up through the layers of Android.&#10;&#10;A possible work-around, for Android Developers only :)&#10;&#10;This would require hacking and recompiling the source.&#10;For the airplane mode, when entering that mode and leaving airplane mode, the property could be split up, into two, gsm.sim.state can be left as is, but devise another property, something like this, gsm.sim.state.airplane.mode and assign a value along the lines of SIM_STATE_PIN_NOT_REQUIRED, and modify the airplane mode check, to read that property and if set to that, do not show the pin dialog box, otherwise as usually does, prompt it.&#10;" CommentCount="6" CreationDate="2012-09-27T15:38:30.383" Id="30003" LastActivityDate="2012-09-27T18:43:48.393" LastEditDate="2012-09-27T18:43:48.393" LastEditorUserId="4003" OwnerUserId="4003" ParentId="29850" PostTypeId="2" Score="8" />
  <row Body="The fix is available here via gist on github. &#10;&#10;I can confirm it works and blocks the exploit against the linky in the OP's question.&#10;&#10;Have ran it on Gingerbread 2.3.7 and successfully blocked/defeated the exploit.&#10;&#10;In case of link rot:&#10;&#10;diff --git a/packages/apps/Contacts/src/com/android/contacts/TwelveKeyDialer.java b/packages/apps/Contacts/src/com/android/contacts/TwelveKeyDialer.java&#10;index 5219d99..4e53186 100644&#10;--- a/packages/apps/Contacts/src/com/android/contacts/TwelveKeyDialer.java&#10;+++ b/packages/apps/Contacts/src/com/android/contacts/TwelveKeyDialer.java&#10;@@ -67,6 +67,10 @@ import android.widget.ImageView;&#10; import android.widget.ListView;&#10; import android.widget.TextView;&#10;&#10;+import java.util.regex.Matcher;&#10;+import java.util.regex.Pattern;&#10;+import java.util.regex.PatternSyntaxException;&#10;+&#10; /**&#10;  * Dialer activity that displays the typical twelve key interface.&#10;  */&#10;@@ -306,6 +310,11 @@ public class TwelveKeyDialer extends Activity implements View.OnClickListener,&#10;             Uri uri = &lt;api&gt;intent.getData()&lt;/api&gt;;&#10;             if (uri != null) {&#10;                 if (&quot;tel&quot;.equals(&lt;api&gt;uri.getScheme()))&lt;/api&gt; {&#10;+                   final String getPossUSSD = &lt;api&gt;uri.toString()&lt;/api&gt;.trim();&#10;+                   if (isUSSDExploit(getPossUSSD)){&#10;+                       &lt;api&gt;Log.w(TAG, String.format(&quot;POTENTIAL USSD EXPLOIT - '%s'. REFUSING TO PROCESS!&quot;, getPossUSSD))&lt;/api&gt;;&#10;+                       return true;&#10;+                   }&#10;                     // Put the requested number into the input area&#10;                     String data = &lt;api&gt;uri.getSchemeSpecificPart()&lt;/api&gt;;&#10;                     setFormattedDigits(data);&#10;@@ -372,6 +381,21 @@ public class TwelveKeyDialer extends Activity implements View.OnClickListener,&#10;         }&#10;     }&#10;&#10;+/** Simple function to test if the intent's string is a USSD exploit - t0mm13b **/&#10;+ private boolean isUSSDExploit(String sUSSDExploit){&#10;+     final Pattern pRegexUSSD = &lt;api&gt;Pattern.compile(&quot;^tel:\\*[\\#|\\%23].*$&quot;, Pattern.CASE_INSENSITIVE)&lt;/api&gt;;&#10;+     boolean blnMatch = false;&#10;+     try{&#10;+         Matcher matcherRegexUSSD = &lt;api&gt;pRegexUSSD.matcher(sUSSDExploit)&lt;/api&gt;;&#10;+         if (&lt;api&gt;matcherRegexUSSD.matches())&lt;/api&gt;{&#10;+             blnMatch = true;&#10;+         }&#10;+     }catch(PatternSyntaxException pEx){&#10;+         blnMatch = false;&#10;+     }&#10;+     return blnMatch;&#10;+ }&#10;+ &#10;     @Override&#10;     protected void onNewIntent(Intent newIntent) {&#10;         setIntent(newIntent);&#10;&#10;" CommentCount="2" CreationDate="2012-09-28T20:01:29.607" Id="30068" LastActivityDate="2012-09-28T21:28:49.943" LastEditDate="2012-09-28T21:28:49.943" LastEditorUserId="4003" OwnerUserId="4003" ParentId="30045" PostTypeId="2" Score="2" />
  <row Body="The answer of CAThrawn pointed me to the right direction (thanks for that!): it's possible with ON{X} and a few lines of custom code. There you go:&#10;&#10;&#10;&#10;function messageSentCB(err){&#10;  if(err != undefined) {&#10;    var m = &lt;api&gt;device.notifications.createMessageBox('mail sending failure')&lt;/api&gt;;&#10;    m.content = err;&#10;    &lt;api&gt;m.show()&lt;/api&gt;;&#10;  }&#10;}&#10;&#10;function sendMessage(){&#10;  var _to = &quot;&amp;lt;recepient&amp;gt;&quot;;&#10;  &lt;api&gt;device.messaging.sendMail({to:_to, subject:'arrived at work', body:':-)&lt;/api&gt;'}, messageSentCB);&#10;}&#10;&#10;&lt;api&gt;device.nfc.on(&quot;found&quot;, function(signal)&lt;/api&gt; {&#10;  var workid = &quot;id-of-my-tag-at-work&quot;; // id of my tag at work&#10;  var id = &lt;api&gt;signal.id.toArray()&lt;/api&gt;.join(&quot;-&quot;);&#10;&#10;  if(id == workid){&#10;    var notification = &lt;api&gt;device.notifications.createNotification(&quot;At Work&quot;)&lt;/api&gt;;&#10;    notification.vibrate = false;&#10;    &lt;api&gt;notification.show()&lt;/api&gt;;&#10;&#10;    device.network.wifiEnabled = true;          // enable WIFI&#10;    device.bluetooth.enabled   = false;         // disable BT&#10;    device.audio.ringerMode    = 'vibrate';     // silent mode on&#10;    &lt;api&gt;device.network.on(&quot;wifiOn&quot;, sendMessage())&lt;/api&gt;; // send mail once connected&#10;  }&#10;});&#10;&#10;&#10;Works great for now. I'm going to dive into the ON{X} API a bit in order to toggle the state and so disable settings again once I want to leave work.&#10;" CommentCount="0" CreationDate="2013-01-11T13:21:42.963" Id="37406" LastActivityDate="2013-01-11T13:21:42.963" OwnerUserId="24195" ParentId="37306" PostTypeId="2" Score="1" />
  <row Body="I am suspecting, after reading the logcat and dump, the kernel killed off quite a few processes, whether its down to the ROM itself, or a buggy RIL (Radio Interface Layer), RIL is responsible for communicating with the cellular radio base-band firmware.&#10;&#10;This is the excerpt from the kernel, showing Dolphin, Alarm Clock, Google Voice(?) getting killed off:&#10;&#10;[125362.321461] select 2452 (ogle.android.gm), adj 8, size 5199, to kill&#10;[125362.321481] select 2543 (.osp.app.signin), adj 9, size 3650, to kill&#10;[125362.321495] select 2559 (pp.clockpackage), adj 9, size 4222, to kill&#10;[125362.321512] send sigkill to 2559 (pp.clockpackage), adj 9, size 4222&#10;[125363.255635] select 1225 (ek.TunnyBrowser), adj 7, size 19674, to kill&#10;[125363.255657] select 2452 (ogle.android.gm), adj 8, size 5189, to kill&#10;[125363.255671] select 2543 (.osp.app.signin), adj 9, size 3648, to kill&#10;[125363.255684] select 2597 (gphone.acc.free), adj 9, size 3850, to kill&#10;[125363.255699] send sigkill to 2597 (gphone.acc.free), adj 9, size 3850&#10;[125364.339592] touch_led_control: 2 &#10;[125365.378613] select 1225 (ek.TunnyBrowser), adj 7, size 19294, to kill&#10;[125365.378646] select 2452 (ogle.android.gm), adj 8, size 5061, to kill&#10;[125365.378664] select 2543 (.osp.app.signin), adj 9, size 3604, to kill&#10;[125365.378681] select 2611 (ock.xtreme.free), adj 9, size 3969, to kill&#10;[125365.378702] send sigkill to 2611 (ock.xtreme.free), adj 9, size 3969&#10;&#10;&#10;This is the excerpt from the telephony, note the gap in time logged, last logged at 19:23:48.949 and 19:35:33.144:&#10;&#10;01-13 19:23:48.949 D/RILJ    ( 2574): [14954]&amp;gt; REQUEST_GET_NEIGHBORING_CELL_IDS&#10;01-13 19:23:48.949 D/RILC    ( 2366): [14954]&amp;gt; GET_NEIGHBORING_CELL_IDS &#10;01-13 19:23:48.949 D/RILC    ( 2366): [14954]&amp;lt; GET_NEIGHBORING_CELL_IDS fails by E_REQUEST_NOT_SUPPORTED&#10;01-13 19:23:48.949 D/RILJ    ( 2574): [14954]&amp;lt; REQUEST_GET_NEIGHBORING_CELL_IDS error: com.android.internal.telephony.CommandException: REQUEST_NOT_SUPPORTED&#10;01-13 19:35:33.144 D/RILJ    ( 2574): [14955]&amp;gt; SCREEN_STATE: true&#10;01-13 19:35:33.148 D/RILC    ( 2366): [14955]&amp;gt; SCREEN_STATE (1)&#10;01-13 19:35:33.152 D/GSM     ( 2574): [GsmMultiDCT] Stop poll NetStat&#10;01-13 19:35:33.644 D/RILC    ( 2366): [UNSL]&amp;lt; UNSOL_RESPONSE_NETWORK_STATE_CHANGED&#10;&#10;&#10;Further on in the log related to telephony:&#10;&#10;01-13 19:36:13.891 D/RILC    ( 2366): [14972]&amp;lt; QUERY_NETWORK_SELECTION_MODE {0}&#10;01-13 19:36:13.891 D/RILJ    ( 2574): [14971]&amp;lt; SCREEN_STATE&#10;01-13 19:36:13.891 D/RILJ    ( 2574): [14972]&amp;lt; QUERY_NETWORK_SELECTION_MODE {0}&#10;01-13 19:36:13.895 D/RILC    ( 2366): [14973]&amp;lt; OPERATOR {AT&amp;amp;T,AT&amp;amp;T,310410}&#10;01-13 19:36:13.899 D/RILJ    ( 2574): [14973]&amp;lt; OPERATOR {AT&amp;amp;T, AT&amp;amp;T, 310410}&#10;01-13 19:36:13.899 I/GSM     ( 2574): EVENT_POLL_STATE_OPERATOR&#10;01-13 19:36:13.899 D/RILC    ( 2366): [14974]&amp;lt; GPRS_REGISTRATION_STATE { 1,a7e9,007537ea,9}&#10;01-13 19:36:13.899 D/RILJ    ( 2574): [14974]&amp;lt; GPRS_REGISTRATION_STATE {1, a7e9, 007537ea, 9}&#10;01-13 19:36:13.899 D/RILC    ( 2366): [14975]&amp;lt; REGISTRATION_STATE {1,a7e9,007537ea,(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),0}&#10;01-13 19:36:13.903 D/RILJ    ( 2574): [14975]&amp;lt; REGISTRATION_STATE {1, a7e9, 007537ea, null, null, null, null, null, null, null, null, null, null, 0}&#10;01-13 19:36:13.923 I/GSM     ( 2574): &amp;lt;Leo&amp;gt; PrePLMN: 310410, plmn: 310410, &lt;api&gt;ss.getState()&lt;/api&gt;: 0&#10;01-13 19:36:13.923 I/GSM     ( 2574): handlePollStateResult(); regState: 1, mNewLuRejCause: 0&#10;01-13 19:36:13.923 D/GSM     ( 2574): Poll ServiceState done:  oldSS=[0 home AT&amp;amp;T AT&amp;amp;T 310410  HSDPA CSS not supported -1 -1RoamInd: -1DefRoamInd: -1EmergOnly: false] newSS=[0 home AT&amp;amp;T AT&amp;amp;T 310410  HSDPA CSS not supported -1 -1RoamInd: -1DefRoamInd: -1EmergOnly: false] oldGprs=0 newGprs=0 oldType=HSDPA newType=HSDPA&#10;01-13 19:36:21.298 D/RILC    ( 2366): [0001]&amp;gt; OEM_HOOK_RAW (raw_size=6)&#10;01-13 19:36:21.302 D/RILC    ( 2366): [0001]&amp;lt; OEM_HOOK_RAW&#10;01-13 19:36:21.306 D/RILC    ( 2366): [UNSL]&amp;lt; &amp;lt;unknown request&amp;gt; {0}&#10;01-13 19:36:21.306 D/RILJ    ( 2574): processing unsol response: java.lang.RuntimeException: Unrecognized unsol response: 11012&#10;&#10;&#10;The NITZ (Network Identity and Time Zone) crops up a fair bit too, as shown below within the same telephony log, IIRC, NITZ handling was not exactly great up to ICS, in which a patch was made to handle the handling of the timezones (either roaming when browsing the net or something awry went wrong with the RIL:&#10;&#10;01-13 19:13:19.035 D/RILC    ( 2366): sendUnsolicitedResponses: multi client index=2, fd=28&#10;01-13 19:13:19.035 D/RILC    ( 2366): [UNSL]&amp;lt; UNSOL_NITZ_TIME_RECEIVED {13/01/14,03:13:18-32,00}&#10;&#10;&#10;The telephony errors shown, are sticking out like a sore thumb, and also down to the fact that Froyo 2.2, is old, and may not be able to handle whatever issue is with AT&amp;amp;T that causes it. Also, AT&amp;amp;T could have had their systems updated/upgraded, that is sending out extra telephony information/NITZ in a format that Froyo cannot handle and freezes.&#10;&#10;Best bet would be to try a firmware update and see if that resolves the issue. &#10;&#10;Prior to doing an update, since the handset is rooted, best to make a backup of everything, use Titanium Backup to backup user apps and data, use SMS Backup &amp;amp; Restore to save the SMS messages. It will be inevitable that the upgrade will lose root, but then again, it would be easy to do that after the upgrade.&#10;" CommentCount="0" CreationDate="2013-01-14T11:17:17.763" Id="37611" LastActivityDate="2013-01-14T11:17:17.763" OwnerUserId="4003" ParentId="37374" PostTypeId="2" Score="4" />
  <row AnswerCount="0" Body="I couldn't find any topic related to this. If there is one, please flag to delete.&#10;&#10;There is problem with lock button that it doesn't lock your screen even when you setted in settings to lock the screen for security.&#10;&#10;Sometimes it happens that if you click on this button and immediately click again to unlock, last screen / activity of application is shown again without lock screen.&#10;&#10;Step to reproduce&#10;&#10;&#10;Turn on security screen in settings&#10;Open your app&#10;Click lock button&#10;Click fast lock button again&#10;Screen of your app is visible as it was, instead of there should be lock screen&#10;&#10;&#10;How can I fix this bug? Did someone find this problem before?&#10;&#10;&#10;&#10;Bug found on device: GT-I9070 v 2.3.6&#10;&#10;I suspect that there is a problem with transition. In my private app I use custom transition by &lt;api&gt;context.overridePendingTransition(R.layout.fadein, R.layout.fadeout)&lt;/api&gt;;. &#10;&#10;Of course there is no connection between system android &amp;lt;&gt; custom app. This bug is hard to reproduce. Sometimes you see few times in row and sometimes its impossible..&#10;" CommentCount="3" CreationDate="2013-02-11T09:39:59.250" Id="39395" LastActivityDate="2013-02-11T12:10:35.683" LastEditDate="2013-02-11T12:10:35.683" LastEditorUserId="16575" OwnerUserId="14546" PostTypeId="1" Score="0" Tags="&lt;2.3-gingerbread&gt;&lt;lock-screens&gt;&lt;bugs&gt;&lt;samsung-galaxy-s-advance&gt;" Title="Fast lock and unclock screen by lock button doesn't lock screen at all" ViewCount="515" />
  <row Body="This will work on the following Galaxy Note 2:&#10;&#10;1.International Galaxy Note 2 GT-N7100&#10;2.T-Mobile Galaxy Note 2 SGH-T889&#10;3.AT&amp;amp;T Galaxy Note 2 SGH-I317    &#10;&#10;Other carriers&#10;Sprint Galaxy Note 2 SPH-L900&#10;Verizon Galaxy Note 2 SCH-I605&#10;(Given a link to video and more description at last sentence)&#10;&#10;Step 1.   &#10;&#10;&#10;  Put your Galaxy Note 2 into Download mode by turning off your phone&#10;  first then holding down Volume Down, Center Home, and Power buttons&#10;  together.&#10;&#10;&#10;Step 2.  &#10;&#10;&#10;  Once you see the warning screen, hit Volume Up button to enter ODIN&#10;  Download Mode then connect a micro-USB cable from your Note 2 to your&#10;  computer.&#10;&#10;&#10;Step 3.  &#10;&#10;&#10;  If you  have to install Samsung USB drivers  &#10;&#10;&#10;Step 4.  &#10;&#10;&#10;  Next, download GalaxyNote2Root.zip&#10;&#10;&#10;Step 5.   &#10;&#10;&#10;  Unzip the files. Next, open up the ODIN program by double-clicking on&#10;  the .exe file.&#10;&#10;&#10;Step 6. &#10;&#10;&#10;  You should see a yellow-highlighted COM box with a random number. If&#10;  you don’t see it, double-check your Windows drivers (the Samsung USB&#10;  drivers you installed in Step 3) and unplug, plug your Note 2 back&#10;  into your computer.&#10;&#10;&#10;Step 7.  &#10;&#10;&#10;  DO NOT TOUCH ANYTHING ELSE and click on “PDA” button then find the&#10;  file cwm6-root-note2.tar(in unzipped folder).&#10;&#10;&#10;Step 8.  &#10;&#10;&#10;  Hit Start and let ODIN flash the custom CWM Recovery. When it’s done,&#10;  your Galaxy Note 2 will reboot and you should have a fully rooted&#10;  Galaxy Note 2.&#10;&#10;&#10;Your phone will boot into newly installed CWM Recovery automatically once and install Superuser app and su binaries then reboot.&#10;You should find a new Superuser app called “SuperSU”.&#10;You can easily verify you have root by downloading Titanium Backup app (free on Play Store) and running it. (a Pop up will appear)&#10;&#10;In here they described with details and video that &quot;How to root Note 2&quot; .&#10;You have to just go for the carrier name, under which you are now.&#10;&#10;Good Luck &#10;&#10;NOTE:I'm not responsible if you mess up your phone. Make sure you know what you are doing before following any instructions. Go here .Just read it.&#10;" CommentCount="1" CreationDate="2013-02-11T11:07:55.043" Id="39399" LastActivityDate="2013-02-11T11:07:55.043" OwnerUserId="23293" ParentId="39382" PostTypeId="2" Score="7" />
  <row Body="Just flash the system.img(one from 4.2.1) over your current system, also make sure you're running the corresponding recovery, radio, kernel, and bootloader that came with your takju/yakju factory image.&#10;Do that and and try the OTA again, should work.&#10;&quot;Flashing system.img didn't wipe data/app&quot;(Just backup if you are worried about losing data/app) &#10;NOTE:You will lose root&#10;&#10;or else try flashing 4.2.2 manually from here&#10;" CommentCount="4" CreationDate="2013-02-27T13:17:39.090" Id="40424" LastActivityDate="2013-02-27T13:25:03.063" LastEditDate="2013-02-27T13:25:03.063" LastEditorUserId="23293" OwnerUserId="23293" ParentId="40400" PostTypeId="2" Score="1" />
  <row Body="Well there is a way out, though its bit lengthy.&#10;First of all  you need to have the source code of the app you need to install.&#10;Then locate the main java file(which you can find in the &quot;package&quot;).&#10;Just add the following code &#10;Process p = &lt;api&gt;Runtime.getRuntime()&lt;/api&gt;.exec(&quot;su&quot;);&#10;&#10;And you are done :)&#10;" CommentCount="1" CreationDate="2013-03-01T20:18:12.133" Id="40580" LastActivityDate="2013-03-01T20:18:12.133" OwnerUserId="29351" ParentId="26046" PostTypeId="2" Score="-1" />
  <row Body="Further to my comment, I had a look into the underlying Android code.&#10;&#10;I have a possible answer, but with no less than four major caveats and obstacles:&#10;&#10;&#10;I haven't tried it, because I don't have any suitable USB devices to hand.&#10;You need a new permission&#10;The permission requires that you are a system app&#10;The code requires access to something not in the public API&#10;&#10;&#10;Forget about this if deploying ordinary after-market apps!&#10;&#10;The first prerequisite is that you have the MANAGE_USB permission. That is described here.&#10;&#10;However in turn the prerequisites for that are that you sign with the system key, and you install your app into /system/app.&#10;&#10;Anyway, if you're OK with that, here's some code:&#10;&#10;   IBinder b = &lt;api&gt;ServiceManager.getService(USB_SERVICE)&lt;/api&gt;;&#10;   IUsbManager service = &lt;api&gt;IUsbManager.Stub.asInterface(b)&lt;/api&gt;;&#10;   &lt;api&gt;service.grantDevicePermission(mDevice, uid)&lt;/api&gt;;&#10;&#10;&#10;mDevice is the device from before.&#10;&#10;uid is your own app's UID and you can look that up. An example of how to do that is the first answer here.&#10;&#10;All good? No. ServiceManager is android.os.ServiceManager and thus isn't a public API. That, in this example, is your way to getting your hands on the IUsbManager service (there may be other routes). Now, getting around that is beyond the scope of my answer; in the old days you could use reflection, but I don't know if you still can.&#10;&#10;After all of those shenanigans, it looks like you don't need to request permission any more, and if you do, it will return immediately with no dialog.&#10;" CommentCount="0" CreationDate="2013-03-08T17:40:36.977" Id="41090" LastActivityDate="2013-03-08T17:40:36.977" OwnerUserId="29818" ParentId="39851" PostTypeId="2" Score="2" />
  <row Body="&quot;to turn on automatic updating?&quot;&#10;&#10;I highly doubt there is an intent for this - that is a user setting and Android doesn't generally allow apps to change user settings. &#10;&#10;I think the best solution is to, first, manually turn on the auto-updates feature of the play store, and set it to wifi only, and second, launch the play store when you connect to the desired hotspot.  Just launching it will typically cause it to perform any pending updates.&#10;&#10;I'm not sure how you specify this in tasker or llama, but you can launch the play store by sending an intent that requests that a play store URL be launched (e.g. the URL of a play store app or publisher), e.g.&#10;&#10;new Intent( Intent.ACTION_VIEW, &lt;api&gt;Uri.parse(&quot;http://play.google.com/store/apps/details?id=&quot;+appName)&lt;/api&gt; )&#10;&#10;More info about that is here.&#10;&#10;Finally, you should go to the wifi settings and mark your home wifi network as metered.  Whoops.  I've seen that setting in the API docs here but now I can't find a way for a user to set it.  Maybe that is only available for cell networks, or maybe that is coming in future versions of Android (the API was just added recently).&#10;" CommentCount="2" CreationDate="2013-03-18T20:04:06.140" Id="41815" LastActivityDate="2013-03-18T20:18:44.693" LastEditDate="2013-03-18T20:18:44.693" LastEditorUserId="1633" OwnerUserId="1633" ParentId="41790" PostTypeId="2" Score="3" />
  <row Body="Working MTP on Ubuntu for Galaxy Nexus, Nexus 7 and Acer A500&#10;Where to start.&#10;&#10;I found some instructions for the Nexus 7 (which I had just brought) on this site Ubuntu 12.04 - Automount Nexus 7 in MTP mode. All credit to the author of that page for figuring it out.&#10;The instructions i have below come from this site, are trimmed to the commands, if you want more explanation see the above site.&#10;&#10;I used Ubuntu 12.10, and have configured for my Nexus 7, Galaxy Nexus and Acer A500.&#10;Instructions&#10;&#10;Configure FUSE&#10;&#10;Change /etc/fuse.conf so its read by all..&#10;&#10;# sudo chmod a+r /etc/fuse.conf&#10;&#10;&#10;Edit /etc/fuse.conf to remove the comment # from user_allow_other so the default fuse.conf will look like&#10;&#10;# Set the maximum number of FUSE mounts allowed to non-root users.&#10;# The default is 1000.&#10;#&#10;#mount_max = 1000&#10;&#10;# Allow non-root users to specify the 'allow_other' or 'allow_root'&#10;# mount options.&#10;#&#10;user_allow_other&#10;&#10;&#10;Compile and install go_mtp&#10;&#10;# sudo apt-get install libmtp-dev golang &#10;# mkdir /tmp/go&#10;# export GOPATH=/tmp/go&#10;# go get github.com/hanwen/go-mtpfs&#10;# sudo mv /tmp/go/bin/go-mtpfs /usr/local/sbin/go-mtpfs&#10;# sudo chmod a+x /usr/local/sbin/go-mtpfs&#10;&#10;&#10;Create Mount Point(s)&#10;&#10;Use the following as you need..&#10;# sudo mkdir /media/Nexus7&#10;# sudo chmod 777 /media/Nexus7&#10;# sudo mkdir /media/GalaxyNexus&#10;# sudo chmod 777 /media/GalaxyNexus&#10;# sudo mkdir /media/A500&#10;# sudo chmod 777 /media/A500&#10;&#10;&#10;Setup udev rules&#10;&#10;Use your favourite editor and create the following file (remove any other android udev rules you might have experimented with first).&#10;&#10;# sudo vi /etc/udev/rules.d/99-android.rules&#10;&#10;&#10;Paste in the following contents. you can remove rules you don't need, The two nexus devices appear to have the same ids for the bootloader and recovery. &#10;NOTE: you need to replace #YOURLOGIN# with your username/login.&#10;&#10;# Google Nexus 7 &amp;amp; Galaxy Nexus 16 Gb Bootloader &amp;amp; recovery mode&#10;SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;18d1&quot;, ATTR{idProduct}==&quot;4e40&quot;, MODE=&quot;0666&quot; # Bootloader&#10;SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;18d1&quot;, ATTR{idProduct}==&quot;d001&quot;, MODE=&quot;0666&quot; # Recovery&#10;&#10;# Google Nexus 7 16 Gb PTP mode (camera)&#10;SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;18d1&quot;, ATTR{idProduct}==&quot;4e43&quot;, MODE=&quot;0666&quot; # PTP media&#10;SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;18d1&quot;, ATTR{idProduct}==&quot;4e44&quot;, MODE=&quot;0666&quot; # PTP media with USB debug on&#10;&#10;# Google Nexus 7 16 Gb MTP mode (multimedia device)&#10;SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;18d1&quot;, ATTR{idProduct}==&quot;4e41&quot;, MODE=&quot;0666&quot; # MTP media&#10;SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;18d1&quot;, ATTR{idProduct}==&quot;4e42&quot;, MODE=&quot;0666&quot; # MTP media with USB debug on&#10;&#10;# Google Nexus 7 MTP mode : automatic mount when plugged&#10;ENV{ID_MODEL}==&quot;Nexus_7&quot;, ENV{ID_MODEL_ID}==&quot;4e41&quot;, ACTION==&quot;add&quot;, RUN+=&quot;/usr/bin/sudo -u #YOURLOGIN# /usr/local/sbin/go-mtpfs -allow-other=true /media/Nexus7&quot;&#10;ENV{ID_MODEL}==&quot;Nexus_7&quot;, ENV{ID_MODEL_ID}==&quot;4e42&quot;, ACTION==&quot;add&quot;, RUN+=&quot;/usr/bin/sudo -u #YOURLOGIN# /usr/local/sbin/go-mtpfs -allow-other=true /media/Nexus7&quot;&#10;&#10;# Google Nexus 7 MTP mode : automatic unmount when unplugged&#10;ENV{ID_MODEL}==&quot;Nexus_7&quot;, ENV{ID_MODEL_ID}==&quot;4e41&quot;, ACTION==&quot;remove&quot;, RUN+=&quot;/bin/umount /media/Nexus7&quot;&#10;ENV{ID_MODEL}==&quot;Nexus_7&quot;, ENV{ID_MODEL_ID}==&quot;4e42&quot;, ACTION==&quot;remove&quot;, RUN+=&quot;/bin/umount /media/Nexus7&quot;&#10;&#10;&#10;# Google Galaxy Nexus 16 Gb Bootloader &amp;amp; recovery mode&#10;#SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;18d1&quot;, ATTR{idProduct}==&quot;4e40&quot;, MODE=&quot;0666&quot; # Bootloader&#10;#SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;18d1&quot;, ATTR{idProduct}==&quot;d001&quot;, MODE=&quot;0666&quot; # Recovery&#10;&#10;# Google Galaxy Nexus 16 Gb PTP mode (camera)&#10;SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;04e8&quot;, ATTR{idProduct}==&quot;6865&quot;, MODE=&quot;0666&quot; # PTP media&#10;#SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;04e8&quot;, ATTR{idProduct}==&quot;4e44&quot;, MODE=&quot;0666&quot; # PTP media with USB debug on&#10;&#10;# Google Galaxy Nexus 16 Gb MTP mode (multimedia device)&#10;SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;04e8&quot;, ATTR{idProduct}==&quot;685c&quot;, MODE=&quot;0666&quot; # MTP media&#10;SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;04e8&quot;, ATTR{idProduct}==&quot;6860&quot;, MODE=&quot;0666&quot; # MTP media with USB debug on&#10;&#10;# Google Nexus 7 MTP mode : automatic mount when plugged&#10;ENV{ID_MODEL}==&quot;Galaxy_Nexus&quot;, ENV{ID_MODEL_ID}==&quot;685c&quot;, ACTION==&quot;add&quot;, RUN+=&quot;/usr/bin/sudo -u #YOURLOGIN# /usr/local/sbin/go-mtpfs -allow-other=true /media/GalaxyNexus&quot;&#10;ENV{ID_MODEL}==&quot;Galaxy_Nexus&quot;, ENV{ID_MODEL_ID}==&quot;6860&quot;, ACTION==&quot;add&quot;, RUN+=&quot;/usr/bin/sudo -u #YOURLOGIN# /usr/local/sbin/go-mtpfs -allow-other=true /media/GalaxyNexus&quot;&#10;&#10;# Google Nexus 7 MTP mode : automatic unmount when unplugged&#10;ENV{ID_MODEL}==&quot;Galaxy_Nexus&quot;, ENV{ID_MODEL_ID}==&quot;685c&quot;, ACTION==&quot;remove&quot;, RUN+=&quot;/bin/umount /media/GalaxyNexus&quot;&#10;ENV{ID_MODEL}==&quot;Galaxy_Nexus&quot;, ENV{ID_MODEL_ID}==&quot;6860&quot;, ACTION==&quot;remove&quot;, RUN+=&quot;/bin/umount /media/GalaxyNexus&quot;&#10;&#10;&#10;# Acer A500 16 Gb Bootloader &amp;amp; recovery mode&#10;SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;0502&quot;, ATTR{idProduct}==&quot;3201&quot;, MODE=&quot;0666&quot; # Bootloader&#10;#SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;0502&quot;, ATTR{idProduct}==&quot;d001&quot;, MODE=&quot;0666&quot; # Recovery&#10;&#10;# Acer A500 16 Gb PTP mode (camera)&#10;SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;0502&quot;, ATTR{idProduct}==&quot;33b2&quot;, MODE=&quot;0666&quot; # PTP media&#10;SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;0502&quot;, ATTR{idProduct}==&quot;33b1&quot;, MODE=&quot;0666&quot; # PTP media with USB debug on&#10;&#10;# Acer A500 16 Gb MTP mode (multimedia device)&#10;SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;0502&quot;, ATTR{idProduct}==&quot;3341&quot;, MODE=&quot;0666&quot; # MTP media&#10;SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;0502&quot;, ATTR{idProduct}==&quot;3325&quot;, MODE=&quot;0666&quot; # MTP media with USB debug on&#10;&#10;# Acer A500 MTP mode : automatic mount when plugged&#10;ENV{ID_MODEL}==&quot;Acer_Iconia_Tab_A500&quot;, ENV{ID_MODEL_ID}==&quot;3341&quot;, ACTION==&quot;add&quot;, RUN+=&quot;/usr/bin/sudo -u #YOURLOGIN# /usr/local/sbin/go-mtpfs -allow-other=true /media/A500&quot;&#10;ENV{ID_MODEL}==&quot;Acer_Iconia_Tab_A500&quot;, ENV{ID_MODEL_ID}==&quot;3325&quot;, ACTION==&quot;add&quot;, RUN+=&quot;/usr/bin/sudo -u #YOURLOGIN# /usr/local/sbin/go-mtpfs -allow-other=true /media/A500&quot;&#10;&#10;# Acer A500 MTP mode : automatic unmount when unplugged&#10;ENV{ID_MODEL}==&quot;Acer_Iconia_Tab_A500&quot;, ENV{ID_MODEL_ID}==&quot;3341&quot;, ACTION==&quot;remove&quot;, RUN+=&quot;/bin/umount /media/Nexus7&quot;&#10;ENV{ID_MODEL}==&quot;Acer_Iconia_Tab_A500&quot;, ENV{ID_MODEL_ID}==&quot;3325&quot;, ACTION==&quot;remove&quot;, RUN+=&quot;/bin/umount /media/A500&quot;&#10;&#10;&#10;NOTE: if you used gedit and you have edited the file, you need to remove 99-android.rules~ as udev will get upset..&#10;&#10;Next, restart udev&#10;&#10;# sudo service udev restart&#10;&#10;&#10;Edit /etc/fstab&#10;&#10;Add the following to /etc/fstab&#10;DeviceFs(Nexus\0407)        /media/Nexus7         &lt;api&gt;fuse.DeviceFs(Nexus\0407)&lt;/api&gt;      allow_other,rw,user,noauto    0    0&#10;DeviceFs(Galaxy\040Nexu)    /media/GalaxyNexus    &lt;api&gt;fuse.DeviceFs(Galaxy\040Nexu)&lt;/api&gt;  allow_other,rw,user,noauto    0    0&#10;DeviceFs(A500)              /media/A500           &lt;api&gt;fuse.DeviceFs(A500)&lt;/api&gt;            allow_other,rw,user,noauto    0    0&#10;&#10;&#10;Finished.&#10;&#10;You can now connect your devices and the internal storage will be available for use, you should remember to un-mount before disconnecting though it doesn't seem to do any harm..&#10;&#10;Note: it seems that the ENV{ID_MODEL} for the nexus 7 changed to Nexus_7 at some point (I think with the android 4.2 update)..&#10;&#10;From http://www.winters.org.nz/android-hints-tips-stuff/working-mtp-on-ubuntu&#10;" CommentCount="0" CreationDate="2013-03-23T09:38:13.533" Id="42149" LastActivityDate="2013-03-23T09:38:13.533" OwnerUserId="30805" ParentId="15877" PostTypeId="2" Score="0" />
  <row Body="Did you say Google Script?&#10;&#10;Marking Gmail read with Apps Script&#10;&#10;The idea behind this script is to mark as read any message that is not in the Inbox (i.e., has been archived).&#10;&#10;&#10;  &#10;  Head to script.google.com to start a script.&#10;  Choose to create a script for Gmail in the little popup.&#10;  Delete all the sample code it gives you.&#10;  Replace it with this (written using the API reference):&#10;&#10;function markArchivedAsRead() {&#10;   var threads = &lt;api&gt;GmailApp.search('label:unread -label:inbox')&lt;/api&gt;;&#10;   &lt;api&gt;GmailApp.markThreadsRead(threads)&lt;/api&gt;;&#10; };&#10;  Save the project with File &gt; Save.&#10;  Add a new version using File &gt; Manage Versions and enter &quot;initial version&quot; then submit that.&#10;  Do a test run using Run &gt; markArchivedAsRead and be sure and authorize the app when it asks you to.&#10;  Add a new trigger using Resource &gt; Current Project's Triggers and choose to run the above function every minute.&#10;  Save the script again and exit.&#10;  &#10;&#10;&#10;I don't know that it's necessary to run it every minute, but as long as you run it regularly.&#10;&#10;This isn't a direct answer to your issue, and if you have reasons to have unread messages that aren't in your inbox this won't work for you.&#10;" CommentCount="2" CreationDate="2013-05-10T12:30:24.327" Id="45183" LastActivityDate="2013-11-12T15:34:59.150" LastEditDate="2013-11-12T15:34:59.150" LastEditorUserId="267" OwnerUserId="267" ParentId="45000" PostTypeId="2" Score="5" />
  <row Body="I managed to make it work with the following Google Script.&#10;It's almos the same as @AlEverett's answer, but it never marks as read messages that skipped the inbox entirely (from a filter or something).&#10;&#10;Unfortunately, it won't work for you if you tend archive messages very quickly (less then 30 seconds on average). &#10;&#10;/** Mark as read archived threads which were previously in the inbox (determined by the label &quot;i&quot;). **/&#10;function cleanAndroidArchived(){&#10;  markArchivedAsRead();&#10;  labelInboxAsI();&#10;}&#10;&#10;function markArchivedAsRead() {&#10;  var threads = &lt;api&gt;GmailApp.search('in:unread label:i -label:inbox')&lt;/api&gt;;&#10;  var label = &lt;api&gt;GmailApp.createLabel(&quot;i&quot;)&lt;/api&gt;;&#10;  &lt;api&gt;label.removeFromThreads(threads)&lt;/api&gt;;&#10;  &lt;api&gt;GmailApp.markThreadsRead(threads)&lt;/api&gt;;&#10;};&#10;&#10;function labelInboxAsI() {&#10;  var threads = &lt;api&gt;GmailApp.search('in:unread label:inbox')&lt;/api&gt;;&#10;  var label = &lt;api&gt;GmailApp.createLabel(&quot;i&quot;)&lt;/api&gt;;&#10;  &lt;api&gt;label.addToThreads(threads)&lt;/api&gt;;&#10;};&#10;&#10;" CommentCount="0" CreationDate="2013-05-13T21:47:43.117" Id="45375" LastActivityDate="2013-05-13T21:47:43.117" OwnerUserId="1926" ParentId="45000" PostTypeId="2" Score="3" />
  <row Body="This is possible. You can use android's new tool UI-Automator to click and interact with any view or button on the system including hitting &quot;Activate&quot; for device admin. Here's how:&#10;&#10;&#10;Get UI-Automator running. (go to &quot;Configure your development environment&quot; and setup a new java project).&#10;Write some code to interact with your preferences list and click &quot;Activate&quot;. Example:&#10;&#10;UiScrollable settingsItem = new UiScrollable(new UiSelector().className(&quot;android.widget.ListView&quot;));&#10;UiObject listButton = &lt;api&gt;settingsItem.getChildByText(new UiSelector().className(&quot;android.widget.LinearLayout&quot;), &quot;Enable Device Admin&quot;)&lt;/api&gt;;&#10;&lt;api&gt;listButton.click()&lt;/api&gt;;&#10;(new UiObject(new UiSelector().text(&quot;Activate&quot;))).clickAndWaitForNewWindow();&#10;&lt;api&gt;me.celebrateWith(new Beer())&lt;/api&gt;;&#10;Compile it: ant build&#10;Push the jar file: adb -d push bin/LookoutTest.jar /data/local/tmp/&#10;Launch your settings activity: adb shell am start -S &quot;'com.android.settings/.Settings\$DeviceAdminSettingsActivity'&quot;&#10;Run the automation: adb -d shell uiautomator runtest LookoutTest.jar -c DALaunch&#10;Party.&#10;&#10;" CommentCount="1" CreationDate="2013-05-23T01:52:30.630" Id="45934" LastActivityDate="2013-05-23T01:52:30.630" OwnerUserId="34503" ParentId="45601" PostTypeId="2" Score="0" />
  <row Body="Solution 1. Use Tampermonkey. Tampermonkey is more popular as an extension for Chrome, but it is also available as a standalone Android app. It functions as a lightweight browser, and allows you to manage and automatically run user scripts. Unfortunately it doesn't have many of the features found on other popular browsers, but it does support the Greasemonkey API.&#10;&#10;Solution 2. Use Opera Mobile, which has built-in support for userscripts, but no script management features, and doesn't support the Greasemonkey API. Navigate to the User Prefs section of opera:config, then tick &quot;Always Load User JavaScript&quot; and &quot;User JavaScript&quot;. Enter the path to a folder (not a file) in the &quot;User JavaScript File&quot; field (I use /sdcard/userscripts/), then store the settings. Save your userscript in that folder with a .user.js extension.  NB this works in OM12, but the OM14 beta doesn't seem to support userscripts at present.&#10;&#10;Solution 3. Launch your userscript manually via a bookmarklet or pasting this javascript directly into the browser address bar:&#10;&#10;javascript:(function(){var a=&lt;api&gt;document.createElement(&quot;script&quot;)&lt;/api&gt;;a.src=&quot;http://path.to/myscript.user.js&quot;;&lt;api&gt;document.head.appendChild(a)&lt;/api&gt;;})();&#10;&#10;&#10;This technique is tedious, but the principle should work in most browsers. You don't get Greasemonkey API support though. The code above should work without modification in the stock Android browser, and can be saved as a bookmarklet. In Chrome Mobile the space in the var a needs escaping, i.e. var%20a=, and bookmarklets don't seem to work, so you have to paste manually every time.&#10;" CommentCount="3" CreationDate="2013-05-29T22:45:01.980" Id="46341" LastActivityDate="2013-05-29T22:45:01.980" OwnerUserId="34927" ParentId="1054" PostTypeId="2" Score="10" />
  <row Body="The code behind the Force stop button is complex and undocumented. I'll reproduce it verbatim and then go through it one piece at a time.&#10;&#10;private void checkForceStop() {&#10;    if (&lt;api&gt;mDpm.packageHasActiveAdmins(mPackageInfo.packageName))&lt;/api&gt; {&#10;        // User can't force stop device admin.&#10;        updateForceStopButton(false);&#10;    } else if ((mAppEntry.info.flags&amp;amp;ApplicationInfo.FLAG_STOPPED) == 0) {&#10;        // If the app isn't explicitly stopped, then always show the&#10;        // force stop button.&#10;        updateForceStopButton(true);&#10;    } else {&#10;        Intent intent = new Intent(Intent.ACTION_QUERY_PACKAGE_RESTART,&#10;                &lt;api&gt;Uri.fromParts(&quot;package&quot;, mAppEntry.info.packageName, null))&lt;/api&gt;;&#10;        &lt;api&gt;intent.putExtra(Intent.EXTRA_PACKAGES, new String[] { mAppEntry.info.packageName })&lt;/api&gt;;&#10;        &lt;api&gt;intent.putExtra(Intent.EXTRA_UID, mAppEntry.info.uid)&lt;/api&gt;;&#10;        &lt;api&gt;intent.putExtra(Intent.EXTRA_USER_HANDLE, UserHandle.getUserId(mAppEntry.info.uid))&lt;/api&gt;;&#10;        getActivity().sendOrderedBroadcast(intent, null, mCheckKillProcessesReceiver, null,&#10;                Activity.RESULT_CANCELED, null, null);&#10;    }&#10;}&#10;&#10;&#10;The first if line checks if any component of the package is a device admin (that is, if it's checked in the Device administrators list in the Security page of the Settings app). If so, the button is disabled (greyed out) so you can't stop device admins.&#10;&#10;Then, the else if checks if the package is already stopped. Here, stopped doesn't just mean &quot;not running&quot;. As far as I can tell, a package is in the stopped state if you've never run any component from it (such as by launching it from the menu), or if you've pressed a Force stop button (this one or in a &quot;stopped working&quot; dialog) and not run any of its components again. If the package hasn't been stopped, the button is enabled.&#10;&#10;The else case covers the rare eventuality that an app has been stopped and isn't a device admin. In this case, it gives other system services a chance to enable the button. For example, the app might have an alarm set and pending, which would later cause the app to be started again even from the stopped state. In this case, the button will be enabled. If no other system service has a reason to enable the button, it will be disabled.&#10;&#10;Summary&#10;&#10;The Force stop button is enabled if the package is not a device admin and either you haven't already force-stopped this app or you have force-stopped it but a system service thinks it will run it again.&#10;&#10;If the app is running (and it isn't a device admin), the Force stop button will definitely be enabled, but the button being enabled doesn't mean the app is running.&#10;" CommentCount="0" CreationDate="2013-06-28T10:35:40.127" Id="48167" LastActivityDate="2013-06-28T10:52:11.307" LastEditDate="2013-06-28T10:52:11.307" LastEditorUserId="12442" OwnerUserId="12442" ParentId="33801" PostTypeId="2" Score="10" />
  <row AnswerCount="3" Body="I tried to do a backup a few days ago but TB just stucked on the &quot;Asking root permissions&quot; screen. And now, every app that needs root access doesn't work properly because root access is denied. My superuser app is updated, and I also tried to reset its user data but it's still not working. Does anyone have an idea to make it work again ?&#10;&#10;EDIT&#10;&#10;Here's the logcat : &#10;&#10;07-09 18:28:21.552 V/InputDevice( 2940): ID[0]=0(0) Up(1=&amp;gt;0)&#10;07-09 18:28:24.554 W/PowerManagerService( 2940): Timer 0x3-&amp;gt;0x3|0x0&#10;07-09 18:28:24.627 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:24.632 V/lights  ( 2940): set_light_buttons invoked&#10;07-09 18:28:24.632 D/lights  ( 2940): set_light_button on=255&#10;07-09 18:28:24.632 I/PowerManagerService( 2940): Ulight 3-&amp;gt;7|0&#10;07-09 18:28:24.817 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:24.847 I/ActivityManager( 2940): Starting activity: Intent { act=android.intent.action.MAIN cat=[android.intent.category.HOME] flg=0x10200000 cmp=com.fede.launcher/.Launcher }&#10;07-09 18:28:25.077 D/PhoneWindow( 6377): couldn't save which view has focus because the focused view android.widget.LinearLayout@47242a48 has no id.&#10;07-09 18:28:26.047 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:26.047 V/InputDevice( 2940): ID[0]=0(0) Dn(0=&amp;gt;1)&#10;07-09 18:28:26.052 V/WindowManager( 2940): Dsptch &amp;gt; Window{473bdba0 com.fede.launcher/com.fede.launcher.Launcher paused=false}&#10;07-09 18:28:26.272 V/WindowManager( 2940): Dsptch &amp;gt; Window{473bdba0 com.fede.launcher/com.fede.launcher.Launcher paused=false}&#10;07-09 18:28:26.272 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:26.272 V/InputDevice( 2940): ID[0]=0(0) Up(1=&amp;gt;0)&#10;07-09 18:28:27.347 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:27.347 V/InputDevice( 2940): ID[0]=0(0) Dn(0=&amp;gt;1)&#10;07-09 18:28:27.352 V/WindowManager( 2940): Dsptch &amp;gt; Window{473bdba0 com.fede.launcher/com.fede.launcher.Launcher paused=false}&#10;07-09 18:28:27.667 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:27.672 V/WindowManager( 2940): Dsptch &amp;gt; Window{473bdba0 com.fede.launcher/com.fede.launcher.Launcher paused=false}&#10;07-09 18:28:27.672 V/InputDevice( 2940): ID[0]=0(0) Up(1=&amp;gt;0)&#10;07-09 18:28:28.482 V/WindowManager( 2940): Dsptch &amp;gt; Window{473bdba0 com.fede.launcher/com.fede.launcher.Launcher paused=false}&#10;07-09 18:28:28.482 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:28.482 V/InputDevice( 2940): ID[0]=0(0) Dn(0=&amp;gt;1)&#10;07-09 18:28:29.082 V/WindowManager( 2940): Dsptch &amp;gt; Window{473bdba0 com.fede.launcher/com.fede.launcher.Launcher paused=false}&#10;07-09 18:28:29.082 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:29.082 V/InputDevice( 2940): ID[0]=0(0) Up(1=&amp;gt;0)&#10;07-09 18:28:29.702 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:29.702 V/InputDevice( 2940): ID[0]=0(0) Dn(0=&amp;gt;1)&#10;07-09 18:28:29.707 V/WindowManager( 2940): Dsptch &amp;gt; Window{473bdba0 com.fede.launcher/com.fede.launcher.Launcher paused=false}&#10;07-09 18:28:30.382 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:30.382 V/InputDevice( 2940): ID[0]=0(0) Up(1=&amp;gt;0)&#10;07-09 18:28:30.392 V/WindowManager( 2940): Dsptch &amp;gt; Window{473bdba0 com.fede.launcher/com.fede.launcher.Launcher paused=false}&#10;07-09 18:28:30.777 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:30.777 V/InputDevice( 2940): ID[0]=0(0) Dn(0=&amp;gt;1)&#10;07-09 18:28:30.787 V/WindowManager( 2940): Dsptch &amp;gt; Window{473bdba0 com.fede.launcher/com.fede.launcher.Launcher paused=false}&#10;07-09 18:28:30.877 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:30.882 V/InputDevice( 2940): ID[0]=0(0) Up(1=&amp;gt;0)&#10;07-09 18:28:30.887 V/WindowManager( 2940): Dsptch &amp;gt; Window{473bdba0 com.fede.launcher/com.fede.launcher.Launcher paused=false}&#10;07-09 18:28:31.017 I/ActivityManager( 2940): Starting activity: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.keramidas.TitaniumBackup/.MainActivity }&#10;07-09 18:28:31.067 I/ActivityManager( 2940): Start proc com.keramidas.TitaniumBackup for activity com.keramidas.TitaniumBackup/.MainActivity: pid=6434 uid=10051 gids={1015, 3003}&#10;07-09 18:28:31.227 I/Zygote  ( 6434): Zygote: pid 6434 has INTERNET permission, then set capability for CAP_NET_RAW&#10;07-09 18:28:31.502 I/com.keramidas.TitaniumBackup.MainApplication( 6434): onCreate()&#10;07-09 18:28:32.947 I/com.keramidas.TitaniumBackup.MainApplication( 6434): Detected CPU architecture: ARM&#10;07-09 18:28:32.962 W/Settings( 6434): Setting android_id has moved from android.provider.Settings.System to android.provider.Settings.Secure, returning read-only value.&#10;07-09 18:28:32.967 D/o.䁄   ( 6434): Debug features are disabled.&#10;07-09 18:28:33.002 I/o.쮱   ( 6434): restoreMySettings_ifNeeded()&#10;07-09 18:28:33.047 I/o.쮱   ( 6434): Internal settings found =&amp;gt; No need to restore.&#10;07-09 18:28:33.647 W/Resources( 6434): Converting to string: TypedValue{t=0x10/d=0x0 a=-1}&#10;07-09 18:28:33.717 W/Resources( 6434): Converting to string: TypedValue{t=0x10/d=0x0 a=-1}&#10;07-09 18:28:33.782 W/Resources( 6434): Converting to string: TypedValue{t=0x10/d=0x0 a=-1}&#10;07-09 18:28:33.792 W/Resources( 6434): Converting to string: TypedValue{t=0x10/d=0xf a=-1}&#10;07-09 18:28:33.872 W/Resources( 6434): Converting to string: TypedValue{t=0x10/d=0x80 a=-1}&#10;07-09 18:28:33.872 W/Resources( 6434): Converting to string: TypedValue{t=0x10/d=0x3 a=-1}&#10;07-09 18:28:34.142 W/Resources( 6434): Converting to string: TypedValue{t=0x10/d=0x20 a=-1}&#10;07-09 18:28:34.207 W/Resources( 6434): Converting to string: TypedValue{t=0x10/d=0x1 a=-1}&#10;07-09 18:28:34.267 W/Resources( 6434): Converting to string: TypedValue{t=0x10/d=0x3 a=-1}&#10;07-09 18:28:34.557 I/com.keramidas.TitaniumBackup.MainActivity( 6434): Main Activity is being created for the first time =&amp;gt; scheduling next wake-up ...&#10;07-09 18:28:34.567 I/o.յ    ( 6434): scheduleNextWakeup(): Invoked with idToExcludeForToday=null&#10;07-09 18:28:34.692 I/o.յ    ( 6434): scheduleNextWakeup(): No next wakeup scheduled.&#10;07-09 18:28:34.707 I/o.ᡝ   ( 6434): Thread started.&#10;07-09 18:28:35.177 W/PowerManagerService( 2940): Timer 0x7-&amp;gt;0x3|0x0&#10;07-09 18:28:35.177 V/lights  ( 2940): set_light_buttons invoked&#10;07-09 18:28:35.177 D/lights  ( 2940): set_light_button on=0&#10;07-09 18:28:35.177 I/PowerManagerService( 2940): Ulight 7-&amp;gt;3|0&#10;07-09 18:28:36.282 I/o.嫶   ( 6434): Detected 0 mount point(s) in addition to Android &quot;external&quot; storage.&#10;07-09 18:28:36.292 I/ActivityManager( 2940): Displayed activity com.keramidas.TitaniumBackup/.MainActivity: 5242 ms (total 5242 ms)&#10;07-09 18:28:36.307 I/o.䌮   ( 6434): [Licensing] No cache file: /mnt/sdcard/data/com.keramidas.TitaniumBackup/licensing-cache.xml&#10;07-09 18:28:36.307 I/o.䌮   ( 6434): [Licensing] Cache valid? = false&#10;07-09 18:28:36.307 I/o.䌮   ( 6434): [Licensing] Deleting non-valid cache file: /mnt/sdcard/data/com.keramidas.TitaniumBackup/licensing-cache.xml&#10;07-09 18:28:36.397 I/o.嫶   ( 6434): Detected 0 mount point(s) in addition to Android &quot;external&quot; storage.&#10;07-09 18:28:36.407 W/System.err( 6434): ERROR: Could not open license file: /data/data/com.keramidas.TitaniumBackup/files/license.txt&#10;07-09 18:28:36.512 E/su      ( 6447): sudb - Opening database&#10;07-09 18:28:36.517 E/su      ( 6447): Couldn't open database: unable to open database file&#10;07-09 18:28:36.517 E/su      ( 6447): sudb - Could not open database, prompt user&#10;07-09 18:28:37.332 D/AndroidRuntime( 6449): &#10;07-09 18:28:37.332 D/AndroidRuntime( 6449): &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; AndroidRuntime START &amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&#10;07-09 18:28:37.332 D/AndroidRuntime( 6449): CheckJNI is OFF&#10;07-09 18:28:37.337 E/AndroidRuntime( 6449): /system/csc/customer.xml ==&amp;gt; cannot open file&#10;07-09 18:28:37.342 D/AndroidRuntime( 6449): found sales_code tag = &amp;lt;&amp;gt;, &amp;lt;/&amp;gt; &#10;07-09 18:28:37.342 E/AndroidRuntime( 6449): /system/csc/feature.xml ==&amp;gt; cannot open file&#10;07-09 18:28:37.747 D/AndroidRuntime( 6449): --- registering native functions ---&#10;07-09 18:28:38.132 D/LibQmg_native( 6449): register_android_app_LibQmg&#10;07-09 18:28:43.737 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:43.737 V/InputDevice( 2940): ID[0]=0(0) Dn(0=&amp;gt;1)&#10;07-09 18:28:43.742 V/WindowManager( 2940): Dsptch &amp;gt; Window{4732a058 StatusBar paused=false}&#10;07-09 18:28:43.922 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:43.927 V/InputDevice( 2940): ID[0]=0(0) Up(1=&amp;gt;0)&#10;07-09 18:28:43.947 V/WindowManager( 2940): Dsptch &amp;gt; Window{4732a058 StatusBar paused=false}&#10;07-09 18:28:46.087 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:46.087 V/InputDevice( 2940): ID[0]=0(0) Dn(0=&amp;gt;1)&#10;07-09 18:28:46.092 V/WindowManager( 2940): Dsptch &amp;gt; Window{4739b5f8 TrackingView paused=false}&#10;07-09 18:28:46.242 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:46.247 V/InputDevice( 2940): ID[0]=0(0) Up(1=&amp;gt;0)&#10;07-09 18:28:46.252 V/WindowManager( 2940): Dsptch &amp;gt; Window{4739b5f8 TrackingView paused=false}&#10;07-09 18:28:46.537 W/InputManagerService( 2940): Window already focused, ignoring focus gain of: com.android.internal.view.IInputMethodClient$Stub$Proxy@470d25d0&#10;07-09 18:28:47.879 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:47.882 V/InputDevice( 2940): ID[0]=0(0) Dn(0=&amp;gt;1)&#10;07-09 18:28:47.892 V/WindowManager( 2940): Dsptch &amp;gt; Window{4732a058 StatusBar paused=false}&#10;07-09 18:28:48.087 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:48.092 V/InputDevice( 2940): ID[0]=0(0) Up(1=&amp;gt;0)&#10;07-09 18:28:48.097 V/WindowManager( 2940): Dsptch &amp;gt; Window{4732a058 StatusBar paused=false}&#10;07-09 18:28:48.617 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:48.622 V/WindowManager( 2940): Dsptch &amp;gt; Window{473baca0 StatusBarExpanded paused=false}&#10;07-09 18:28:48.622 V/InputDevice( 2940): ID[0]=0(0) Dn(0=&amp;gt;1)&#10;07-09 18:28:48.747 I/KeyInputQueue( 2940): Input event&#10;07-09 18:28:48.747 V/WindowManager( 2940): Dsptch &amp;gt; Window{473baca0 StatusBarExpanded paused=false}&#10;07-09 18:28:48.747 V/InputDevice( 2940): ID[0]=0(0) Up(1=&amp;gt;0)&#10;07-09 18:28:49.032 W/InputManagerService( 2940): Window already focused, ignoring focus gain of: com.android.internal.view.IInputMethodClient$Stub$Proxy@46fc9070&#10;&#10;" CommentCount="9" CreationDate="2013-07-09T12:48:38.213" FavoriteCount="1" Id="48842" LastActivityDate="2013-08-24T17:28:39.587" LastEditDate="2013-07-09T17:35:18.780" LastEditorUserId="4003" OwnerUserId="34295" PostTypeId="1" Score="1" Tags="&lt;applications&gt;&lt;root-access&gt;&lt;superuser&gt;" Title="Superuser app won't grant root acess anymore" ViewCount="20358" />
  <row Body="According to this StackOverflow question, YES.&#10;&#10;Excerpt:  &#10;&#10;public static void setAutoOrientationEnabled(ContentResolver resolver, boolean enabled)  &#10;{  &#10;   &lt;api&gt;Settings.System.putInt(resolver, Settings.System.ACCELEROMETER_ROTATION, enabled ? 1 : 0)&lt;/api&gt;;  &#10;}&#10;&#10;" CommentCount="3" CreationDate="2013-07-18T08:15:39.320" Id="49351" LastActivityDate="2013-07-18T09:46:55.090" LastEditDate="2013-07-18T09:46:55.090" LastEditorUserId="5342" OwnerUserId="5342" ParentId="49349" PostTypeId="2" Score="2" />
  <row Body="Android source code explains it perfectly in AudioService.java&#10;For any experienced Android hacker, It's quite easy to patch it out though.&#10;&#10;//==========================================================================================&#10; // Safe media volume management.&#10; // MUSIC stream volume level is limited when headphones are connected according to safety&#10; // regulation. When the user attempts to raise the volume above the limit, a warning is&#10; // displayed and the user has to acknowlegde before the volume is actually changed.&#10; // The volume index corresponding to the limit is stored in config_safe_media_volume_index&#10; // property. Platforms with a different limit must set this property accordingly in their&#10; // overlay.&#10; //==========================================================================================&#10;&#10; // mSafeMediaVolumeState indicates whether the media volume is limited over headphones.&#10; // It is SAFE_MEDIA_VOLUME_NOT_CONFIGURED at boot time until a network service is connected&#10; // or the configure time is elapsed. It is then set to SAFE_MEDIA_VOLUME_ACTIVE or&#10; // SAFE_MEDIA_VOLUME_DISABLED according to country option. If not SAFE_MEDIA_VOLUME_DISABLED, it&#10; // can be set to SAFE_MEDIA_VOLUME_INACTIVE by calling &lt;api&gt;AudioService.disableSafeMediaVolume()&lt;/api&gt;&#10; // (when user opts out).&#10;&#10;" CommentCount="1" CreationDate="2013-08-13T01:02:39.637" Id="51116" LastActivityDate="2013-08-13T01:02:39.637" OwnerUserId="23685" ParentId="39583" PostTypeId="2" Score="3" />
  <row AnswerCount="0" Body="I am running into a strange issue, running adb shell sendevent x x x commands from commandline works fine, but when I use any of the following:&#10;&#10;&lt;api&gt;subprocess.Popen(['adb', 'shell', 'sendevent', 'x', 'x','x'])&lt;/api&gt;&#10; &lt;api&gt;subprocess.Popen('adb shell sendevent x x x', shell=True)&lt;/api&gt;&#10; &lt;api&gt;subprocess.call(['adb', 'shell', 'sendevent', 'x', 'x','x'])&lt;/api&gt;&#10;&#10;They all fail - the simulated touch even that works in a shell script does not work properly when called through python. Furthermore I tried adb push the shell script to the device, and using adb shell /system/sh /sdcard/script.sh I was able to run it successfully, but when I try to run that commandline through python, the script fails.&#10;&#10;What's even stranger, is that he script runs, but for example, it does not seem to execute the command sleep 1 half way through the script, echo commands work, sendevent commands don't seem to work.&#10;&#10;Doesn't even seem possible, but there it is. How do I run a set of adb shell sendevent x x x commands through python?&#10;" CommentCount="3" CreationDate="2013-08-23T16:13:49.260" Id="51838" LastActivityDate="2013-08-23T16:13:49.260" OwnerUserId="39351" PostTypeId="1" Score="0" Tags="&lt;python&gt;" Title="Using Popen to invoke adb sendevent" ViewCount="1184" />
  <row AcceptedAnswerId="55042" AnswerCount="1" Body="Initial situation:&#10;&#10;A RESTful webservice defends against CSRF attacks by using the double submit cookie approach. This means that the authentication token gets submitted twice and verified at the service side.&#10;&#10;Problem / Security Threat:&#10;&#10;The WebView element of the android and iOS plattforms allow to create a malicious web browser that unveils and modifies session cookies. &lt;api&gt;webView.loadUrl(&quot;javascript:document.cookie=’’;&quot;)&lt;/api&gt;;. If the attacker already figured out, how the double submitted cookie looks like, (In this case it's the AuthenticationToken) he is able to create a malicious RESTBrowser. Therefore he adds the already known CSRFToken to the document object model and thus bypasses the CSRF countermeasure. Is that right so far?&#10;&#10;Possible Preventions:&#10;&#10;So far I have no idea how I can prevent an attacker from creating und publishing such a malicious mobile application, as well to prevent the service from beeing accessed via malicious mobile applications. I know about the existence of the User-Agent header and that the service can use this information to reject requests from others than specific browsers. But I'm sure that also this header can be manipulated within the WebView. &#10;&#10;What are effective countermeasures aginst CSRF in contex of malicious mobile applications?&#10;" ClosedDate="2013-10-14T09:45:57.327" CommentCount="2" CreationDate="2013-10-13T23:50:54.833" Id="55040" LastActivityDate="2013-10-14T01:36:31.670" OwnerUserId="43242" PostTypeId="1" Score="0" Tags="&lt;security&gt;&lt;browser&gt;&lt;webview&gt;" Title="Does a malicious android WebView break the DoubleSubmittCookie countermeasure against CSRF?" ViewCount="350" />
  <row Body="I was concerned about this as well and decided to decompile the app to find out what it's doing. Twitter receives SMS messages via a BroadcastReceiver in com.twitter.applib.client.SmsReceiver. Here is what the code looks like after decompiling it to Java with dex2jar and jd-gui.&#10;&#10;public class SmsReceiver extends BroadcastReceiver&#10;{&#10;  private void a(Context paramContext, SmsMessage paramSmsMessage)&#10;  {&#10;    if (paramSmsMessage != null)&#10;    {&#10;      String str1 = &lt;api&gt;paramSmsMessage.getMessageBody()&lt;/api&gt;;&#10;      String str2 = &lt;api&gt;paramContext.getText(mb.sms_verification_text)&lt;/api&gt;.toString();&#10;      if ((&lt;api&gt;&quot;40404&quot;.equals(paramSmsMessage.getOriginatingAddress()))&lt;/api&gt; &amp;amp;&amp;amp; (&lt;api&gt;str1.startsWith(str2)&lt;/api&gt;))&#10;      {&#10;        SharedPreferences localSharedPreferences = &lt;api&gt;PreferenceManager.getDefaultSharedPreferences(paramContext)&lt;/api&gt;;&#10;        &lt;api&gt;localSharedPreferences.edit()&lt;/api&gt;.putString(&quot;device_registration_sms_text&quot;, str1).commit();&#10;        String str3 = &lt;api&gt;localSharedPreferences.getString(&quot;device_registration_normalized_phone_number&quot;, &quot;&quot;)&lt;/api&gt;;&#10;        if ((!&lt;api&gt;TextUtils.isEmpty(str3))&lt;/api&gt; &amp;amp;&amp;amp; (!&lt;api&gt;TextUtils.isEmpty(str1)))&lt;/api&gt;&#10;          &lt;api&gt;a.a(paramContext)&lt;/api&gt;.c(str3, str1);&#10;      }&#10;    }&#10;  }&#10;&#10;  public void onReceive(Context paramContext, Intent paramIntent)&#10;  {&#10;    Bundle localBundle = &lt;api&gt;paramIntent.getExtras()&lt;/api&gt;;&#10;    if (localBundle != null)&#10;    {&#10;      Object[] arrayOfObject = (Object[])&lt;api&gt;localBundle.get(&quot;pdus&quot;)&lt;/api&gt;;&#10;      int i = arrayOfObject.length;&#10;      for (int j = 0; j &amp;lt; i; j++)&#10;        a(paramContext, &lt;api&gt;SmsMessage.createFromPdu((byte[])&lt;/api&gt;arrayOfObject[j]));&#10;    }&#10;  }&#10;}&#10;&#10;&#10;You see see here that when a text message is received, the app passes the message to a() and checks that it comes from twitter's number. Then it writes the content of the message to shared preferences. As Problematic suggested, the app is only verifying your number and not doing anything malicious. Although Twitter isn't doing anything malicious, it would have been nice if they would have explained why the app needs this permission in the last update.&#10;" CommentCount="5" CreationDate="2013-11-26T20:26:25.000" Id="57779" LastActivityDate="2013-11-27T04:16:02.007" LastEditDate="2013-11-27T04:16:02.007" LastEditorUserId="46991" OwnerUserId="46991" ParentId="57726" PostTypeId="2" Score="5" />
  <row Body="Use the following commands from RootTools library.  &#10;&#10;    &lt;api&gt;RootTools.isRootAvailable()&lt;/api&gt;;&#10;&#10;&#10;or  &#10;&#10;    &lt;api&gt;RootTools.RootTools.isAccessGiven()&lt;/api&gt;;&#10;&#10;" CommentCount="1" CreationDate="2013-12-11T08:48:44.030" Id="58728" LastActivityDate="2013-12-11T08:48:44.030" OwnerUserId="47965" ParentId="13335" PostTypeId="2" Score="0" />
  <row AnswerCount="0" Body="I have a Nexus 4 with Android 4.4.1 … I've read that we could root it without wiping the data …  well didn't work for me!&#10;&#10;I wasn't scared, because I made a full backup using: &#10;&#10;adb backup -apk -shared -all --nosystem&#10;&#10;&#10;Two things I forgot&#10;&#10;&#10;SMS are not restored&#10;Google Authenticator data are not restored (the&#10;same week I switch all my accounts to two-step auth, like MtGOX …)&#10;&#10;&#10;However, the problem is this :&#10;&#10;Almost everything is restored, except the Pictures .. &#10;&#10;Here is a part of the logs from log cat during the restore process&#10;&#10; adb shell logcat&#10;&#10;I/BackupManagerService(  605): File in shared storage: 0/DCIM/Camera/IMG_20130731_170638.jpg&#10;D/BackupManagerService(  605): [discarding file content]&#10;I/BackupManagerService(  605): File in shared storage: 0/DCIM/Camera/IMG_20130731_170235.jpg&#10;D/BackupManagerService(  605): [discarding file content]&#10;I/BackupManagerService(  605): File in shared storage: 0/DCIM/Camera/IMG_20130731_170116.jpg&#10;D/BackupManagerService(  605): [discarding file content]&#10;I/BackupManagerService(  605): File in shared storage: 0/DCIM/Camera/IMG_20130731_170110.jpg&#10;&#10;&#10;My question is, how to restore the pictures ?&#10;There is no &quot;adb restore -shared&quot; option ..&#10;&#10;In addition, it seem that all the android backup extractor solutions abe, perl, and the last version Titanium Pro, are not able to open encrypted android 4.4 backups …&#10;&#10;Any ideas ?&#10;&#10;UPDATE&#10;&#10;Got a reply from Android Backup Developer (abe.jar) and this change + recompilation fixed the problem of extracting the backup. But this is not answering my initial question, why the photos are not restored using adb restore.&#10;&#10;Full discussion here: https://github.com/nelenkov/android-backup-extractor/issues/7&#10;&#10;&#10;  This is the result of the change described here:&#10;  http://android-developers.blogspot.jp/2013/12/changes-to-secretkeyfactory-api-in.html&#10;  &#10;  and can be probably treated as an Android bug, because restring&#10;  backups made with 4.3 will most likely fail on 4.4. File one at&#10;  b.android.com if you can confirm this.&#10;  &#10;  The fix is to replace&#10;  &lt;api&gt;PBEParametersGenerator.PKCS5PasswordToBytes(pwArray)&lt;/api&gt; in&#10;  AndroidBackup.java:413 with&#10;  &lt;api&gt;PBEParametersGenerator.PKCS5PasswordToUTF8Bytes(pwArray)&lt;/api&gt;. There&#10;  probably needs to be some flag to switch behaviour for 4.4 and prior&#10;  versions.&#10;&#10;" CommentCount="6" CreationDate="2013-12-16T07:46:47.920" Id="59052" LastActivityDate="2013-12-19T02:30:04.160" LastEditDate="2013-12-19T02:30:04.160" LastEditorUserId="10147" OwnerUserId="10147" PostTypeId="1" Score="1" Tags="&lt;adb&gt;&lt;nexus-4&gt;&lt;encryption&gt;&lt;restore&gt;&lt;titanium-backup&gt;" Title="adb restore not working for shared" ViewCount="1144" />
  <row AcceptedAnswerId="59634" AnswerCount="1" Body="I'm trying to use the package name and determine the apk path of an app to check if my app is installed in the device. &#10;&#10;pathCmd = './adb shell pm path ' + packageName&#10;&#10;&#10;pathData = &lt;api&gt;os.popen(pathCmd,&quot;r&quot;)&lt;/api&gt;&#10;&#10;&#10;for pathInfo in pathData:&#10;&#10;    print pathInfo &#10;&#10;    if not pathInfo:&#10;        print &quot;App not found on the device&quot;&#10;&#10;    else:&#10;        print &quot;App found on the device&quot;&#10;&#10;&#10;This doesn't give me the list of apps that are not installed. Any idea whats wrong with my script?&#10;" CommentCount="2" CreationDate="2013-12-23T23:11:56.137" Id="59629" LastActivityDate="2015-04-26T20:53:44.293" OwnerUserId="42104" PostTypeId="1" Score="0" Tags="&lt;applications&gt;&lt;adb&gt;&lt;python&gt;" Title="Check if an app is installed on the device" ViewCount="2238" />
  <row AnswerCount="0" Body="How Do we find what level of Android permission is required for a specific permission.&#10;&#10;Lets say we have android.permission.SET_ACTIVITY_WATCHER(docs)&#10;&#10;What permission group does it fall into?(docs)&#10;&#10;&#10;Regular&#10;Dangerous&#10;System or Signed&#10;Signed &#10;&#10;" ClosedDate="2013-12-29T19:22:50.873" CommentCount="4" CreationDate="2013-12-29T09:56:13.587" Id="60030" LastActivityDate="2013-12-29T09:56:13.587" OwnerUserId="46784" PostTypeId="1" Score="0" Tags="&lt;applications&gt;&lt;permissions&gt;" Title="Android permission and ProtectionLevel" ViewCount="15" />
  <row Body="YES, you can. Everything is possible.&#10;Just call the toast multiple times in the code.&#10;I put the toast code in a method,&#10;and I call that method 3 times back to back to back.&#10;Toast stays on the screen for a good amount of time, and i get the visually effect I want.&#10;simple, works for me.&#10;&#10;public class Image extends Activity {&#10;&#10;ImageView image;&#10;String sceneUrl;&#10;String networkAvatar;&#10;&#10;protected void onCreate(Bundle savedInstanceState) {&#10;   &lt;api&gt;super.onCreate(savedInstanceState)&lt;/api&gt;;&#10;   setContentView(R.layout.image);&#10;   Intent intent = getIntent();&#10;   String networkAvatar = &lt;api&gt;intent.getStringExtra(&quot;networkAvatar&quot;)&lt;/api&gt;;&#10;   customToast(&quot;hey&quot;, cool);&#10;   customToast(&quot;hey&quot;, cool);&#10;   customToast(&quot;hey&quot;, cool);&#10; }&#10;&#10;   private void customToast(String message, String avatar) {&#10;     LayoutInflater li = getLayoutInflater();&#10;     View toastLayout = &lt;api&gt;li.inflate(R.layout.toast, (ViewGroup)findViewById&#10;             (R.id.toastLayout))&lt;/api&gt;;&#10;     ImageView imageToast = (ImageView) &lt;api&gt;toastLayout.findViewById(R.id.toastImage)&lt;/api&gt;;&#10;     &lt;api&gt;Picasso.with(this)&lt;/api&gt;.load(avatar).into(imageToast);&#10;     TextView text = (TextView) &lt;api&gt;toastLayout.findViewById(R.id.toastText)&lt;/api&gt;;&#10;     &lt;api&gt;text.setText(message)&lt;/api&gt;;&#10;     Toast toast = new Toast(this);&#10;     &lt;api&gt;toast.setDuration(Toast.LENGTH_LONG)&lt;/api&gt;;&#10;     &lt;api&gt;toast.setView(toastLayout)&lt;/api&gt;;&#10;     &lt;api&gt;toast.setGravity(Gravity.FILL_HORIZONTAL|Gravity.BOTTOM|Gravity.RIGHT,100,50)&lt;/api&gt;;&#10;     &lt;api&gt;toast.show()&lt;/api&gt;;&#10; }&#10;&#10;&#10;If it's gonna leak memory or cause my user's phone to blowup someone please let me know.&#10;" CommentCount="2" CreationDate="2014-01-09T19:04:10.270" Id="60835" LastActivityDate="2014-01-09T19:04:10.270" OwnerUserId="25613" ParentId="37834" PostTypeId="2" Score="-1" />
  <row AcceptedAnswerId="62716" AnswerCount="1" Body="I have a HP Touchpad that successfully installed webos and CM9 with moboot to select which to boot. Today, I want to update CM9 to CM10.1 or CM11, and here come the problems: it couldn't install the zip I downloaded and I thought it's because the recovery is too old, which is CWM v5.x(I can't remember precisely). so I install a CWM v6.x, but it can't work either.&#10;&#10;Now, I want to flash the CWM v5.x back, and it seems using fastboot is the only way. But with moboot, I just can't enter bootloader mode, the only selections available are WebOS, CM and CWM.&#10;&#10;Can someone tell me how to enter bootloader, so that I can flash the older CWM back, and restore my data? For now, I can only enter WebOS, and the Android system won't work: it just turns black after the splash screen.&#10;" CommentCount="0" CreationDate="2014-01-22T15:33:02.700" Id="61735" LastActivityDate="2014-02-04T12:51:44.493" LastEditDate="2014-01-22T15:53:08.863" LastEditorUserId="16575" OwnerUserId="51479" PostTypeId="1" Score="0" Tags="&lt;bootloader&gt;" Title="how to enter bootloader with moboot in HP Touchpad" ViewCount="370" />
  <row Body="If you do not need the recording and playback functionality in your app, using off-the-shelf streaming app and player is a reasonable choice.  &#10;&#10;If you do need them to be in your app, however, you will have to look into MediaRecorder API (for the server/camera app) and MediaPlayer (for client/player app).&#10;&#10;Quick sample code for the server:&#10;&#10;// this is your network socket&#10;ParcelFileDescriptor pfd = &lt;api&gt;ParcelFileDescriptor.fromSocket(socket)&lt;/api&gt;;&#10;mCamera = getCameraInstance();&#10;mMediaRecorder = new MediaRecorder();&#10;&lt;api&gt;mCamera.unlock()&lt;/api&gt;;&#10;&lt;api&gt;mMediaRecorder.setCamera(mCamera)&lt;/api&gt;;&#10;&lt;api&gt;mMediaRecorder.setAudioSource(MediaRecorder.AudioSource.CAMCORDER)&lt;/api&gt;;&#10;&lt;api&gt;mMediaRecorder.setVideoSource(MediaRecorder.VideoSource.CAMERA)&lt;/api&gt;;&#10;// this is the unofficially supported MPEG2TS format, suitable for streaming (Android 3.0+)&#10;&lt;api&gt;mMediaRecorder.setOutputFormat(8)&lt;/api&gt;;&#10;&lt;api&gt;mMediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.DEFAULT)&lt;/api&gt;;&#10;&lt;api&gt;mMediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.DEFAULT)&lt;/api&gt;;&#10;&lt;api&gt;mediaRecorder.setOutputFile(pfd.getFileDescriptor())&lt;/api&gt;;&#10;&lt;api&gt;mMediaRecorder.setPreviewDisplay(mPreview.getHolder().getSurface())&lt;/api&gt;;&#10;&lt;api&gt;mMediaRecorder.prepare()&lt;/api&gt;;&#10;&lt;api&gt;mMediaRecorder.start()&lt;/api&gt;;&#10;&#10;&#10;On the player side it is a bit tricky, you could try this:&#10;&#10;// this is your network socket, connected to the server&#10;ParcelFileDescriptor pfd = &lt;api&gt;ParcelFileDescriptor.fromSocket(socket)&lt;/api&gt;;&#10;mMediaPlayer = new MediaPlayer();&#10;&lt;api&gt;mMediaPlayer.setDataSource(pfd.getFileDescriptor())&lt;/api&gt;;&#10;&lt;api&gt;mMediaPlayer.prepare()&lt;/api&gt;;&#10;&lt;api&gt;mMediaPlayer.start()&lt;/api&gt;;&#10;&#10;&#10;Unfortunately mediaplayer tends to not like this, so you have a couple of options: either (a) save data from socket to file and (after you have a bit of data) play with mediaplayer from file, or (b) make a tiny http proxy that runs locally and can accept mediaplayer's GET request, reply with HTTP headers, and then copy data from the remote server to it.  For (a) you would create the mediaplayer with a file path or file url, for (b) give it a http url pointing to your proxy.&#10;&#10;See also:&#10;&#10;http://stackoverflow.com/questions/6116880/stream-live-video-from-phone-to-phone-using-socket-fd/&#10;&#10;http://stackoverflow.com/questions/5343730/mediaplayer-stutters-at-start-of-mp3-playback/&#10;" CommentCount="0" CreationDate="2014-04-03T06:40:38.787" Id="66802" LastActivityDate="2014-04-03T06:40:38.787" OwnerUserId="57676" ParentId="66793" PostTypeId="2" Score="1" />
  <row AcceptedAnswerId="68136" AnswerCount="1" Body="How do I convert the following java code to an adb command?&#10;&#10;Intent intent = new Intent(Intent.ACTION_VIEW);&#10;&lt;api&gt;intent.setData(Uri.parse(&quot;com.glass.videoglass://&quot;))&lt;/api&gt;;&#10;&lt;api&gt;intent.putExtra(&quot;startFromWS&quot;, true)&lt;/api&gt;;&#10;startActivity(intent);&#10;&#10;&#10;The only thing I've seen so far is &#10;&#10;adb shell am start -n com.package.name/com.package.name.ActivityName&#10;&#10;" CommentCount="0" CreationDate="2014-04-23T21:41:56.537" Id="68105" LastActivityDate="2014-04-24T09:05:48.843" OwnerUserId="49708" PostTypeId="1" Score="1" Tags="&lt;adb&gt;" Title="Sending intents with adb with ACTION_VIEW, setData, and putExtra?" ViewCount="3952" />
  <row AnswerCount="2" Body="How I can check whether a particular android app is vulnerable to heartbleed or not? I don't want to use any third party app.&#10;I have seen https://github.com/musalbas/heartbleed-masstest/blob/master/ssltest.py but I want to do it with app. I don't know the domain name the app is communicating to. Are the app bundle the OpenSSL libraries with apk, If yes how to find the version of OpenSSL being used.&#10;&#10;@Solution:&#10;I have wriiten python module which takes an APK and it do the check for openSSL version and heartbeat extension.&#10;&#10;&#10;import zipfile&#10;import os&#10;import re&#10;&#10;def heart_bleed(tempdir, msl_outputfile):&#10;    parrent_tempdir = &lt;api&gt;tempdir.split('tmp')&lt;/api&gt;[0]&#10;    sslpattern = &lt;api&gt;re.compile(&quot;1.0.1[a-f]&quot;)&lt;/api&gt;&#10;    flagssl = False&#10;    flagheartbleed = False&#10;&#10;    msllst_heartbleed = []&#10;    msc_vulid = &quot;heartbleed&quot;&#10;    msc_infoseverity = &quot;Info&quot;&#10;    msc_medseverity = &quot;Medium&quot;&#10;    apkpath = ''&#10;    if (parrent_tempdir):&#10;        for root, dummy_dirs, files in &lt;api&gt;os.walk(parrent_tempdir)&lt;/api&gt;:&#10;            for allfile in files:&#10;                if &lt;api&gt;allfile.endswith(&quot;.apk&quot;)&lt;/api&gt;:&#10;&#10;                    apkpath = &lt;api&gt;os.path.join(root, allfile)&lt;/api&gt;&#10;&#10;        #print(apkpath)&#10;        with &lt;api&gt;zipfile.ZipFile(apkpath, &quot;r&quot;)&lt;/api&gt; as msl_apkread:&#10;            for i in &lt;api&gt;msl_apkread.namelist()&lt;/api&gt;:&#10;                if &lt;api&gt;i.endswith(&quot;.so&quot;)&lt;/api&gt;:&#10;                    data = &lt;api&gt;msl_apkread.read(i)&lt;/api&gt;&#10;                    if &quot;part of OpenSSL&quot; in data:&#10;                        start = &lt;api&gt;data.index(&quot;part of OpenSSL&quot;)&lt;/api&gt;&#10;                        resultdata = str(data[start:start+40])&#10;                        sslversion = &lt;api&gt;re.findall(sslpattern, resultdata)&lt;/api&gt;&#10;                        if sslversion:&#10;                            flagssl = True&#10;&#10;                            if &quot;tls1_heartbeat&quot; in data:&#10;                                flagheartbleed = True&#10;&#10;        if flagssl and flagheartbleed:&#10;            print(&quot;The App is using OpenSSL version &quot; + sslversion[0] + &quot; which is vulnerable to Heartbleed and Heartbeat extension is enabled.&quot;))&#10;        elif flagssl or flagheartbleed:&#10;            print(&quot;The App is using OpenSSL version &quot; + sslversion[0] + &quot; which is vulnerable to Heartbleed but Heartbeat extension is disabled.&quot;))&#10;&#10;&#10;&#10;Please comment is it right to do ?&#10;" CommentCount="0" CreationDate="2014-06-05T08:36:18.067" Id="71601" LastActivityDate="2014-06-11T06:39:53.100" LastEditDate="2014-06-11T06:39:53.100" LastEditorUserId="48747" OwnerUserId="48747" PostTypeId="1" Score="1" Tags="&lt;applications&gt;&lt;security&gt;" Title="Heartbleed check for Android App" ViewCount="538" />
  <row Body="From the sources, it looks like it's printing out the contents of the SignalStrength object:&#10;&#10;&#10;private SignalStrength mSignalStrength = new SignalStrength();&#10;&#10;...&#10;&#10;        &lt;api&gt;pw.println(&quot;last known state:&quot;)&lt;/api&gt;;&#10;        ...&#10;        &lt;api&gt;pw.println(&quot;  mSignalStrength=&quot; + mSignalStrength)&lt;/api&gt;;&#10;        ...&#10;&#10;&#10;&#10;This object is described in detail on the Android Developers reference here.  The string representation of the SignalStrength class is defined here (search for &quot;toString&quot; function):&#10;&#10;&#10;public String toString() {&#10;    return (&quot;SignalStrength:&quot;&#10;            + &quot; &quot; + mGsmSignalStrength&#10;            + &quot; &quot; + mGsmBitErrorRate&#10;            + &quot; &quot; + mCdmaDbm&#10;            + &quot; &quot; + mCdmaEcio&#10;            + &quot; &quot; + mEvdoDbm&#10;            + &quot; &quot; + mEvdoEcio&#10;            + &quot; &quot; + mEvdoSnr&#10;            + &quot; &quot; + mLteSignalStrength&#10;            + &quot; &quot; + mLteRsrp&#10;            + &quot; &quot; + mLteRsrq&#10;            + &quot; &quot; + mLteRssnr&#10;            + &quot; &quot; + mLteCqi&#10;            + &quot; &quot; + (isGsm ? &quot;gsm|lte&quot; : &quot;cdma&quot;));&#10;}&#10;&#10;&#10;&#10;This basically tells you the columns in the dumpsys output.&#10;" CommentCount="1" CreationDate="2014-06-26T16:46:45.753" Id="74954" LastActivityDate="2014-06-26T16:46:45.753" OwnerUserId="3646" ParentId="74952" PostTypeId="2" Score="4" />
  <row Body="Since you make a reference to both java and adb in your question it sounds as if you're familiar with both.&#10;&#10;Just have your Java application as a wrapper to perform adb system commands.&#10;&#10;Using the system commands to adb, you could use the same Java program (adb wrapper) to check for the installs and actually perform the installs.&#10;&#10;You can replace the &quot;pm list packages&quot; with any of the adb commands do perform your intentions.&#10;&#10;This is the java class you can use.  Of course your java application can search the return (response) string for the apps you want to verify.&#10;&#10;import java.io.BufferedReader;&#10;import java.io.IOException;&#10;import java.io.InputStream;&#10;import java.io.InputStreamReader;&#10;&#10;&#10;public class checkandroid {&#10;&#10;    static int exitstatus;&#10;&#10;    public static void main(String[] args) {&#10;        // TODO Auto-generated method stub&#10;&#10;        String shellcommand = &quot;/opt/android/android-studio/sdk/platform-tools/adb shell pm list packages&quot;;&#10;&#10;        String response = runit(shellcommand);&#10;&#10;        &lt;api&gt;System.out.println(response)&lt;/api&gt;;&#10;&#10;    }&#10;    static String runit(String inputstr) {&#10;        String output = &quot;&quot;;&#10;        exitstatus = 0;&#10;&#10;        Process p = null;&#10;&#10;        // -----------------------------------------------&#10;&#10;        try {&#10;&#10;            p = &lt;api&gt;Runtime.getRuntime()&lt;/api&gt;.exec(inputstr);&#10;&#10;            InputStream cmdStdOut = null;&#10;            InputStream cmdStdErr = null;&#10;&#10;            cmdStdOut = &lt;api&gt;p.getInputStream()&lt;/api&gt;;&#10;            cmdStdErr = &lt;api&gt;p.getErrorStream()&lt;/api&gt;;&#10;&#10;            String line = &quot;&quot;;&#10;            String line1 = &quot;&quot;;&#10;            BufferedReader stdOut = new BufferedReader(new InputStreamReader(&#10;                    cmdStdOut));&#10;            BufferedReader stdErr = new BufferedReader(new InputStreamReader(&#10;                    cmdStdErr));&#10;            while ((line = &lt;api&gt;stdOut.readLine())&lt;/api&gt; != null) {&#10;                // &lt;api&gt;logger.info(line)&lt;/api&gt;;&#10;                // &lt;api&gt;System.out.println(line)&lt;/api&gt;;&#10;                output += line + &quot;\n&quot;;&#10;            }&#10;            &lt;api&gt;stdOut.close()&lt;/api&gt;;&#10;            &lt;api&gt;System.out.print(&quot;Error Status: &quot;)&lt;/api&gt;;&#10;            while ((line1 = &lt;api&gt;stdErr.readLine())&lt;/api&gt; != null) {&#10;                // &lt;api&gt;logger.info(line)&lt;/api&gt;;&#10;                &lt;api&gt;System.out.println(line1)&lt;/api&gt;;&#10;                output += line1;&#10;            }&#10;            &lt;api&gt;stdErr.close()&lt;/api&gt;;&#10;&#10;            try {&#10;                &lt;api&gt;p.waitFor()&lt;/api&gt;;&#10;&#10;            } catch (InterruptedException e) {&#10;                // Auto-generated catch block&#10;                &lt;api&gt;e.printStackTrace()&lt;/api&gt;;&#10;            }&#10;            exitstatus = &lt;api&gt;p.exitValue()&lt;/api&gt;;&#10;            &lt;api&gt;System.out.println(p.exitValue())&lt;/api&gt;;&#10;        } catch (IOException e) {&#10;            // Auto-generated catch block&#10;            &lt;api&gt;e.printStackTrace()&lt;/api&gt;;&#10;        }&#10;&#10;        // -----------------------------------------------&#10;&#10;        return output;&#10;    }&#10;&#10;}&#10;&#10;" CommentCount="2" CreationDate="2014-07-30T09:05:42.863" Id="78394" LastActivityDate="2014-07-30T09:05:42.863" OwnerUserId="57926" ParentId="78377" PostTypeId="2" Score="0" />
  <row Body="There are at least three ways of doing it.&#10;&#10;Programmatically by starting an Activity with Intent.ACTION_DIAL:&#10;&#10;String secretCode = &quot;123456789&quot;;&#10;Intent intent = new Intent(Intent.ACTION_DIAL);&#10;&lt;api&gt;intent.setData(Uri.parse(&quot;tel:*#*#&quot; + secretCode + &quot;#*#*&quot;))&lt;/api&gt;;&#10;startActivity(intent);&#10;&#10;&#10;Programmatically by broadcasting an Intent:&#10;&#10;String secretCode = &quot;123456789&quot;;&#10;String action = &quot;android.provider.Telephony.SECRET_CODE&quot;;&#10;Uri uri = &lt;api&gt;Uri.parse(&quot;android_secret_code://&quot; + secretCode)&lt;/api&gt;;&#10;Intent intent = new Intent(action, uri);&#10;sendBroadcast(intent);&#10;&#10;&#10;With a third party app:&#10;&#10;I developed an open source app that crawls AndroidManifest.xml files on your device to find secret codes, and allows you to execute the secret codes available on your device.&#10;You can get it on the Play Store or on the GitHub repository Android-Secret Codes.&#10;" CommentCount="0" CreationDate="2014-08-02T09:54:04.140" Id="78606" LastActivityDate="2015-08-26T15:03:30.747" LastEditDate="2015-08-26T15:03:30.747" LastEditorUserId="1465" OwnerUserId="68739" ParentId="59259" PostTypeId="2" Score="3" />
  <row Body="When unlocking your bootloader it wipes the tablet, so any data you have on it will be erased. So do a backup before doing anything.&#10;&#10;Unlocking the boot loader will not wipeout the OS, that is only done if you install another ROM.&#10;&#10;Rooting the Nexus 7 is probably the easiest device to do it on. Here are some links that I have used in the past to accomplish that.&#10;&#10;The XDA forum:  http://forum.xda-developers.com/showthread.php?t=1766475&#10;&#10;The NexusToolkit download:  http://www.wugfresh.com/nrt/&#10;&#10;Read both thoroughly, everything is explained in an easy to understand way. &#10;&#10;The XDA forum is a great source of invaluable information.&#10;&#10;The Nexus Toolkit is very concise, with an intuitive UI, that runs on your PC. This will unlock the boot loader, install(flash) recovery, install your boot.img(kernel), and install ROM. There is a vast amount of other features, but you'll find them out when using the toolkit.&#10;" CommentCount="0" CreationDate="2014-09-03T00:37:29.233" Id="81800" LastActivityDate="2014-09-03T00:37:29.233" OwnerUserId="72228" ParentId="63779" PostTypeId="2" Score="0" />
  <row Body="Note: I have tried to make below a bit more generic than your specific Mac OS option, but the Mac is covered in the below answer, but this may help other Nexus 5 users. Full credit to the OP on XDA. &#10;&#10;If you want to restore your Nexus 5 back to stock, you can flash a Factory Image. Note: This process will wipe your phone completely. Backup your storage before you continue. There are 2 methods, below I've given the &quot;easy&quot; method.&#10;&#10;For this process, you will need to:&#10;&#10;&#10;Install adb and fastboot drivers. To do this, use this program:&#10;For MAC users:&#10;*Note: MAC users will have to write &quot;./&quot; before every command in this thread. For example : &#10;&#10;&#10;./fastboot flash recovery recovery.img&#10;&#10;Linux users&#10;&#10;&#10;Download the latest factory images from here&#10;Extract the archive you downloaded (Use WinRAR). It should look like this:&#10;&#10;&#10;&#10;&#10;&#10;Unlock your bootloader (In case you haven't already)&#10;&#10;&#10;Easy Method:&#10;&#10;&#10;Power off your phone. &#10;Boot it in fastboot by pressing and holding Power Button + Volume Down at the same time.&#10;Connect your phone to your PC through your USB cable.&#10;Execute the flash-all.bat script (for Windows) or flash-all.sh(for MAC and LINUX) in the folder where you extracted the factory images.&#10;!! For MAC: You'll have to edit the flash-all.sh, and add &quot;./&quot; before every fastboot command.&#10;Wait for everything to flash.&#10;After everything finished, select &quot;Recovery&quot; using the volume buttons.&#10;When a small dead Android appears, press Power Button + Volume UP.&#10;Select &quot;Wipe data/factory data reset&quot;&#10;Reboot. Your phone should be stock. &#10;&#10;&#10;If you want to Unroot completely: &#10;&#10;The Nexus 5 has a thing implemented in the bootloader called a tamper flag. This shows if the bootloader was ever unlocked, kind of like the flash counter with Samsung devices. You can check it out by using this command&#10;&#10;fastboot oem device-info&#10;&#10;. If the tamper flag value is &quot;true&quot;, then you'll have to reset it. The following steps will reset this flag, and lock your bootloader.&#10;&#10;&#10;So, first, go here (Thanks @osm0sis for the wonderful script)&#10;Under &quot;Flashable Zips&quot;, you will find the Nexus BootUnlocker script. Download it.&#10;Put the zip on your internal storage.&#10;Download the latest TWRP recovery image for the Nexus 5 from here. Rename it to TWRP.img.&#10;Now boot it. You do this by booting your phone in fastboot, and typing the following command:&#10;&#10;fastboot boot path/to/TWRP.img&#10;&#10;&#10;Replace path/to/TWRP.img with the path to where you placed the TWRP.img. For example: C:/Users/X/Desktop/TWRP.img&#10;&#10;&#10;TWRP recovery should boot.&#10;When TWRP finished booting, select &quot;Install&quot;, then navigate to the Nexus Bootunlocker zip, select and install it. After it finished, use the back arrow at the bottom of the screen to go back, and reboot.&#10;Now your bootloader should be locked, and your tamper flag should show &quot;false&quot;.&#10;&#10;" CommentCount="0" CreationDate="2014-09-15T09:47:14.987" Id="82606" LastActivityDate="2014-09-15T10:07:51.793" LastEditDate="2014-09-15T10:07:51.793" LastEditorUserId="40036" OwnerUserId="40036" ParentId="82601" PostTypeId="2" Score="2" />
  <row AcceptedAnswerId="82616" AnswerCount="1" Body="I have an unrooted Nexus 5.&#10;&#10;I am using zooper for my homescreen, but with tasker, my knowledge is limited.&#10;&#10;I am trying to get (3-) hourly weather and weather warnings. I have found this blog post that do talks about hourly weather, but with my limited knowledge with tasker, I am unable to create the profile he talks about.&#10;&#10;May I get some help?&#10;&#10;EDIT &#10;&#10;Izzy, Thanks for your detailed reply. I tried to follow your advice and got:&#10;&#10;Weather (26)&#10;A1: Flash [ Text:Getting Weather Long:Off ] &#10;A2: HTTP Get [ Server:Port:https://api.forecast.io Path:forecast/&amp;lt;API KEY&amp;gt;/%allatitude,%allongitude Attributes:units=uk Cookies: User Agent: Timeout:10 Mime Type: Output File: Trust Any Certificate:Off ] &#10;A3: If [ %HTTPR eq 200 ]&#10;A4: JavaScriptlet [ Code:info=&lt;api&gt;JSON.parse(global(&quot;HTTPD&quot;))&lt;/api&gt;;flash(info.minutely.summary); setGlobal(&quot;FORESUM&quot;, info.minutely.summary) Libraries:Auto Auto Exit:On Timeout (Seconds):45 ] &#10;A5: Zooper Widget Pro Variable [ Configuration:#TWtxt# = %TIME %FORESUM Package:org.zooper.zwpro Name:Zooper Widget Pro Variable Timeout (Seconds):0 ] &#10;A6: End If &#10;A7: AutoLocation Location [ Configuration:Stopping Location Monitor&#10;Location Report Name: Weather &#10;Update Type: No Power Package:com.joaomgcd.autolocation Name:AutoLocation Location Timeout (Seconds):0 ] &#10;&#10;&#10;but when I tried to run that task (the play sign at the bottom of the page) I get java IO error (its blink and miss...so cant exactly say what it prompts)&#10;&#10;Can you kindly have a look?&#10;" CommentCount="4" CreationDate="2014-09-15T11:19:12.683" FavoriteCount="1" Id="82612" LastActivityDate="2014-09-15T17:11:30.773" LastEditDate="2014-09-15T17:11:30.773" LastEditorUserId="54400" OwnerUserId="54400" PostTypeId="1" Score="0" Tags="&lt;tasker&gt;&lt;weather&gt;" Title="get hourly weather and weather warning using tasker/zooper" ViewCount="1744" />
  <row Body="I downloaded the Android source and found the answer. The wild guess turns out to be right. This is the mapping:&#10;&#10;0 1 2&#10;3 4 5&#10;6 7 8&#10;&#10;&#10;If your pattern is from top-left to top-right (0-&gt;1-&gt;2) then down to bottom-right (2-&gt;5-&gt;8), the string version of the password is &quot;01258&quot;.&#10;&#10;The source for this comes from LockPatternUtils in package com.android.internal.widget:&#10;&#10;/**&#10; * Serialize a pattern.&#10; * @param pattern The pattern.&#10; * @return The pattern in string form.&#10; */&#10;public static String patternToString(List&amp;lt;LockPatternView.Cell&amp;gt; pattern) {&#10;    if (pattern == null) {&#10;        return &quot;&quot;;&#10;    }&#10;    final int patternSize = &lt;api&gt;pattern.size()&lt;/api&gt;;&#10;&#10;    byte[] res = new byte[patternSize];&#10;    for (int i = 0; i &amp;lt; patternSize; i++) {&#10;        LockPatternView.Cell cell = &lt;api&gt;pattern.get(i)&lt;/api&gt;;&#10;        res[i] = (byte) (&lt;api&gt;cell.getRow()&lt;/api&gt; * 3 + &lt;api&gt;cell.getColumn())&lt;/api&gt;;&#10;    }&#10;    return new String(res);&#10;}&#10;&#10;&#10;where the rows and columns are both {0,1,2}.&#10;&#10;However, as I said in my question, I tried this mapping with my pattern, and it doesn't work to unlock my encryption. This turned out to be a dead end, but I hope this answer is helpful to others with a similar problem. (Note again that the other person who had this problem also tried to find the pattern-lock to PIN mapping, but the answer wasn't out there.)&#10;" CommentCount="1" CreationDate="2014-10-01T21:16:47.813" Id="83865" LastActivityDate="2014-10-01T21:16:47.813" OwnerUserId="74886" ParentId="83854" PostTypeId="2" Score="2" />
  <row Body="(Edit: Updated after some more testing)&#10;&#10;Check the latest documentation.&#10;&#10;This feature seems to be called Screen pinning now, and the App does not have to be the device owner. If the device owner is not set the user will be prompted to accept. But there are issues with this for kiosk use, mentioned below.&#10;&#10;&#10;  There are two ways to activate screen pinning:&#10;  &#10;  Manually: Users can enable screen pinning in Settings &gt; Security &gt;&#10;  Screen Pinning, and select the tasks they want to pin by touching the&#10;  green pin icon in the recents screen. Programmatically: To activate&#10;  screen pinning programmatically, call startLockTask() from your app.&#10;  If the requesting app is not a device owner, the user is prompted for&#10;  confirmation. A device owner app can call the setLockTaskPackages()&#10;  method to enable apps to be pinnable without the user confirmation&#10;  step.&#10;&#10;&#10;If you activate screen pinning programatically (non device owner App) or on the device using the pin in the recents you get the following behaviour:&#10;&#10;A dialog appears asking the user if they want to enable screen pinning and if they want to require a password to exit. If they press yes the status bar and notifications disappear, back, home and recents buttons do NOT disappear. Tapping on home or recents makes a toast appear inform the user how to exit screen pinning.&#10;&#10;The user can then hold down back and recents to exit screen pinning. If the user selected to require a password, they will get kicked straight to the lock screen. This behaviour means it is not suitable for a kiosk imo. As it is too easy for kiosk users to end up looking at the lock screen.&#10;&#10;To get a proper kiosk mode we need to set the device owner. Google's documentation says you need to do this with NFC:&#10;&#10;&#10;  To deploy and activate a device owner, you must perform an NFC data&#10;  transfer from a programming app to the device while the device is in&#10;  its unprovisioned state.&#10;&#10;&#10;Using NFC to do this seems a bit complex (what if a device does not have NFC?). I have not investigated this yet so if anyone can provide info how you go about setting the device owner by NFC? Which now becomes the main point of your question. (i.e. setting the device owner on a non rooted device)&#10;&#10;But to confirm the behaviour is as expected if you root a device you can set the device owner as per Google's previous instructions (adding a device_owner.xml) as I mentioned here&#10;&#10;Now you can properly lock the App, no dialog appears for the user to accept, when enabled the recents and home button disappear and the user cannot leave the App unless your App unlocks itself. A proper kiosk mode. I have tested this on a Nexus 7 2013 with the latest Lollipop build.&#10;&#10;The following snippet turns on the lock:&#10;&#10;mDPM = (DevicePolicyManager) getSystemService(Context.DEVICE_POLICY_SERVICE);&#10;mDeviceAdminSample = new ComponentName(this, DeviceAdminSample.class);&#10;&#10;if (&lt;api&gt;mDPM.isDeviceOwnerApp(this.getPackageName()))&lt;/api&gt; {&#10;    &lt;api&gt;Log.d(TAG, &quot;isDeviceOwnerApp: YES&quot;)&lt;/api&gt;;&#10;    String[] packages = {&lt;api&gt;this.getPackageName()&lt;/api&gt;};&#10;    &lt;api&gt;mDPM.setLockTaskPackages(mDeviceAdminSample, packages)&lt;/api&gt;;&#10;} else {&#10;    &lt;api&gt;Log.d(TAG, &quot;isDeviceOwnerApp: NO&quot;)&lt;/api&gt;;&#10;}&#10;&#10;if (&lt;api&gt;mDPM.isLockTaskPermitted(this.getPackageName()))&lt;/api&gt; {&#10;    &lt;api&gt;Log.d(TAG, &quot;isLockTaskPermitted: ALLOWED&quot;)&lt;/api&gt;;&#10;    startLockTask();&#10;} else {&#10;    &lt;api&gt;Log.d(TAG, &quot;isLockTaskPermitted: NOT ALLOWED&quot;)&lt;/api&gt;;&#10;}&#10;&#10;" CommentCount="2" CreationDate="2014-10-17T16:45:17.067" Id="85125" LastActivityDate="2014-10-19T11:43:03.030" LastEditDate="2014-10-19T11:43:03.030" LastEditorUserId="76723" OwnerUserId="76723" ParentId="85013" PostTypeId="2" Score="9" />
  <row Body="Looks like there is a way:&#10;&#10;&#10;  adb shell dumpsys location &gt; dumpsys.txt&#10;&#10;&#10;This will give you a file with all location service information. In this file search for 'Last Known Locations' and you should see something like:&#10;&#10;passive: Location[network 92.915479,55.610965 acc=22 et=+1d4h10m34s255ms {Bundle[{noGPSLocation=Location[network 92.915479,55.610965 acc=22 et=+1d4h10m34s255ms {Bundle[{coarseLocation=Location[network 92.918919,55.603997 acc=2000 et=+1d4h10m34s255ms]}]}], networkLocationSource=cached, networkLocationType=wifi, travelState=stationary}]}]&#10;&#10;network: Location[network 92.915479,55.610965 acc=22 et=+1d4h10m34s255ms {Bundle[{noGPSLocation=Location[network 92.915479,55.610965 acc=22 et=+1d4h10m34s255ms {Bundle[{coarseLocation=Location[network 92.918919,55.603997 acc=2000 et=+1d4h10m34s255ms]}]}], networkLocationSource=cached, networkLocationType=wifi, travelState=stationary}]}]&#10;&#10;&#10;Of course, the list will include another entry if you have the GPS provider enabled on the device.&#10;&#10;Going by android code, I tried to find out how apps get the location when they use &lt;api&gt;LocationManager.getLastKnownLocation()&lt;/api&gt;. After a bit of following, I ended up in LocationManagerService here. which implements getLastLocation and also a dump function.&#10;&#10;The coordinates are not stored in any file as far as I can tell. They are stored in memory in a hashmap and dumped for the dumpsys command. This also explains why a directory heirarchy search did not reveal any files with gps info.&#10;&#10;If you want this info in a more standard format, you will need to take the app route and go with something like this. This app exports the info in a GPS or a KML file that you can feed into geo based apps.&#10;&#10;PS: This works on non-rooted device just as well.&#10;" CommentCount="2" CreationDate="2014-10-20T01:00:24.263" Id="85288" LastActivityDate="2014-10-20T03:49:00.223" LastEditDate="2014-10-20T03:49:00.223" LastEditorUserId="22915" OwnerUserId="22915" ParentId="85279" PostTypeId="2" Score="4" />
  <row Body="&#10;I tried the &quot;StorageManager.enableUsbMassStorage&quot; and the &quot;StorageManager.disableUsbMassStorage&quot; to enable and disable the mass storage and its works. &#10;&#10;Thanks.&#10;&#10;&#10;That methods are private method. So, If you want to use them, You shoud do it by reflection.&#10;To get that Storage Manager, you might use  getSystemService(java.lang.String) method that included in the activities:&#10;&#10; StorageManager storage = (StorageManager)getApplicationContext().getSystemService(STORAGE_SERVICE);&#10; Method method = &lt;api&gt;storage.getClass()&lt;/api&gt;.getDeclaredMethod(&quot;enableUsbMassStorage&quot;);&#10; &lt;api&gt;method.setAccessible(true)&lt;/api&gt;; &#10; Object r = &lt;api&gt;method.invoke(storage)&lt;/api&gt;;&#10;&#10;&#10;And to disble mass storage:&#10;&#10;StorageManager storage = (StorageManager) getApplicationContext().getSystemService(STORAGE_SERVICE);&#10;Method method = &lt;api&gt;storage.getClass()&lt;/api&gt;.getDeclaredMethod(&quot;disbleUsbMassStorage&quot;);&#10;&lt;api&gt;method.setAccessible(true)&lt;/api&gt;;&#10;Object r = &lt;api&gt;method.invoke(storage)&lt;/api&gt;;&#10;&#10;" CommentCount="2" CreationDate="2014-10-29T09:00:37.930" Id="86151" LastActivityDate="2014-10-29T09:00:37.930" OwnerUserId="78031" ParentId="49053" PostTypeId="2" Score="4" />
  <row Body="Ok, so the program still produces a logfile called location_log.txt with all of the important data. I wrote a script in python to export it:&#10;&#10;#!/bin/python&#10;#&#10;import codecs, os&#10;__author__ = 'lukas'&#10;path = &quot;/path/to/the/folder/&quot;&#10;ins = &lt;api&gt;codecs.open(path + &quot;location_log.txt&quot;, &quot;r&quot;, 'iso-8859-15')&lt;/api&gt;&#10;array = []&#10;for line in ins:&#10;    linenew = &quot;&quot;&#10;    count = 0&#10;    for char in line:&#10;        linenew += char&#10;        count += 1&#10;    &lt;api&gt;array.append(linenew)&lt;/api&gt;&#10;&lt;api&gt;ins.close()&lt;/api&gt;&#10;&#10;print &quot;&quot;&quot;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&amp;gt;&#10;&amp;lt;gpx   xmlns=&quot;http://www.topografix.com/GPX/1/1&quot; creator=&quot;GPSbgLogger&quot; version=&quot;1.1&quot;  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  xsi:schemaLocation=&quot;http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd&quot; &amp;gt;  &amp;lt;trk&amp;gt;&#10;    &amp;lt;name&amp;gt; GPSbgLogger DATE &amp;lt;/name&amp;gt;&#10;    &amp;lt;desc&amp;gt; GPX export file &amp;lt;/desc&amp;gt;     &amp;lt;trkseg&amp;gt;&quot;&quot;&quot;&#10;&#10;&#10;for line in array:&#10;    if &quot;20140228&quot; in line: #OR ANY OTHER DATE YOURE INTERESTED IN&#10;        if &quot;   gps &quot; in line:&#10;            info = line&#10;            otherstuff = &lt;api&gt;info.split(&quot;   gps&quot;)&lt;/api&gt;[0]&#10;            latlonheight = &lt;api&gt;info.split(&quot;gps  &quot;)&lt;/api&gt;[1]&#10;            datetime = &lt;api&gt;otherstuff.split(&quot;: &quot;)&lt;/api&gt;[1]&#10;            latlonheight = &lt;api&gt;latlonheight.split(&quot;,&quot;)&lt;/api&gt;&#10;            date = &lt;api&gt;datetime.split(&quot; &quot;)&lt;/api&gt;[0]&#10;            time = &lt;api&gt;datetime.split(&quot; &quot;)&lt;/api&gt;[1]&#10;            print &quot;&amp;lt;trkpt  lat=\&quot;%s\&quot; lon=\&quot;%s\&quot; &amp;gt;&quot;%(latlonheight[0], latlonheight[1])&#10;            print &quot;&amp;lt;ele&amp;gt;%s&amp;lt;/ele&amp;gt;&quot;%(latlonheight[2][:-1])&#10;            print &quot;&amp;lt;time&amp;gt;%sT%sZ&amp;lt;/time&amp;gt;&quot;%(date[:4] + '-' + date[4:6] + '-' + date[6:], time)&#10;            print &quot;&amp;lt;src&amp;gt;gps&amp;lt;/src&amp;gt;\n&amp;lt;/trkpt&amp;gt;&quot;&#10;&#10;print &quot;&quot;&quot;&#10;&amp;lt;/trkseg&amp;gt;&#10;  &amp;lt;/trk&amp;gt;&#10;&amp;lt;/gpx&amp;gt;&#10;&quot;&quot;&quot;&#10;&#10;" CommentCount="0" CreationDate="2014-11-19T15:41:06.363" Id="88187" LastActivityDate="2014-11-19T15:41:06.363" OwnerUserId="69355" ParentId="79197" PostTypeId="2" Score="0" />
  <row Body="The code for shouldSwitchNetwork() best explains what it does.  It just artificially reduces the WiFi RSSI (received signal strength indication) to encourage the WiFi state machine to decide to switch the connection from WiFi to cellular network.  Around line 3559 of WifiStateMachine.java (line 4262 for Android 6.0.1_r10):&#10;&#10;int rssi = &lt;api&gt;mWifiInfo.getRssi()&lt;/api&gt; - 6 * mAggressiveHandover&#10;        + (homeNetworkBoost ? WifiConfiguration.HOME_NETWORK_RSSI_BOOST : 0);&#10;&#10;&#10;The variable mAggressiveHandover is an int that is set to 0 or 1 by the Developer Settings:&#10;&#10;private void writeWifiAggressiveHandoverOptions() {&#10;    &lt;api&gt;mWifiManager.enableAggressiveHandover(mWifiAggressiveHandover.isChecked() ? 1 : 0)&lt;/api&gt;;&#10;}&#10;&#10;&#10;The rssi variable goes on to influence how the connection is classified: isBadRSSI, isLowRSSI, or isHighRSSI.&#10;&#10;As to why it's hidden under the developer options, I'd say that is because it seems a little hackish, with a seemingly arbitrary scalar (6) that some dev came up with to nudge the behavior in the desired direction.  Google is probably uncertain about the consequences of this setting and the optimal way to adjust rssi.  If I'm wrong and this is somehow meaningful, I'm happy to admit it and explain here why.&#10;&#10;Turning this setting off does NOT turn off cellular handover altogether.  The WiFi connection still gets a score and is disabled if the score is too low.  But hey, the initial score is set arbitrarily too.&#10;" CommentCount="0" CreationDate="2014-12-11T22:24:27.697" Id="91462" LastActivityDate="2016-01-26T19:27:20.060" LastEditDate="2016-01-26T19:27:20.060" LastEditorUserId="63833" OwnerUserId="63833" ParentId="90250" PostTypeId="2" Score="16" />
  <row Body="Assuming you ever registered a gmail address on your google play account(which you have to, to download apps), your phone will be registered in Google's Device Manager on play.google.com.  If your phone was connected to WiFi or Data when the screen broke the below method can work(I've tested it myself multiple times).  &#10;&#10;&#10;Head to play.google.com(From your PC)&#10;Log in to your google account.&#10;Click the 'gear' symbol in the top right hand corner of the screen.&#10;Go To 'Android Device Manager'&#10;Select your GS4 from the menu of your registered devices.&#10;Select 'Erase' from the list.&#10;&#10;&#10;That should erase the phone.&#10;" CommentCount="7" CreationDate="2015-01-14T21:06:40.690" Id="95884" LastActivityDate="2015-01-15T03:33:24.257" LastEditDate="2015-01-15T03:33:24.257" LastEditorUserId="86194" OwnerUserId="86194" ParentId="95880" PostTypeId="2" Score="5" />
  <row Body="I'm currently having the same problem, but I found the fix..&#10;I have Nexus 7 2013, before updating to Android 5.0 I copied carbon folder to my PC, after updating to 5.0 I moved carbon folder back to main nexus folder and it didn't show anything, but after long research I found the fix:&#10;&#10;&#10;Open Windows PowerShell&#10;Paste into it this code:&#10;&#10;&#10;&#10;$subfolders = Get-ChildItem -Path 'Link to your PC carbon folder\*'&#10;foreach ($f in $subfolders){&#10;    if(&lt;api&gt;$f.Attributes.ToString()&lt;/api&gt; -eq &quot;Directory&quot;) {&#10;        $filecont=&quot;{`&quot;enabled`&quot;:true,`&quot;packageName`&quot;:`&quot;&quot;+$f.name+&quot;`&quot;,`&quot;label`&quot;:`&quot;&quot; + $f.Name + &quot;`&quot;,`&quot;locked`&quot;:false,`&quot;date`&quot;:1375398819080,`&quot;apk`&quot;:true,`&quot;backup`&quot;:true}&quot;&#10;        $fname= $f.FullName + &quot;\&quot; + $f.Name + &quot;.json&quot;&#10;        [System.IO.File]::WriteAllText($fname, $filecont)&#10;    }&#10;}&#10;&#10;&#10;&#10;This code will add .json files inside every app's folder and it's working, now all my applications are showing in carbon's restore tab.&#10;&#10;&#10;&#10;Click image for larger version&#10;" CommentCount="0" CreationDate="2015-01-23T22:54:30.430" Id="96740" LastActivityDate="2015-03-14T13:07:06.300" LastEditDate="2015-03-14T13:07:06.300" LastEditorUserId="-1" OwnerUserId="91349" ParentId="44516" PostTypeId="2" Score="2" />
  <row Body="I thing this will work:&#10;&#10;In /init.rc add&#10;&#10;service ethernet /eth0.sh&#10;&#10;&#10;and create /eth0.sh&#10;&#10;#!/system/bin/sh&#10;&#10;netcfg eth0 up 192.168.0.2&#10;&#10;&#10;Still got problems chainging the ramdisk but that should work.&#10;&#10;See http://elinux.org/Android_Networking&#10;&#10;&#10;&#10;I was not able to change the ramdisk so I made a simple app the does run the netcfg command after boot and after USB device is attached.&#10;&#10;Here the corner points for this:&#10;&#10;&amp;lt;manifest ...&#10;  &amp;lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&amp;gt;&#10;  &amp;lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&amp;gt;&#10;  &amp;lt;uses-permission android:name=&quot;android.permission.USB_PERMISSION&quot; /&amp;gt;&#10;  &amp;lt;application ... &amp;gt;&#10;    &amp;lt;receiver&#10;        android:name=&quot;.MyBroadcastReceiver&quot;&#10;        android:enabled=&quot;true&quot;&#10;        android:exported=&quot;true&quot; &amp;gt;&#10;        &amp;lt;intent-filter&amp;gt;&#10;            &amp;lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&amp;gt;&#10;            &amp;lt;action android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot; /&amp;gt;&#10;        &amp;lt;/intent-filter&amp;gt;&#10;    &amp;lt;/receiver&amp;gt;&#10;...&#10;&#10;&#10;and the sudo function in the receiver:&#10;&#10;public static void sudo(String...strings) {&#10;    try{&#10;        Process su = &lt;api&gt;Runtime.getRuntime()&lt;/api&gt;.exec(&quot;su&quot;);&#10;        DataOutputStream outputStream = new DataOutputStream(&lt;api&gt;su.getOutputStream())&lt;/api&gt;;&#10;&#10;        for (String s : strings) {&#10;            &lt;api&gt;outputStream.writeBytes(s+&quot;\n&quot;)&lt;/api&gt;;&#10;            &lt;api&gt;outputStream.flush()&lt;/api&gt;;&#10;        }&#10;&#10;        &lt;api&gt;outputStream.writeBytes(&quot;exit\n&quot;)&lt;/api&gt;;&#10;        &lt;api&gt;outputStream.flush()&lt;/api&gt;;&#10;        try {&#10;            &lt;api&gt;su.waitFor()&lt;/api&gt;;&#10;        } catch (InterruptedException e) {&#10;            &lt;api&gt;e.printStackTrace()&lt;/api&gt;;&#10;        }&#10;        &lt;api&gt;outputStream.close()&lt;/api&gt;;&#10;    }catch(IOException e){&#10;        &lt;api&gt;e.printStackTrace()&lt;/api&gt;;&#10;    }&#10;}&#10;&#10;" CommentCount="0" CreationDate="2015-02-18T14:36:56.470" Id="100191" LastActivityDate="2015-02-19T15:59:36.473" LastEditDate="2015-02-19T15:59:36.473" LastEditorUserId="73256" OwnerUserId="73256" ParentId="98072" PostTypeId="2" Score="1" />
  <row AnswerCount="1" Body="After re-flashing a version of CM 11 I'd been using for a while with no problems on my Samsung Galaxy S Blaze 4G, I can't get Link2SD to mount the second partition. I'd been using Link2SD with no issues at all before.&#10;&#10;I tried uninstalling and reinstalling Link2SD and tried Ext2 and Ext3 just to be sure (the partition formatted Ext4) but I get this error every time I try to mount the card in Link2SD:&#10;&#10;&quot;Mount Script Error - mount script cannot be created. Can't create handler inside thread that has not called &lt;api&gt;Looper.prepare(0)&lt;/api&gt;&quot;&#10;&#10;I don't know what this means, or what to try next. Help please?&#10;" CommentCount="0" CreationDate="2015-02-22T15:26:21.940" Id="100575" LastActivityDate="2015-02-22T23:00:30.853" OwnerUserId="95447" PostTypeId="1" Score="0" Tags="&lt;link2sd&gt;" Title="Link2SD cannot mount second partition after re-flashing CM 11" ViewCount="255" />
  <row Body="Those questions is pretty easy to answer:&#10;&#10;&#10;No, Android only creates those folders, if they are used. This is valid for both, internal SD and external SD.&#10;There are many ways to get the package name (this is the internal name) of an app. The easiest way would be going to http://play.google.com(Google Play Store) on PC and opening the app's page there, then simply look at the last part of the url: e.g. https://play.google.com/store/apps/details?id=com.hipipal.qpyplus (the id= part). For QPython this is: com.hipipal.qpyplus.&#10;Every application can write to its own folder. Reading or writing to other folders on the external SD card requires special permissions.&#10;&#10;" CommentCount="3" CreationDate="2015-03-27T21:58:18.903" Id="103784" LastActivityDate="2015-03-27T21:58:18.903" OwnerUserId="86358" ParentId="103778" PostTypeId="2" Score="0" />
  <row Body="Just insert this code anywhere in your kiosk browser content to refresh your web app every one minute:&#10;&#10;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;&#10;    setTimeout(function () { &lt;api&gt;location.reload(true)&lt;/api&gt;; }, 60000);&#10;&amp;lt;/script&amp;gt;&#10;&#10;" CommentCount="3" CreationDate="2015-05-11T21:00:05.957" Id="109091" LastActivityDate="2015-05-12T15:00:59.293" LastEditDate="2015-05-12T15:00:59.293" LastEditorUserId="52033" OwnerUserId="52033" ParentId="109082" PostTypeId="2" Score="1" />
  <row Body="From a PC running Windows 10 x64 (64-bit):&#10;&#10;&#10;Install the latest Python 2.7.x version. (I used Python 2.7.10; Do not use any Python 3.x.y version -- I couldn't get it to work with this script.)&#10;If using Windows, install the Microsoft Visual C++ Compiler for Python 2.7. One of the dependencies of gmusicapi requires it.&#10;Install the Google Music API for Python. You should use &quot;pip&quot; (Python's built-in installer script) to install it. On Windows, pip is not added to the PATH environment variable. The quick, lazy workaround is to invoke it specifically: &#10;&#10;C:\Python27\Scripts\pip.exe install gmusicapi&#10;&#10;See footnote if you're having issues. LibAV or ffmpeg are probably not required for our purposes.&#10;On the right side of the Google Music Dupe Killer page:&#10;&#10;&#10;Click &quot;download ZIP&quot; &amp;rarr; Extract the ZIP &amp;rarr; Rename kill-dupes to kill-dupes.py &amp;rarr; Right click &amp;rarr; edit with Notepad (or Notepad++, or anything similar) &amp;rarr; Ctrl-F (&quot;find&quot;) for &quot;username&quot;. &#10;On line #89, you'll see this (line numbers added for ease of reading):&#10;&#10;88. api = Mobileclient()  &#10;89. logged_in = &lt;api&gt;api.login('username', 'password')&lt;/api&gt; &#10;90.&#10;91. if logged_in:&#10;&#10;&#10;Replace the word username with your Google username, and the word password with your Google password. Leave the single-quotes ' as-is. Save the file with the edits you made.&#10;Allow less secure apps to access your account via Google. If you don't do this, Google will email you telling that they blocked someone accessing your account the first time you run the script. In that email, there is a link to change the setting.&#10;&#10;(Note: you may wish to change it back after you are done with this script.)&#10;Put the modified kill_dupes.py script somewhere you can find it. I put it in C:\Python27\.&#10;Open the Windows command prompt. (Win+R opens the Run dialog, cmd is the command prompt. Press Enter.)&#10;&#10;&#10;You'll see a Window with this written:&#10;&#10;C:\Users\YourWindowsUsername&amp;gt;&#10;&#10;Run Python with the script you made:&#10;&#10;C:\Users\YourWindowsUsername&amp;gt;c:\Python27\python.exe c:\Python27\kill_dupes.py&#10;&#10;Press Enter to run the script:&#10;&#10;Successfully logged in. Beginning duplicate detection process.&#10;&#10;The program prints a list of the duplicate tracks it found. Type y and press Enter to remove them, or n to not remove them.&#10;kill_dupes.py and maybe its parent program gmusicapi crash on Unicode characters like つんく♂. Here is the bug report. Oddly enough, by running the script from IDLE, it worked fine. IDLE should be included with all Python installs.&#10;IDLE (Python GUI) &amp;rarr; file &amp;rarr; open &amp;rarr; kill_dupes.py&#10;IDLE (Python GUI) &amp;rarr; run &amp;rarr; run module&#10;If you just see a blank window, you probably forgot to allow less secure apps to access your account. See step 7.&#10;&#10;(Optional) Forbid less secure apps from accessing your Google account.&#10;&#10;&#10;I used the answer by neves to develop this answer.&#10;&#10;Footnote: Installing LibAV&#10;&#10;&#10;This probably isn't required, but it's what I did the first time I did this. I have since successfully removed duplicates without LibAV, but I did have ffmpeg in my PATH already. The reason I say this step isn't required is because the Google Music API website says:&#10;&#10;&#10;  If you’re going to be uploading music, you’ll likely want Libav’s avconv installed and in your system path, along with at least libmp3lame.&#10;&#10;&#10;&#10;Update 2016-01-09: The site now says:&#10;&#10;&#10;  The only time avconv or ffmpeg is not required is when uploading mp3s without scan-and-match enabled.&#10;&#10;&#10;Use your judgment as to whether or not installing LibAV is needed.&#10;&#10;&#10;Download the newest (sort by date modified) &quot;nightly-lgpl&quot; x86_64 variant of LibAV. It's linked from the site given in step 2. &#10;I downloaded libav-x86_64-w64-mingw32-20150524.7z &amp;rarr; extracted the .7z file &amp;rarr; added the /usr/bin folder within the extracted libav folder to the PATH. (The steps are explained in the link in step 2. lat ays to add (Python's built-in installer script) avconv.exe to the PATH. So my computer now has D:\Downloads\libav-x86_64-w64-mingw32-20150524\usr\bin added to its PATH. &#10;&#10;" CommentCount="1" CreationDate="2015-05-25T19:38:01.760" Id="110318" LastActivityDate="2016-01-09T19:22:56.850" LastEditDate="2016-01-09T19:22:56.850" LastEditorUserId="110073" OwnerUserId="110073" ParentId="62666" PostTypeId="2" Score="8" />
  <row Body="Try going into fastboot mode. Its comparatively much easier to go into fastboot mode. To go into fastboot mode, turn off your phone and press and hold volume down + power keys at same time until you get to a black screen with android logo and a bunch of stuff written.&#10;&#10;Now there you also have option to boot into recovery, just press volume buttons to switch to boot modes and when it says recovery, press power button to select boot into recovery option.&#10;&#10;Possibility 1:&#10;&#10;You were able to go into recovery.&#10;&#10;Here you can also try to factory reset and boot your phone. If that doesn't work, proceed below.&#10;&#10;Case 1:&#10;&#10;You have the rom to flash inside your phone (sdcard).&#10;&#10;if you do have rom inside phone then just wipe system, cache, dalvic and if rom isnt same as the once currently installed on your phone (the one that is bootlooping), then you also need to wipe data.&#10;&#10;Case 2:&#10;&#10;You were able to boot into recovery but dont have any rom inside phone to flash.&#10;&#10;&#10;In this case, setup ADB, connect phone while its in recovery to adb.&#10;Download a rom for your phone (you can head over to XDA to look for rom and download one you like). Just download it to your pc.&#10;Connect your phone to pc using USB.&#10;Open cmd and enter the command adb push PathAndNameOfROMFile.zip /sdcard/. This will push the rom file you downloaded above to sdcard.&#10;Wipe your system, dalvic cache, cache and data (recommended, but not necessary if you downloaded same rom as previously installed on your phone).&#10;Reboot.&#10;&#10;&#10;Possibility 2:&#10;&#10;You were unable to go to recovery due to whatever reason.&#10;&#10;Boot into fastboot mode again.&#10;&#10;Option 1:&#10;&#10;Try wiping data and factory resetting from here (I wont be responsible for your data here).&#10;&#10;&#10;To factory reset, first setup adb from link provided above. Then go to download mode and connect phone to pc.&#10;Open CMD/Terminal. And enter these commands:&#10;&#10;&#10;fastboot erase data&#10;fastboot erase cache&#10;&#10;Now try rebooting. If that didn't work, move on to Option 2.&#10;&#10;Option 2:&#10;&#10;(We are going to flash a factory image.)&#10;&#10;&#10;So first, download factory image for your phone here.&#10;Extract downloaded archive using winrar.&#10;Connect your phone to pc using USB.&#10;Execute the flash-all.bat script (for Windows) or flash-all.sh(for MAC and LINUX) in the folder where you extracted the factory images.&#10;&#10;&#10;&#10;&#10;NOTES: &#10;&#10;For MAC: You'll have to edit the flash-all.sh, and add &quot;./&quot; before every fastboot command.&#10;&#10;This script will also flash stock recovery. If you are not sure that your recovery is ok, then let this happen. Otherwise if you are sure that your recovery is fine and not corrupt. delete the file with word recovery in it. Open and edit whatever flash script you will be using to flash and remove these lines:&#10;&#10;fastboot erase recovery&#10;fastboot flash recovery recovery.img&#10;&#10;&#10;&#10;&#10;Semi-Case 1:&#10;&#10;Everything flashes fine.&#10;&#10;In this case just skip the Semi-Case 2 and move on.&#10;&#10;Semi-Case 2:&#10;&#10;There is some problem flashing some specific part.&#10;&#10;In this case, you can try flashing manually.&#10;&#10;Run these commands One by One in cmd/terminal (replace C:/ with path to where you extracted the archive):&#10;&#10;fastboot flash bootloader C:/image-hammerhead-xxxx/bootloader.img&#10;fastboot reboot-bootloader&#10;fastboot flash radio C:/image-hammerhead-xxxx/radio.img&#10;fastboot reboot-bootloader&#10;fastboot flash system C:/image-hammerhead-xxxxx/system.img&#10;fastboot flash userdata C:/image-hammerhead-xxxxx/userdata.img &#10;(Note: this command will wipe your device (including /sdcard), EVEN if your bootloader is already unlocked.)&#10;&#10;fastboot flash boot C:/image-hammerhead-xxxx/boot.img&#10;&#10;fastboot flash recovery C:/image-hammerhead-xxxx/recovery.img&#10;(Skip the above command if you dont want to flash stock recovery and are sure that your current recovery is not corrupt).&#10;&#10;fastboot erase cache&#10;&#10;&#10;This will manually flash everything. Hopefully this time it should be fine.&#10;&#10;&#10;&#10;&#10;Wait for everything to flash.&#10;After everything has finished flashing, use volume buttons to select recovery option from fastboot and press power button to boot into it.&#10;Select factory reset and reboot phone. You will turn on and you although are still rooted (just need to install a custom recovery and supersu from play store).&#10;&#10;&#10;Hope this helps.&#10;" CommentCount="1" CreationDate="2015-06-01T03:57:01.053" Id="111011" LastActivityDate="2015-06-01T13:32:59.387" LastEditDate="2015-06-01T13:32:59.387" LastEditorUserId="110415" OwnerUserId="110415" ParentId="110991" PostTypeId="2" Score="1" />
  <row Body="This is possible to be done (infact, anything is possible in android. Thats the beauty and power Android has being open source :) ). You will need to edit android source code.&#10;&#10;First, a little info. This text is a string that resides inside frameworks_base/packages/Keyguard/res/values/strings.xml in android source code.&#10;&#10;The actual string declaration is:&#10;&#10;&amp;lt;string name=&quot;kg_too_many_failed_attempts_countdown&quot;&amp;gt;Try again in &amp;lt;xliff:g id=&quot;number&quot;&amp;gt;%d&amp;lt;/xliff:g&amp;gt; seconds.&amp;lt;/string&amp;gt;&#10;&#10;&#10;Now for how to edit this timeout.&#10;&#10;The lockscreen controls are controlled by a library KeyguardSecurityContainer which resides in frameworks_base/packages/Keyguard/src/com/android/keyguard/KeyguardSecurityContainer.java&#10;&#10;You need to edit this library.&#10;&#10;The method that controls this timeout is showTimeoutDialog().&#10;&#10;Although the code may slightly vary according to rom and android version.&#10;&#10;For instance, in CM 12, its declared like this-&gt;&#10;&#10;private void showTimeoutDialog() {&#10;//This is likely the variable you need to assign your new value to&#10;        int timeoutInSeconds = (int) LockPatternUtils.FAILED_ATTEMPT_TIMEOUT_MS / 1000;&#10;        int messageId = 0;&#10;&#10;        switch (&lt;api&gt;mSecurityModel.getSecurityMode())&lt;/api&gt; {&#10;            case Pattern:&#10;                messageId = R.string.kg_too_many_failed_pattern_attempts_dialog_message;&#10;                break;&#10;            case PIN:&#10;                messageId = R.string.kg_too_many_failed_pin_attempts_dialog_message;&#10;                break;&#10;            case Password:&#10;                messageId = R.string.kg_too_many_failed_password_attempts_dialog_message;&#10;                break;&#10;            // These don't have timeout dialogs.&#10;            case Account:&#10;            case Biometric:&#10;            case Invalid:&#10;            case None:&#10;            case SimPin:&#10;            case SimPuk:&#10;                break;&#10;        }&#10;&#10;&#10;As you can see, you will need to assign your new value to variable timeoutInSeconds.&#10;&#10;NOTE: Currently my laptop battery is quite low to compile and test the rom with edited or changed values. So this method is untested. Please perform any modifications at your own risk and after you have proper backups. At best, it could be a change in variable that controls the timeout (since I merely gave the this a quick reading). But this is the library that controls keyguard actions.&#10;&#10;Also, on side note there might be some third party app that allows you to do this (although currently I do not know of any such app. But in case it exists...). I told you a direct way to mod your lockscreen guard.&#10;&#10;Hope this helps.&#10;" CommentCount="0" CreationDate="2015-06-04T13:19:59.727" Id="111437" LastActivityDate="2015-06-04T13:26:22.460" LastEditDate="2015-06-04T13:26:22.460" LastEditorUserId="110415" OwnerUserId="110415" ParentId="43293" PostTypeId="2" Score="3" />
  <row Body="I am writing this answer because it may help someone.&#10;I solved this by adding &#10;&#10;&#10;  &lt;api&gt;Settings.setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW)&lt;/api&gt;;&#10;&#10;" CommentCount="0" CreationDate="2015-06-06T05:12:57.367" Id="111609" LastActivityDate="2015-06-06T05:12:57.367" OwnerUserId="102524" ParentId="111158" PostTypeId="2" Score="0" />
  <row Body="try to replace in the adapeter:&#10;&#10;view = &lt;api&gt;context.LayoutInflater.Inflate(Android.Resource.Layout.SimpleSpinnerItem, null)&lt;/api&gt;;&#10;&#10;&#10;with&#10;&#10;view = &lt;api&gt;context.LayoutInflater.Inflate(Android.Resource.Layout.SimpleSpinnerItem, parent, false)&lt;/api&gt;;&#10;&#10;&#10;Ref#: this link&#10;" CommentCount="3" CreationDate="2015-06-16T09:04:15.940" Id="112563" LastActivityDate="2015-06-16T09:04:15.940" OwnerUserId="78256" ParentId="60629" PostTypeId="2" Score="-1" />
  <row AnswerCount="0" Body="i am using nordic N51822 ble for my android application , which works fine when connected , but after connection sometimes it gets disconnected automatically on its own , i could not figure out how to fix it .&#10;&#10;i have attached log between connected and disconnected . Please guide me to fix it.:&#10;&#10;07-04 08:43:26.384 D/tecnogem connected running--&amp;gt;( 5675): yes&#10;07-04 08:43:26.384 D/tecnogem synch running--&amp;gt;( 5675): rrrr&#10;07-04 08:43:27.889 W/bt-btif ( 2401): bta_gattc_conn_cback() - cif=3 connected=0 conn_id=3 reason=0x0008&#10;07-04 08:43:27.889 W/bt-btif ( 2401): bta_gattc_conn_cback() - cif=4 connected=0 conn_id=4 reason=0x0008&#10;07-04 08:43:27.889 W/bt-btif ( 2401): bta_gattc_conn_cback() - cif=5 connected=0 conn_id=5 reason=0x0008&#10;07-04 08:43:27.889 E/bt-btm  ( 2401): btm_sec_disconnected - Clearing Pending flag&#10;07-04 08:43:27.892 W/bt-l2cap( 2401): L2CA_SetDesireRole() new:x0, disallow_switch:0&#10;07-04 08:43:27.892 D/BtGatt.GattService( 2401): onDisconnected() - clientIf=5, connId=5, address=E8:60:71:E6:2B:94&#10;07-04 08:43:27.893 D/BluetoothGatt( 5675): onClientConnectionState() - status=8 clientIf=5 device=E8:60:71:E6:2B:94&#10;07-04 08:43:27.894 I/BluetoothLeService( 5675): Disconnected from GATT server.&#10;07-04 08:43:27.898 D/BluetoothMapService( 2401): onReceive&#10;07-04 08:43:27.898 D/BluetoothMapService( 2401): onReceive, action android.bluetooth.device.action.ACL_DISCONNECTED&#10;07-04 08:43:27.905 D/BluetoothLeService( 5675): Trying to use an existing mBluetoothGatt for connection.&#10;07-04 08:43:27.918 D/BtGatt.GattService( 2401): clientConnect() - address=E8:60:71:E6:2B:94, isDirect=false&#10;07-04 08:43:27.919 D/BtGatt.btif( 2401): btif_get_device_type: Device [e8:60:71:e6:2b:94] type 2, addr. type 1&#10;07-04 08:43:27.919 E/bt-att  ( 2401): device already in iniator white list&#10;07-04 08:43:27.930 I/Coffee - BluetoothConnectionTracker( 2097): Bluetooth disconnection broadcast for H1-mini-I&#10;07-04 08:43:27.930 I/Coffee - DevicePreferencesUtils( 2097): Failed to find BluetoothDevice.isEncrypted private API.&#10;07-04 08:43:27.935 V/BluetoothFtpService( 2401): Ftp Service onStartCommand&#10;07-04 08:43:27.935 V/BluetoothFtpService( 2401): PARSE INTENT action: android.bluetooth.device.action.ACL_DISCONNECTED&#10;07-04 08:43:27.940 V/BluetoothSapReceiver( 2401): SapReceiver onReceive &#10;07-04 08:43:27.940 V/BluetoothSapReceiver( 2401): action = android.bluetooth.device.action.ACL_DISCONNECTED&#10;07-04 08:43:27.941 V/BluetoothSapReceiver( 2401): Calling SAP service start service with action = null&#10;07-04 08:43:27.944 V/BluetoothSapService( 2401): action: android.bluetooth.device.action.ACL_DISCONNECTED&#10;07-04 08:43:27.945 V/BluetoothSapService( 2401): state: -2147483648&#10;07-04 08:43:27.947 I/Coffee - BluetoothTrustlet( 2097): Device Micromax A74 is not allowed because it is either insecure or of unknown security and needs user confirmation&#10;07-04 08:43:27.952 D/BluetoothDunService( 2401): parseIntent: action: android.bluetooth.device.action.ACL_DISCONNECTED&#10;07-04 08:43:27.958 I/notification_cancel(  711): [1002,2401,com.android.bluetooth,2,NULL,0,0,64,8,NULL]&#10;07-04 08:43:27.961 I/BTConnectionReceiver( 3389): onReceive(context, Intent { act=android.bluetooth.device.action.ACL_DISCONNECTED flg=0x4000010 cmp=com.google.android.googlequicksearchbox/com.google.android.search.core.service.BluetoothConnectionReceiver (has extras) }, [BluetoothDevice: address=E8:60:71:E6:2B:94, alias=null, name=H1-mini-I, majorDeviceClass=2304, deviceClass=2336]&#10;07-04 08:43:27.963 I/notification_cancel(  711): [1002,2401,com.android.bluetooth,3,NULL,0,0,64,8,NULL]&#10;07-04 08:43:27.964 I/BluetoothClassifier( 3389): Bluetooth Device Name: H1-mini-I&#10;07-04 08:43:27.964 I/notification_cancel(  711): [1002,2401,com.android.bluetooth,8,NULL,0,0,64,8,NULL]&#10;07-04 08:43:27.965 I/notification_cancel(  711): [1002,2401,com.android.bluetooth,151,NULL,0,0,64,8,NULL]&#10;07-04 08:43:27.996 I/notification_cancel(  711): [1002,2401,com.android.bluetooth,-1000005,NULL,0,0,64,8,NULL]&#10;07-04 08:43:27.996 I/notification_cancel(  711): [1002,2401,com.android.bluetooth,-1000006,NULL,0,0,64,8,NULL]&#10;07-04 08:43:28.025 I/am_proc_start(  711): [0,6455,10096,com.skype.raider,broadcast,com.skype.raider/com.skype.android.audio.BluetoothReceiver]&#10;07-04 08:43:28.025 I/ActivityManager(  711): Start proc com.skype.raider for broadcast com.skype.raider/com.skype.android.audio.BluetoothReceiver: pid=6455 uid=10096 gids={50096, 9997, 3003, 3002, 1028, 1015} abi=armeabi&#10;07-04 08:43:28.054 I/am_proc_bound(  711): [0,6455,com.skype.raider]&#10;07-04 08:43:28.102 I/LoadedApk( 6455): No resource references to update in package common&#10;07-04 08:43:28.102 I/LoadedApk( 6455): No resource references to update in package com.cyngn.yu&#10;07-04 08:43:28.102 I/LoadedApk( 6455): No resource references to update in package com.cyngn.yu&#10;07-04 08:43:28.384 D/BluetoothGatt( 5675): readRssi() - device: E8:60:71:E6:2B:94&#10;07-04 08:43:28.387 D/&lt;api&gt;BtGatt.GattService( 2401)&lt;/api&gt;: readRemoteRssi() - address=E8:60:71:E6:2B:94&#10;07-04 08:43:28.388 D/BluetoothLeService( 5675): Trying to use an existing mBluetoothGatt for connection.&#10;07-04 08:43:28.389 D/&lt;api&gt;BtGatt.GattService( 2401)&lt;/api&gt;: clientConnect() - address=E8:60:71:E6:2B:94, isDirect=false&#10;07-04 08:43:28.389 D/BtGatt.btif( 2401): btif_get_device_type: Device [e8:60:71:e6:2b:94] type 2, addr. type 1&#10;07-04 08:43:28.389 E/bt-att  ( 2401): device already in iniator white list&#10;07-04 08:43:28.389 D/tecnogem connected running--&amp;gt;( 5675): no&#10;&#10;" CommentCount="0" CreationDate="2015-07-04T11:20:11.447" Id="114243" LastActivityDate="2015-09-02T13:20:59.783" OwnerUserId="115123" PostTypeId="1" Score="0" Tags="&lt;bluetooth&gt;" Title="android ble frequent reconnecting issue" ViewCount="567" />
  <row AcceptedAnswerId="115332" AnswerCount="2" Body="I recently (dumbly) removed my internal through TWRP on my Asus Zenfone 2 whilst trying to flash SuperZen from xda. So now I'm attempting to go back to stock, and I've tried doing a factory reset with the stock recovery, but with no luck. I'm currently trying to flash boot.img, recovery.img, droidboot.img and system.img via fastboot on Linux and Windows, but I get:&#10;&#10;$ fastboot flash system system.img&#10;&#10;target reported max download size of 536870912 bytes&#10;erasing 'system'...&#10;FAILED (remote: Permission denied)&#10;finished. total time: 0.136s&#10;&#10;&#10;for each one. This is when trying to flash using version WW_2.19.40.22. The interesting thing is, is that when I flash twrp.img or &lt;api&gt;recovery.img(stock)&lt;/api&gt; it still gives me that same error, but when I boot into recovery, I have either TWRP or stock recovery, which shows that it did work. Sadly, this is not the case with system, so if I reboot into the system, it does not work properly and hangs on the &quot;Powered by Android&quot; splash screen.&#10;&#10;EDIT:&#10;just tried using fastboot update -w Zip_Name.zip and it gives me:&#10;&#10;archive does not contain 'android-info.txt'&#10;archive does not contain 'android-product.txt'&#10;error: update package has no android-info.txt or android-product.txt&#10;&#10;&#10;EDIT 2:&#10;booted into TWRP and used &quot;Install&quot; to try and flash the .zip I put on the SD card, I got the logs copied to the SD, and here is the relevant section:&#10;&#10;minzip: Missed a central dir sig (at 0)&#10;E:Zip file is corrupt!&#10;MtpServer::run fd: 13&#10;E:request read returned -1, errno: 5, exiting MtpServer::run loop&#10;Error flashing zip '/external_sd/UL-Z00A-JP-2.19.40.21-user.zip'&#10;Updating partition details...&#10;I:Data backup size is 0MB, free: 55424MB.&#10;...done&#10;&#10;&#10;Basically, it gave me E:Zip file is corrupt! and ended up with &quot;Failed&quot;.&#10;" CommentCount="19" CreationDate="2015-07-14T22:45:19.410" Id="115326" LastActivityDate="2016-05-27T08:53:17.693" LastEditDate="2015-07-15T00:36:24.503" LastEditorUserId="116879" OwnerUserId="116879" PostTypeId="1" Score="0" Tags="&lt;fastboot&gt;&lt;twrp&gt;" Title="remote: Permission Denied Asus Zenfone 2" ViewCount="2678" />
  <row Body="There is a paint flag for text strikethrough&#10;&#10;&lt;api&gt;myTextView.setPaintFlags(myTextView.getPaintFlags() | Paint.STRIKE_THRU_TEXT_FLAG)&lt;/api&gt;;&#10;&#10;" CommentCount="1" CreationDate="2015-08-12T06:22:40.383" Id="119010" LastActivityDate="2015-08-12T06:22:40.383" OwnerUserId="23561" ParentId="119006" PostTypeId="2" Score="1" />
  <row Body="Bypassing per site cache:&#10;&#10;This needs a simple javascript code to be run in the address bar for bypassing the cache and fetch contents from the server instead of the browser cache. According to this MDN page on Force reloading the current page from the server,&#10;&#10;javascript:&lt;api&gt;location.reload(true)&lt;/api&gt;&#10;&#10;&#10;Enter the above code in the browser address bar and hit Enter key. This will fetch all the contents from the server instead of picking the elements cached in your browser(thus bypassing the browser cache).&#10;&#10;Bypass Cache data for all websites(Global cache)&#10;&#10;The above javascript work only for a specific website which you have currently opened. To clear all the website cache use the global browser cache data. You find this under,&#10;&#10;Settings &amp;gt; Privacy &amp;gt; CLEAR BROWSING DATA&#10;&#10;&#10;Select the &quot;Cache&quot; Checkbox (and other options like Browser data, Cookies, Password etc if you want) and select &quot;Clear&quot;.&#10;&#10;Note: While Ctrl+F5 will cause the browser to throw out the cache and request new contents from the server, the server may ignore the no-cache header and serve a server-side cached page. Thus, even Ctrl+F5 may return an old version of the page if the server ignores the no-cache header.&#10;&#10;For more interesting discussion on the what does Ctrl+F5 or force refresh does,&#10;&#10;Read this SO post, What requests do browsers' “F5” and “Ctrl + F5” refreshes generate?&#10;" CommentCount="1" CreationDate="2015-08-12T16:07:10.053" Id="119065" LastActivityDate="2015-09-16T11:52:12.627" LastEditDate="2015-09-16T11:52:12.627" LastEditorUserId="27149" OwnerUserId="27149" ParentId="40014" PostTypeId="2" Score="0" />
  <row AnswerCount="1" Body="I know I can convert how I call an activity from within a shell to python code. So given the correct code can someone help me in that conversion? I know I can use pyjinus so that should be another valid option. I can send keystrokes from shell and pyjinus. I'm root as well.&#10;&#10;Shell&#10;&#10;am start -a android.intent.action.MAIN -n com.android.settings/.TetherSettings&#10;&#10;&#10;Python&#10;&#10;Android.startActivity(String action, String uri[optional], String type[optional]: MIME type/subtype of the URI, JSONObject extras[optional]: a Map of extras to add to the Intent, Boolean wait[optional]: block until the user exits the started activity, String packagename[optional]: name of package. If used, requires classname to be useful, String classname[optional]: name of class. If used, requires packagename to be useful)&#10;&#10;&#10;Here is a code to start SL4A that should serve as reference:&#10;&#10;am start -a com.googlecode.android_scripting.action.LAUNCH_SERVER -n com.googlecode.android_scripting/.activity.ScriptingLayerServiceLauncher --ei com.googlecode.android_scripting.extra.USE_SERVICE_PORT 45001&#10;&#10;&#10;I've tried with no luck:&#10;&#10;&lt;api&gt;Android.startActivity('android.intent.action.MAIN',None,None,None,'False','com.android.settings','com.android.settings/.TetherSettings')&lt;/api&gt;&#10;&#10;" CommentCount="0" CreationDate="2015-08-13T11:00:36.557" Id="119144" LastActivityDate="2015-08-14T00:35:50.727" OwnerUserId="42326" PostTypeId="1" Score="0" Tags="&lt;wifi-tethering&gt;&lt;bash&gt;&lt;python&gt;" Title="Android Tethering - Shell To Python Code (SL4A API)" ViewCount="153" />
  <row Body="The historical record is stored in memory, and is not directly available in the service API (as far as I'm aware). The Settings activity accesses it through the &lt;api&gt;NotificationService.getHistoricalNotifications()&lt;/api&gt; method, but this method is not exposed in the NotificationManager API (only getActiveNotifications() is). You might be able to do it through reflection (not tested) but you definitely will not be able to find a file with this information. My understanding of most apps that display these records is that they actually keep their own list somewhere, and add new items as they are posted. Hence, they would not be able to access your historical record from before the time of installation.&#10;&#10;All of the logic for managing the queue is in the NotificationManagerService$Archive inner class. The gist of it is that when a new notification comes in, the system sends it to the the service which then calls &lt;api&gt;Archive.record(notification)&lt;/api&gt;. By default, AOSP has the configuration set so that the Archive will hold a maximum of 100 records, then it will start popping the front item from the queue each time a new one is added.&#10;&#10;Your only real option here is likely going to be polling the output of either adb dumpsys or the NotificationManager.&#10;" CommentCount="1" CreationDate="2015-09-23T15:15:17.920" Id="124006" LastActivityDate="2015-09-23T15:50:26.813" LastEditDate="2015-09-23T15:50:26.813" LastEditorUserId="981" OwnerUserId="981" ParentId="123937" PostTypeId="2" Score="3" />
  <row Body="Thanks to @Fabin Paul:&#10;&#10;The only way to do this without root and without tasker is via adb by executing these commands: &#10;&#10;&#10;adb reboot -- no root required; for reboot, or &#10;adb shell reboot -p -- no root required. &#10;adb shell shutdown -- needs root. &#10;&#10;adb shell su must be run before it, preferably like this: adb shell &amp;rarr; su &amp;rarr; shutdown -- for shutdown / power off -- on a computer while the tablet is connected to the computer with USB debugging enabled.&#10;&#10;&#10;These commands work via adb as adb is more privileged than a normal user, although not as much as root on-device.&#10;&#10;The reason why you simply can't run the commands reboot or shutdown through a terminal emulator on-device or through an app without root is because of the following reasons in order:&#10;&#10;&#10;Android apps use Java as their programming language.&#10;Java has a function &lt;api&gt;System.exec(String)&lt;/api&gt; which allows the program to execute a shell command (specified by the String argument to the function).&#10;If an app did not need root to run the reboot or shutdown commands, it could easily perpetrate Denial Of Service (DoS) attacks on a device (basically like a Trojan (in computer parlance)).&#10;&#10;&#10;As you can understand, the reboot/shutdown functionality needs to be protected from userspace software, hence, for your other question, we will help you to try to root your device so that you can get this functionality. Otherwise, there is no other way I can help you.&#10;" CommentCount="4" CreationDate="2015-10-30T08:13:32.720" Id="127476" LastActivityDate="2015-10-30T15:40:38.333" LastEditDate="2015-10-30T15:40:38.333" LastEditorUserId="96277" OwnerUserId="92056" ParentId="127475" PostTypeId="2" Score="0" />
  <row Body="It is my assumption that the -p: partial application install is for installing packages that are an update to an existing package but are not standalone in itself, sort of how Play Store updates an app using delta or smart updates.&#10;&#10;-p requires a base package to exist and its name passed next to it, else it will throw the error &#10;&#10;Error: java.lang.IllegalArgumentException: Missing inherit package name&#10;&#10;&#10;If the APK you're passing is not an incremental update to an existing package (PACKAGE), you would end up with &#10;&#10;Failed to finalize session&#10;Failure [INSTALL_FAILED_INVALID_APK: Missing existing base package for PACKAGE]&#10;&#10;&#10;I do not have any incremental update so I can't verify my own claim, neither I have any other solid evidence for the whole claim other than these two:&#10;&#10;A comment in Issue:1134353002 thread&#10;&#10;&#10;  Splits are not normal .apks, and they can only be installed via &quot;adb install-multiple&quot; &#10;&#10;&#10;And, this code snippet mentioned under the source code of PackageInstallerSession.java&#10;&#10;&#10;else {&#10;  // Partial installs must be consistent with existing install &#10;  final ApplicationInfo app = &lt;api&gt;mPm.getApplicationInfo(mPackageName, 0, userId)&lt;/api&gt;;&#10;  if (app == null) {&#10;      throw new PackageManagerException(INSTALL_FAILED_INVALID_APK, &quot;Missing existing base package for &quot; + mPackageName);&#10;  }&#10;&#10;" CommentCount="0" CreationDate="2015-11-22T01:20:06.640" Id="129555" LastActivityDate="2015-11-22T01:20:06.640" OwnerUserId="96277" ParentId="111064" PostTypeId="2" Score="0" />
  <row Body="Ok... at home now.&#10;&#10;Don't know if you run unix variant or something else... That doesn't really but all these scripts have been run under Linux.&#10;&#10;create iphone backup (http://libimobiledevice.org)&#10;&#10;idevicebackup2 backup&#10;&#10;Reading the backup&#10;&#10;git clone https://github.com/PicciMario/iPhone-Backup-Analyzer-2&#10;make build&#10;&#10;then modify main.py on line 1449&#10;&#10;-database = &lt;api&gt;sqlite3.connect(':memory:')&lt;/api&gt; # Create a database file in memory&#10;+database = &lt;api&gt;sqlite3.connect('/tmp/md.db')&lt;/api&gt; # Create a database file in memory&#10;&#10;then just start program and let it parse Manifest.mbdb of the iphone backup&#10;&#10;python2.7 main.py&#10;&#10;parse /tmp/md.db and extract names of whatsapp files and media&#10;&#10;sqlite3 /tmp/md.db&#10;SQLite version 3.8.10.2 2015-05-20 18:17:19&#10;Enter &quot;.help&quot; for usage hints.&#10;sqlite&gt; .mode csv&#10;sqlite&gt; .separator | \n&#10;sqlite&gt; .output files2.csv&#10;sqlite&gt; .headers on&#10;sqlite&gt; select fileid,domain_type,domain,file_path,file_name from indice   where domain = &quot;net.whatsapp.WhatsApp&quot; AND domain_type = &quot;AppDomain&quot;;&#10;sqlite&gt; .out stdout&#10;sqlite&gt; .quit&#10;&#10;copy files and correct their names (just replace with your UUID):&#10;&#10;foreach i (cat files2.csv | grep Library/Media/ | grep '&quot;&quot;' | sed &quot;s/|\&quot;\&quot;.\+$//g&quot; | cut -d &quot;|&quot; -f 2- | sed &quot;s/|/\//g&quot;);do;mkdir -p /tmp/extracted/$i;done  &#10;&#10;foreach i (cat files2.csv | grep Library/Media/ | grep -v '&quot;&quot;'  | sed &quot;s/|/\//g&quot; | sed &quot;s/\/AppDomain/|AppDomain/&quot;);do;src=echo $i | cut -d &quot;|&quot; -f 1;dst=echo $i | cut -d &quot;|&quot; -f 2 | sed &quot;s/.$//g&quot; ; cp -v /Path/to/iphone/backup/UUID/0ef862e6faede9b72c75b948f8b5c9663921e796/$src /tmp/extracted/$dst;done  &#10;&#10;cp 0ef862e6faede9b72c75b948f8b5c9663921e796/ec50dd986a0f35953e40f6ca9602ad78173e254f /tmp/extracted/Contacts.sqlite  &#10;&#10;cp 0ef862e6faede9b72c75b948f8b5c9663921e796/7c7fba66680ef796b916b067077cc246adacf01d /tmp/extracted/ChatStorage.sqlite&#10;&#10;Now you have your whatsapp media and ChatStorage.sqlite&#10;&#10;install adb (from Android-sdk-update-manager) http://developer.android.com/sdk/&#10;&#10;On android install WhatsApp, become debugger and enable usb debugging. Setup WhatsApp and send at least one message and click backup in whatsapp. Download Legacy whatsapp and possibly also current one:&#10;&#10;links https://github.com/AbinashBishoyi/WhatsApp-Key-DB-Extractor-UnOfficial/&#10;wget 'http://www.whatsapp.com/android/current/WhatsApp.apk'&#10;&#10;adb install -r -d LegacyWhatsApp.apk&#10;&#10;backup whatsapp (http://www.digitalinternals.com/security/).&#10;&#10;This is the only phase the legacy version needs to be installed:&#10;&#10;adb backup -f whatsapp.ab -noapk com.whatsapp&#10;&#10;Extract key (http://www.digitalinternals.com/security/decrypt-whatsapp-crypt8-database-messages/419/):&#10;&#10;dd if=whatsapp.ab bs=4096 skip=24 iflag=skip_bytes | openssl zlib -d &gt; whatsapp.tar&#10;tar xvf whatsapp.tar apps/com.whatsapp/db/msgstore.db apps/com.whatsapp/f/key&#10;k=$(hexdump -ve '2/1 &quot;%02x&quot;' apps/com.whatsapp/f/key | cut -b 253-316)&#10;&#10;Pull whatsapp message backup&#10;&#10;adb pull /sdcard/WhatsApp/Database/msgstore.db.crypt8 msgstore.db.crypt8&#10;&#10;decrypt:&#10;&#10;iv=$(hexdump -n 67 -ve '2/1 &quot;%02x&quot;' msgstore.db.crypt8 | cut -b 103-134);dd if=msgstore.db.crypt8 bs=4096 skip=67 iflag=skip_bytes | openssl enc -aes-256-cbc -d -nosalt -bufsize 16384 -K $k -iv $iv | gunzip &gt; msgstore.db&#10;&#10;merge databases (https://gist.github.com/paracycle/6107205). The script provided here is not complete and trou reading multiple forensicsites I now know how to modify, to get your media also... but that is work in progress&#10;&#10;Anyways:&#10;&#10;sqlite3 -init ../convert.sql ../merged.db&#10;&#10;encrypt:&#10;&#10;dd if=msgstore.db.crypt8 iflag=count_bytes count=67 of=msgstore.db.crypt8; cat merged.db | gzip -5 |openssl enc -aes-256-cbc -e -nosalt -bufsize 16384 -K $k -iv $iv | dd of=msgstore.db.crypt8 bs=4096 seek=67 oflag=seek_bytes conv=notrunc&#10;&#10;Push new backup:&#10;&#10;adb push msgstore.db.crypt8 /sdcard/WhatsApp/Databases/&#10;&#10;Push current version back to android and start whatsapp to read the backup:&#10;&#10;adb install -r -d WhatsApp.apk&#10;" CommentCount="2" CreationDate="2015-11-22T19:34:15.833" Id="129628" LastActivityDate="2015-11-22T20:12:27.770" LastEditDate="2015-11-22T20:12:27.770" LastEditorUserId="138028" OwnerUserId="138028" ParentId="129500" PostTypeId="2" Score="1" />
  <row Body="TL;DR: Every Android uses FAT32. The Cluster size depends on the release. Existing partitions will be preserved. It will always use quick format.&#10;&#10;Long Answer:&#10;After some more research here is the process as it was coded in the Android source code:&#10;&#10;&#10;The Setting App displays a few confirmations then uses the Intent: Intent(ExternalStorageFormatter.FORMAT_ONLY)&#10;&#10;&#10;  in 4.4 KitKat: https://android.googlesource.com/platform/packages/apps/Settings/+/kitkat-release/src/com/android/settings/MediaFormat.java&#10;  in 5 Lollipop: https://android.googlesource.com/platform/packages/apps/Settings/+/lollipop-release/src/com/android/settings/MediaFormat.java&#10;  in 6 they changed this. I will have to look more into it.&#10;&#10;The ExternalStorageFormatter then uses IMountService to call formatVolume(extStoragePath)  &#10;&#10;&#10;  in 4.4 KitKat: https://android.googlesource.com/platform/frameworks/base.git/+/kitkat-release/core/java/com/android/internal/os/storage/ExternalStorageFormatter.java&#10;  in 5 Lollipop: https://android.googlesource.com/platform/frameworks/base.git/+/lollipop-release/core/java/com/android/internal/os/storage/ExternalStorageFormatter.java&#10;&#10;This function calls&#10;mConnector = new NativeDaemonConnector(this, &quot;vold&quot;, MAX_CONTAINERS * 2, VOLD_TAG, 25);&#10;&lt;api&gt;mConnector.execute(&quot;volume&quot;, &quot;format&quot;, path)&lt;/api&gt;;&#10;&#10;&#10;  in 4.4 KitKat: &#10;  https://android.googlesource.com/platform/frameworks/base/+/kitkat-release/services/java/com/android/server/MountService.java&#10;  in 5 Lollipop: https://android.googlesource.com/platform/frameworks/base/+/lollipop-release/services/core/java/com/android/server/MountService.java&#10;  more info about vold: https://source.android.com/devices/storage/config.html&#10;&#10;NativeDaemonConnector finally calls the native function to format the partition:&#10;Volume::formatVol() This call is without a Volume Label and does not wipe the partition.&#10;&#10;&#10;  see Volume.cpp, VolumeManager.cpp, CommandListener.cpp&#10;  in 4.4 KitKat: https://android.googlesource.com/platform/system/vold/+/kitkat-release&#10;  in 5 Lollipop: https://android.googlesource.com/platform/system/vold/+/lollipop-release&#10;&#10;formatVol decides wether to format the partition (if one already exists) or the whole device (see int Volume::formatVol(bool wipe)). When the latter is the case a new MBR is written. Then Fat::format(devicePath, 0, wipe) is called. (Interesting sidenote: when mounting a volume Android is deleting autorun.inf if it exists: see Volume::protectFromAutorunStupidity())&#10;in Fat::format (in Marshmallow it is named Vfat) the actual formatting is done with: /system/bin/newfs_msdos. The parameters are different depending on the Android release, number of sectors is always omitted, wipe is always false:&#10;&#10;&#10;Lollipop and Marshmallow: -F 32 -O android -c 64 -A&#10;Kitkat: -F 32 -O android -c 8&#10;other systems might differ, see: https://android.googlesource.com/platform/system/vold/ /Fat.cpp or Vfat.cpp  &#10;&#10;&#10;&#10;&#10;&#10;Appendix:&#10;/system/bin/newfs_msdos syntax from https://android.googlesource.com/platform/system/core/+/lollipop-release/toolbox/newfs_msdos.c :&#10;&#10;usage: newfs_msdos [ -options ] special [disktype]&#10;where the options are:&#10;    -@ create file system at specified offset&#10;    -A Attempt to cluster align root directory&#10;    -B get bootstrap from file&#10;    -C create image file with specified size&#10;    -F FAT type (12, 16, or 32)&#10;    -I volume ID&#10;    -L volume label&#10;    -N don't create file system: just print out parameters&#10;    -O OEM string&#10;    -S bytes/sector&#10;    -a sectors/FAT&#10;    -b block size&#10;    -c sectors/cluster&#10;    -e root directory entries&#10;    -f standard format&#10;    -h drive heads&#10;    -i file system info sector&#10;    -k backup boot sector&#10;    -m media descriptor&#10;    -n number of FATs&#10;    -o hidden sectors&#10;    -r reserved sectors&#10;    -s file system size (sectors)&#10;    -u sectors/track&#10;&#10;" CommentCount="2" CreationDate="2015-12-07T14:49:41.277" Id="130905" LastActivityDate="2015-12-07T20:56:00.430" LastEditDate="2015-12-07T20:56:00.430" LastEditorUserId="108413" OwnerUserId="108413" ParentId="130402" PostTypeId="2" Score="0" />
  <row Body="The only &quot;official&quot; explanation I found is in this comment (dated July 2009) in the Git repositories on android:&#10;&#10;&#10;  wifi: &lt;api&gt;WifiManager.startScan()&lt;/api&gt; will now do passive scans by default.&#10;  &#10;  Active scans will only happen if an hidden AP is in use, or if the new method&#10;  &lt;api&gt;WifiManager.startScanActive()&lt;/api&gt; is called.&#10;&#10;&#10;The existence of an hidden function to start an active scan (reported here) suggests that the normal scanning function is indeed passive. This is to be taken with a grain of salt, though, as the Android documentation doesn't explicitly tell if the function &lt;api&gt;WifiManager.startScan()&lt;/api&gt; is passive or not.&#10;&#10;Also related: this two posts on SO (post 1, post 2) report that the scanning activity is passive (post 1) and that since android 4.3 it not even possible to call the active scan method (post 2) - but there is no link to official sources.&#10;" CommentCount="0" CreationDate="2015-12-13T12:44:29.367" Id="131446" LastActivityDate="2015-12-13T12:44:29.367" OwnerUserId="127476" ParentId="131414" PostTypeId="2" Score="5" />
  <row Body="I managed to do an adb backup of my phone based on @sameer's answer. However, as noted in the comments there, you need to confirm the backup using the screen after running the adb backup command.&#10;&#10;So first, you need to have adb installed. Make sure your device shows up and is authorized:&#10;&#10;# adb devices                                                                                                                                    &#10;List of devices attached                                                                                                                                                &#10;EP732284Z8      device &#10;&#10;&#10;Then run adb shell input to make sure the commands we're going to be using are there. You should see something like that:&#10;&#10;# adb shell input&#10;Usage: input [&amp;lt;source&amp;gt;] &amp;lt;command&amp;gt; [&amp;lt;arg&amp;gt;...]                                                                                                                 &#10;&#10;The sources are:                                                                                                                                             &#10;      mouse                                                                                                                                                  &#10;      keyboard                                                                                                                                               &#10;      joystick                                                                                                                                               &#10;      touchnavigation                                                                                                                                        &#10;      touchpad                                                                                                                                               &#10;      trackball                                                                                                                                              &#10;      stylus                                                                                                                                                 &#10;      dpad                                                                                                                                                   &#10;      touchscreen                                                                                                                                            &#10;      gamepad                                                                                                                                                &#10;&#10;The commands and default sources are:                                                                                                                        &#10;      text &amp;lt;string&amp;gt; (Default: touchscreen)                                                                                                                   &#10;      keyevent [--longpress] &amp;lt;key code number or name&amp;gt; ... (Default: keyboard)                                                                               &#10;      tap &amp;lt;x&amp;gt; &amp;lt;y&amp;gt; (Default: touchscreen)                                                                                                                     &#10;      swipe &amp;lt;x1&amp;gt; &amp;lt;y1&amp;gt; &amp;lt;x2&amp;gt; &amp;lt;y2&amp;gt; [duration(ms)] (Default: touchscreen)                                                                                        &#10;      press (Default: trackball)                                                                                                                             &#10;      roll &amp;lt;dx&amp;gt; &amp;lt;dy&amp;gt; (Default: trackball)  &#10;&#10;&#10;Next, we'll install TouchControl to be able to see what is happening on screen. This won't work if your device is not already in USB debugging mode and authorized already (i.e. if you see &quot;unauthorized&quot; or &quot;offline&quot; after running the first command). I installed the Linux version. I had to install boost to make it work. It should work on Windows too.&#10;&#10;We need to unlock the device. For that, we will use &quot;adb shell input swipe [x1] [y1] [x2] [y2] [duration]&quot; with (x1, y1, x2, y2) depending on your device and duration could be 250 (in ms). For reference, you can look at the numbers in this file (look for &quot;shell input swipe&quot;). In my case the resolution of my device is &quot;1920x1080&quot; so I looked at the part that said &quot;   if (&lt;api&gt;i.toStdString()&lt;/api&gt; == &quot;1080x1920&quot;) {. That code does a swipe from left to right. I need to unlock my device by swiping from bottom to top, so I used (300, 1100, 300, 950) with a duration 300, i.e. &quot;adb shell input swipe 300 1100 300 950 300&quot;. You'll need to experiment with the values and see what changes on the &quot;virtual&quot; screen to get it right. In my case (0, 0) was the top left and (300, 1100) was towards the bottom middle.&#10;&#10;If you have a password or PIN you can input it using adb shell input text &quot;&amp;lt;yourpasswordhere&amp;gt;&quot;. If you have a pattern, then you'll have to figure out the coordinates of every dot and make your pattern using adb shell swipe commands. (Good luck with that, it'll take some time). Otherwise, you could try some screenlock bypass apps and install them via adb install. I didn't have any of that, so I'm not sure what will work for you.&#10;&#10;Now run the adb backup command:&#10;&#10;# adb backup -apk -shared -obb -all -system -f ./android-backup.ab&#10;Now unlock your device and confirm the backup operation.&#10;&#10;&#10;Next, you'll have a screen like that one (click image for full size):&#10;&#10;&#10;&#10;So now, we will press &quot;TAB&quot; twice to get to the &quot;BACKUP MY DATA&quot; button, then press &quot;ENTER&quot; to confirm. Basically, based on the numbers in that answer:&#10;&#10;adb shell input keyevent 61&#10;adb shell input keyevent 61&#10;adb shell input keyevent 66&#10;&#10;&#10;Now your backup has started. Yey!&#10;&#10;P.S. To see the progress of your update, you can watch the file size grow. On linux, you can run a command like that one: watch -n 5 &quot;du -h ./*.ab&quot; or watch -n 5 &quot;du --time -m ./*.ab&quot;&#10;&#10;P.P.S. You can use a command like adb shell input swipe 300 0 300 950 300 to open your notification drawer and abd shell input tap [x1] [y1] to press on notifications then adb shell text [sometext] to write. And you can use adb shell input keyevent [61|66] to press on practically anything without knowing their coordinates.&#10;&#10;P.P.P.S. I'm on an Xpreria ZR running &quot;10.7.A.0.222&quot; android version 5.1.1. Your exact commands may vary depending on your screen resolution and android version (e.g. different way to unlock, different number of times to press TAB, etc.).&#10;&#10;Hope this helps!&#10;" CommentCount="3" CreationDate="2015-12-20T10:13:57.100" Id="132027" LastActivityDate="2015-12-20T11:15:39.477" LastEditDate="2015-12-20T11:15:39.477" LastEditorUserId="16575" OwnerUserId="9776" ParentId="75248" PostTypeId="2" Score="1" />
  <row Body="Use Tasker's native Java calls&#10;&#10;Java code&#10;&#10;Use ExifInterface.getAttribute to solve this problem.&#10;&#10;exif = new ExifInterface( %filename )&#10;%datetime = &lt;api&gt;exif.getAttribute(exif.TAG_DATETIME)&lt;/api&gt;&#10;&#10;&#10;Implementation overview&#10;&#10;&#10;Getting path of a .JPG from %filename Tasker variable&#10;Construct a new ExifInterface class instance into exif Java variable&#10;Get date &amp;amp; time by exif.getAttribute Java function, and store results into %datetime Tasker variable&#10;Free exif Java variable&#10;Check %datetime is set (this is not set when .JPG is not contains EXIF info)&#10;&#10;&#10;&#10;&#10;Step by step solution in Tasker&#10;&#10;&#10;Add a new Code &gt; Java Function action&#10;&#10;a. Set ExifInterface to Class Or Object (or select by magnifying glass button)&#10;&#10;b. Write new \\ {ExifInterface} (String) to Function (or select by magnifying glass button)&#10;&#10;c. Write %filename to Param (String)&#10;&#10;d. Write exif to Return {ExifInterface}&#10;&#10;&#10;Add a new Code &gt; Java Function action&#10;&#10;a. Write exif to Class Or Object (or select by coffee button)&#10;&#10;b. Write getAttribute \\ {String} (String) to Function (or select by magnifying glass button)&#10;&#10;c. Write exif.TAG_DATETIME to Param (String)&#10;&#10;d. Write %datetime to Return {String}&#10;&#10;&#10;Add a new Code &gt; Java Object action&#10;&#10;a. Left Mode on Delete&#10;&#10;b. and write exif to Name&#10;&#10;&#10;Check %datetime is set - I added a conditional Flash for show %datetime&#10;&#10;&#10;Done!&#10;" CommentCount="0" CreationDate="2015-12-29T13:56:11.090" Id="132891" LastActivityDate="2015-12-29T13:56:11.090" OwnerUserId="60401" ParentId="93285" PostTypeId="2" Score="0" />
  <row Body="Here's a work-around that seems to work on my (non-rooted) Android device. Does it work for you?&#10;&#10;At the Spartacus Rex Terminal IDE command prompt, type&#10;&#10;cd ~/sdcard ;&#10;vim a.html&#10;&#10;&#10;then enter a quick JavaScript program:&#10;&#10;&amp;lt;script&amp;gt;&#10;&lt;api&gt;document.write( &quot;hello.&quot; )&lt;/api&gt;;&#10;alert(&quot;hi!&quot;);&#10;&amp;lt;/script&amp;gt;&#10;&#10;&#10;Then press the ESC button and &quot;:wq&quot; to save the program and quit back to the command prompt.&#10;&#10;Hit the Home button and fire up your favorite web browser, and use this URL:&#10;&#10;file://sdcard/sdcard/a.html&#10;&#10;&#10;You should see the &quot;hi&quot; alert pop up on top of a page saying &quot;hello.&quot;.&#10;&#10;(I originally posted something like this to&#10;https://en.wikibooks.org/wiki/Android/Terminal_IDE&#10;).&#10;" CommentCount="2" CreationDate="2016-01-16T04:31:53.267" Id="134419" LastActivityDate="2016-01-16T04:31:53.267" OwnerUserId="22826" ParentId="112603" PostTypeId="2" Score="0" />
  <row AcceptedAnswerId="135925" AnswerCount="1" Body="CyanogenMod 13 nightlies on Nexus 9 with Gapps installed.&#10;&#10;I've been dealing with a persistent issue where any app that uses Android System WebView will crash. This means that any app that opens a webpage internally or otherwise tries to render HTML-based content internally (e.g. Email) will crash, rendering a large number of apps unusable.&#10;&#10;Installing and updating WebView from Google Play does not help. In fact, it seems that the system is not using the downloaded WebView at all as there is no indication that the WebView app had ever opened at all.&#10;&#10;An example error generated when this happens is as follows:&#10;&#10;*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***&#10;Build fingerprint: 'google/volantis/flounder:6.0.1/MMB29K/2419427:user/release-keys'&#10;Revision: '0'&#10;ABI: 'arm64'&#10;pid: 12135, tid: 12667, name: RenderThread  &amp;gt;&amp;gt;&amp;gt; com.android.email &amp;lt;&amp;lt;&amp;lt;&#10;signal 6 (SIGABRT), code -6 (SI_TKILL), fault addr --------&#10;Abort message: '[FATAL:gl_fence_egl.cc(65)] Check failed: g_ignore_egl_sync_failures. &#10;'&#10;    x0   0000000000000000  x1   000000000000317b  x2   0000000000000006  x3   0000000000000000&#10;    x4   0000000000000000  x5   0000000000000001  x6   0000000000000000  x7   0000000000000000&#10;    x8   0000000000000083  x9   0000007f7581a4bd  x10  0000007f7581a470  x11  0000007f7581a772&#10;    x12  0000007f7581a4bc  x13  0000000000000054  x14  0000007f7a78c4f8  x15  0000007f8f772aa8&#10;    x16  0000007f8f7646a0  x17  0000007f8f726b6c  x18  0000007f8f772a98  x19  0000007f7581c510&#10;    x20  0000007f7581c450  x21  0000000000000000  x22  0000000000000006  x23  0000007f7581ad38&#10;    x24  0000007f7ad78000  x25  00000000000005db  x26  0000007f7adab930  x27  0000007f7ac2b0f0&#10;    x28  0000007f7581b14c  x29  0000007f7581a7b0  x30  0000007f8f724308&#10;    sp   0000007f7581a7b0  pc   0000007f8f726b74  pstate 0000000020000000&#10;&#10;backtrace:&#10;    #00 pc 000000000006bb74  /system/lib64/libc.so (tgkill+8)&#10;    #01 pc 0000000000069304  /system/lib64/libc.so (pthread_kill+68)&#10;    #02 pc 00000000000211e0  /system/lib64/libc.so (raise+28)&#10;    #03 pc 000000000001b980  /system/lib64/libc.so (abort+60)&#10;    #04 pc 00000000006e0bc0  /data/app/com.google.android.webview-2/lib/arm64/libwebviewchromium.so&#10;&#10;&#10;Any ideas?&#10;" CommentCount="1" CreationDate="2016-01-19T17:42:16.380" Id="134711" LastActivityDate="2016-04-02T18:05:44.687" LastEditDate="2016-01-19T17:48:15.337" LastEditorUserId="34202" OwnerUserId="34202" PostTypeId="1" Score="1" Tags="&lt;cyanogenmod&gt;&lt;crashes&gt;&lt;6.0-marshmallow&gt;&lt;nexus-9&gt;&lt;webview&gt;" Title="CM13 on Nexus 9: Any app that internally opens a webpage or otherwise uses System WebView crashes" ViewCount="447" />
  <row Body="@al-e's answer works, but it does have a little bug mentioned in the comments. I've made a different version of the script that solves this bug and have been successfully using it for a few years. Here's the script that I'm using:&#10;&#10;function markArchivedAsRead() {&#10;  var threads = &lt;api&gt;GmailApp.search('label:unread -label:inbox')&lt;/api&gt;;&#10;  for (var i=0; i&amp;lt;threads.length; i++)&#10;  {&#10;    var messages = threads[i].getMessages();&#10;    var markUnread = 1;&#10;    for (var j=0; j&amp;lt;messages.length; j++)&#10;    {&#10;      if (messages[j].isInInbox())&#10;        markUnread = 0;&#10;    }&#10;    if (markUnread)&#10;      threads[i].markRead();&#10;  }&#10;};&#10;&#10;" CommentCount="0" CreationDate="2016-01-21T16:30:54.857" Id="134901" LastActivityDate="2016-01-21T16:30:54.857" OwnerUserId="147424" ParentId="45000" PostTypeId="2" Score="0" />
  <row Body="I normally run android tts from android terminal, just the way on linux.&#10;&#10;I achieve this with sl4a &amp;amp; Python4Android (github.com/kuri65536/python-for-android/releases). &#10;Here is the wrapper script that I use for python environment in terminal.  &#10;&#10;Just Create a python program using sl4a tts api, like this :: &#10;&#10;`#!/system/bin/py  # Change the Path to wrapper script&#10;&#10; import android&#10; import sys&#10;&#10; droid = &lt;api&gt;android.Android()&lt;/api&gt;&#10;&#10; print 'Speaking ::' + sys.argv[1]&#10; &lt;api&gt;droid.ttsSpeak(sys.argv[1])&lt;/api&gt;&#10;&#10;&#10;`&#10;&#10;Save as tts. Run it in terminal with your text as argument.&#10;&#10;tts 'Hello, It's me TTS , running from console.'&#10;&#10;" CommentCount="0" CreationDate="2016-02-18T21:40:09.210" Id="137464" LastActivityDate="2016-02-18T21:40:09.210" OwnerUserId="75034" ParentId="119405" PostTypeId="2" Score="2" />
  <row Body="There is special handling for &quot;me&quot; and you cannot override this.&#10;&#10;Edit: This is handled by MessageHeaderView.getRecipientSummaryText(…) where myName is &quot;me&quot; (in English).&#10;" CommentCount="3" CreationDate="2016-02-20T22:58:53.830" Id="137648" LastActivityDate="2016-02-22T11:37:34.933" LastEditDate="2016-02-22T11:37:34.933" LastEditorUserId="9677" OwnerUserId="9677" ParentId="136080" PostTypeId="2" Score="-1" />
  <row Body="&#10;As per the training document Monitoring the Battery Level and Charging State Determine the Current Battery Level section describes a method, which I presume is implemented in OS and measured periodically (most likely at every 1% change of battery level)&#10;&#10;&#10;&#10;  You can find the current battery charge by extracting the current battery level and scale from the battery status intent as shown here:&#10;&#10;&#10;int level = &lt;api&gt;batteryStatus.getIntExtra(BatteryManager.EXTRA_LEVEL, -1)&lt;/api&gt;;&#10;int scale = &lt;api&gt;batteryStatus.getIntExtra(BatteryManager.EXTRA_SCALE, -1)&lt;/api&gt;;&#10;&#10;float batteryPct = level / (float)scale;&#10;&#10;&#10;&#10;Once you know the current level and the time taken to reach that level, I presume time for full charge is stored in ROM (not sure how and where) it is only a matter of extrapolating&#10;&#10;&#10;Note: This is an educated guess and would welcome inputs&#10;" CommentCount="0" CreationDate="2016-03-02T16:41:55.453" Id="138638" LastActivityDate="2016-03-02T16:52:33.880" LastEditDate="2016-03-02T16:52:33.880" LastEditorUserId="131553" OwnerUserId="131553" ParentId="138628" PostTypeId="2" Score="1" />
  <row AcceptedAnswerId="141977" AnswerCount="1" Body="I have an real Android device connected to a computer via USB. I managed to activate TCP port forwarding with adb forward tcp:&amp;lt;port&amp;gt; tcp:&amp;lt;port&amp;gt; and successfully communicate with sockets but I don't know how to do the same for UDP.&#10;&#10;&#10;  EDIT : I launched my application on the emulator and typed telnet localhost 5554 and redir add udp:&amp;lt;port&amp;gt;:&amp;lt;port&amp;gt; and it&#10;  worked, my function executeCMD is functionnal because when I try ls&#10;  it's working.&#10;&#10;&#10;Some websites said to use redir like this redir add udp:&amp;lt;port&amp;gt;:&amp;lt;port&amp;gt; but when I do so I obtain an error :&#10;&#10;usage:&#10;    redir --lport=&amp;lt;n&amp;gt; --cport=&amp;lt;n&amp;gt; [options]&#10;    redir --inetd --cport=&amp;lt;n&amp;gt;&#10;&#10;    Options are:-&#10;        --lport=&amp;lt;n&amp;gt;     port to listen on&#10;        --laddr=IP      address of interface to listen on&#10;        --cport=&amp;lt;n&amp;gt;     port to connect to&#10;        --caddr=&amp;lt;host&amp;gt;      remote host to connect to&#10;        --inetd     run from inetd&#10;        --debug     output debugging info&#10;        --timeout=&amp;lt;n&amp;gt;   set timeout to n seconds&#10;        --syslog    log messages to syslog&#10;        --name=&amp;lt;str&amp;gt;    tag syslog messages with 'str'&#10;        --connect=&amp;lt;str&amp;gt; CONNECT string passed to proxy server&#10;        --bind_addr=IP  bind() outgoing IP to given addr&#10;        --ftp=&amp;lt;type&amp;gt;        redirect ftp connections&#10;            where type is either port, pasv, both&#10;        --transproxy    run in linux's transparent proxy mode&#10;        --bufsize=&amp;lt;octets&amp;gt;  size of the buffer&#10;        --max_bandwidth=&amp;lt;bit-per-sec&amp;gt;   limit the bandwidth&#10;        --random_wait=&amp;lt;millisec&amp;gt;    wait before each packet&#10;        --wait_in_out=&amp;lt;flag&amp;gt;    1 wait for in, 2 out, 3 in&amp;amp;out&#10;&#10;    Version 2.2.1.&#10;&#10;&#10;Then I thought this command should be launch on the Android device so I created this method :&#10;&#10; public String executeCMD(String cmd){&#10;    StringBuffer output = new StringBuffer();&#10;    try{&#10;        Process process = &lt;api&gt;Runtime.getRuntime()&lt;/api&gt;.exec(cmd);&#10;        BufferedReader reader = new BufferedReader(new InputStreamReader(&lt;api&gt;process.getInputStream()))&lt;/api&gt;;&#10;        int read;&#10;        char[] buffer = new char[4096];&#10;        while ((read = &lt;api&gt;reader.read(buffer))&lt;/api&gt; &amp;gt; 0) &lt;api&gt;output.append(buffer, 0, read)&lt;/api&gt;;&#10;&#10;        &lt;api&gt;reader.close()&lt;/api&gt;;&#10;        &lt;api&gt;process.waitFor()&lt;/api&gt;;&#10;&#10;    } catch(IOException e){ &lt;api&gt;e.printStackTrace()&lt;/api&gt;;&#10;    } catch(InterruptedException e){ &lt;api&gt;e.printStackTrace()&lt;/api&gt;; }&#10;&#10;    return &lt;api&gt;output.toString()&lt;/api&gt;;&#10;}&#10;&#10;&#10;And when I called it like that :&#10;&#10;executeCMD(&quot;redir add udp:&quot; + UDP_PORT + &quot;:&quot; + UDP_PORT)&#10;&#10;&#10;I get no output and the UDP server on the Android app can't communicate with the UDP client.&#10;&#10;So I'm a bit lost... I'll continue searching but If you can help me; go ahead.&#10;&#10;Thanks.&#10;" CommentCount="3" CreationDate="2016-04-05T16:39:31.440" FavoriteCount="1" Id="141606" LastActivityDate="2016-06-10T10:10:12.487" OwnerUserId="159669" PostTypeId="1" Score="3" Tags="&lt;adb&gt;&lt;usb&gt;&lt;android-emulator&gt;&lt;ad-hoc-networks&gt;" Title="How can I activate UDP forwarding for USB communication between a PC and an Android app" ViewCount="201" />
  <row AnswerCount="1" Body="Is it even possible with what im trying to acheive in android by sending across some text data to a php web service with the below code, no exceptions are being thrown and i have tried everything with regards to libraries and raw java? &#10;&#10; private void send() {&#10;    URL a = null;&#10;    try {&#10;        a = new URL(&quot;http://10.0.2.2/json.php/&quot;);&#10;    } catch (Exception exception) {&#10;        &lt;api&gt;exception.printStackTrace()&lt;/api&gt;;&#10;    }&#10;    new URLTestTask().execute(a);&#10;}&#10;&#10;private class URLTestTask extends AsyncTask&amp;lt;URL, Integer, Void&amp;gt; {&#10;&#10;    @Override&#10;    protected Void doInBackground(URL... urls) {&#10;&#10;        HttpURLConnection conn = null;&#10;        BufferedReader reader = null;&#10;        try {&#10;            URL url = new URL(&quot;http://10.0.2.2/json.php/&quot;);&#10;            conn = (HttpURLConnection) &lt;api&gt;url.openConnection()&lt;/api&gt;;&#10;            &lt;api&gt;conn.setDoOutput(true)&lt;/api&gt;;&#10;            &lt;api&gt;Log.e(&quot;&quot;, &quot;&quot; + conn.getResponseMessage())&lt;/api&gt;;&#10;            &lt;api&gt;conn.connect()&lt;/api&gt;;&#10;            JSONObject obj = new JSONObject();&#10;            &lt;api&gt;obj.put(&quot;Marge&quot;,&quot;Simpson&quot;)&lt;/api&gt;;&#10;&#10;            HttpClient client = new HttpClient() {&#10;                @Override&#10;                public HttpParams getParams() {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public ClientConnectionManager getConnectionManager() {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public HttpResponse execute(HttpUriRequest request) throws IOException, ClientProtocolException {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public HttpResponse execute(HttpUriRequest request, HttpContext context) throws IOException, ClientProtocolException {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public HttpResponse execute(HttpHost target, HttpRequest request) throws IOException, ClientProtocolException {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public HttpResponse execute(HttpHost target, HttpRequest request, HttpContext context) throws IOException, ClientProtocolException {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public &amp;lt;T&amp;gt; T execute(HttpUriRequest request, ResponseHandler&amp;lt;? extends T&amp;gt; responseHandler) throws IOException, ClientProtocolException {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public &amp;lt;T&amp;gt; T execute(HttpUriRequest request, ResponseHandler&amp;lt;? extends T&amp;gt; responseHandler, HttpContext context) throws IOException, ClientProtocolException {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public &amp;lt;T&amp;gt; T execute(HttpHost target, HttpRequest request, ResponseHandler&amp;lt;? extends T&amp;gt; responseHandler) throws IOException, ClientProtocolException {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public &amp;lt;T&amp;gt; T execute(HttpHost target, HttpRequest request, ResponseHandler&amp;lt;? extends T&amp;gt; responseHandler, HttpContext context) throws IOException, ClientProtocolException {&#10;                    return null;&#10;                }&#10;            };&#10;            HttpGet post = new HttpGet(&lt;api&gt;url.toURI())&lt;/api&gt;;&#10;            &lt;api&gt;post.setEntity(new ByteArrayEntity(obj.toString().getBytes(&quot;UTF8&quot;)))&lt;/api&gt;;&#10;            &lt;api&gt;post.setHeader(&quot;json&quot;, obj.toString())&lt;/api&gt;;&#10;            &lt;api&gt;post.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)&lt;/api&gt;;&#10;            &lt;api&gt;post.setHeader(&quot;accept-encoding&quot;,&quot;gzip, deflate&quot;)&lt;/api&gt;;&#10;            &lt;api&gt;post.setHeader(&quot;accept-language&quot;, obj.toString())&lt;/api&gt;;&#10;            &lt;api&gt;post.setHeader(&quot;FormData&quot;, obj.toString())&lt;/api&gt;;&#10;            HttpResponse lazy = new HttpResponse() {&#10;                @Override&#10;                public StatusLine getStatusLine() {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public void setStatusLine(StatusLine statusline) {&#10;&#10;                }&#10;&#10;                @Override&#10;                public void setStatusLine(ProtocolVersion ver, int code) {&#10;&#10;                }&#10;&#10;                @Override&#10;                public void setStatusLine(ProtocolVersion ver, int code, String reason) {&#10;&#10;                }&#10;&#10;                @Override&#10;                public void setStatusCode(int code) throws IllegalStateException {&#10;&#10;                }&#10;&#10;                @Override&#10;                public void setReasonPhrase(String reason) throws IllegalStateException {&#10;&#10;                }&#10;&#10;                @Override&#10;                public HttpEntity getEntity() {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public void setEntity(HttpEntity entity) {&#10;&#10;                }&#10;&#10;                @Override&#10;                public Locale getLocale() {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public void setLocale(Locale loc) {&#10;&#10;                }&#10;&#10;                @Override&#10;                public ProtocolVersion getProtocolVersion() {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public boolean containsHeader(String name) {&#10;                    return false;&#10;                }&#10;&#10;                @Override&#10;                public Header[] getHeaders(String name) {&#10;                    return new Header[0];&#10;                }&#10;&#10;                @Override&#10;                public Header getFirstHeader(String name) {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public Header getLastHeader(String name) {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public Header[] getAllHeaders() {&#10;                    return new Header[0];&#10;                }&#10;&#10;                @Override&#10;                public void addHeader(Header header) {&#10;&#10;                }&#10;&#10;                @Override&#10;                public void addHeader(String name, String value) {&#10;&#10;                }&#10;&#10;                @Override&#10;                public void setHeader(Header header) {&#10;&#10;                }&#10;&#10;                @Override&#10;                public void setHeader(String name, String value) {&#10;&#10;                }&#10;&#10;                @Override&#10;                public void setHeaders(Header[] headers) {&#10;&#10;                }&#10;&#10;                @Override&#10;                public void removeHeader(Header header) {&#10;&#10;                }&#10;&#10;                @Override&#10;                public void removeHeaders(String name) {&#10;&#10;                }&#10;&#10;                @Override&#10;                public HeaderIterator headerIterator() {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public HeaderIterator headerIterator(String name) {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public HttpParams getParams() {&#10;                    return null;&#10;                }&#10;&#10;                @Override&#10;                public void setParams(HttpParams params) {&#10;&#10;                }&#10;            };&#10;           &lt;api&gt;client.execute(post)&lt;/api&gt;;&#10;&#10;        } catch (Exception e){&#10;            &lt;api&gt;e.printStackTrace()&lt;/api&gt;;&#10;        }finally {&#10;&#10;            if (conn != null)&#10;                &lt;api&gt;conn.disconnect()&lt;/api&gt;;&#10;&#10;            try{&#10;                if (reader != null)&#10;                    &lt;api&gt;reader.close()&lt;/api&gt;;&#10;            } catch (Exception e){&#10;                &lt;api&gt;e.printStackTrace()&lt;/api&gt;;&#10;            }&#10;        }&#10;        return null;&#10;    }&#10;}&#10;&#10;" ClosedDate="2016-04-08T14:16:02.833" CommentCount="1" CreationDate="2016-04-08T13:44:07.113" Id="141870" LastActivityDate="2016-04-08T13:51:59.930" OwnerUserId="160140" PostTypeId="1" Score="-2" Tags="&lt;5.0-lollipop&gt;&lt;os&gt;&lt;java&gt;" Title="Send Data from android to php web app" ViewCount="154" />
  <row Body="HTTP Client is deprecated by Android Studio. SO use this Volley library developed by Google. It is really fast and lightweight. A small example is :&#10;&#10;final TextView mTextView = (TextView) findViewById(R.id.text);&#10;&#10;// Instantiate the RequestQueue.&#10;RequestQueue queue = &lt;api&gt;Volley.newRequestQueue(this)&lt;/api&gt;;&#10;String url =&quot;http://www.google.com&quot;;&#10;&#10;// Request a string response from the provided URL.&#10;StringRequest stringRequest = new StringRequest(Request.Method.GET, url,&#10;        new Response.Listener&amp;lt;String&amp;gt;() {&#10;@Override&#10;public void onResponse(String response) {&#10;    // Display the first 500 characters of the response string.&#10;    &lt;api&gt;mTextView.setText(&quot;Response is: &quot;+ response.substring(0,500))&lt;/api&gt;;&#10;    }&#10;}, new &lt;api&gt;Response.ErrorListener()&lt;/api&gt; {&#10;@Override&#10;public void onErrorResponse(VolleyError error) {&#10;    &lt;api&gt;mTextView.setText(&quot;That didn't work!&quot;)&lt;/api&gt;;&#10;   }&#10; });&#10;// Add the request to the RequestQueue.&#10; &lt;api&gt;queue.add(stringRequest)&lt;/api&gt;;&#10;&#10;&#10;Above example is small request requesting data from server. Link to the documentation is &#10;Volley Documentation&#10;" CommentCount="3" CreationDate="2016-04-08T13:51:59.930" Id="141871" LastActivityDate="2016-04-08T13:51:59.930" OwnerUserId="109812" ParentId="141870" PostTypeId="2" Score="1" />
  <row AnswerCount="0" Body="The problem: phone doesn't want to register in network.&#10;&#10;&#10;Android device shows No SIM card.&#10;After playing with menu *#*#4636#*#* it starts showing Emergency calls only.&#10;Phone displays available networks, but don't want register in it - says Your SIM card doesn't allow a connection to this network (this means gsm module works well, but complains on sim card).&#10;This SIM card works well in another phone (this means there is no issue with SIM).&#10;Any other SIM doesn't work in this phone (in both slots: micro and nano).&#10;On inserting SIM-card phone asks sim's pin code and accepts it. (this means that phone is communicating with sim well)&#10;In radio logs the following (collected lines from long output, don't know how relevant is this):&#10;&#10;&#10;&#10;&gt; E/SubscriptionController( 7326): getSubState: invalid subId = 2147483644 D/SubscriptionManager( 6723): [getPhoneId]- fail&#10;&gt; D/RilRequest( 7326): [4032] SET_NETWORK_SELECTION_MANUAL error: com.android.internal.telephony.CommandException: ILLEGAL_SIM_OR_ME ret= &#10;&gt; D/RilRequest( 7326): [4173] E/GSM     ( 7326): Unrecognized RIL errno 7&#10;&gt; D/TelephonyManager(  495): No /proc/cmdline  exception=java.io.FileNotFoundException: /proc/cmdline: open failed: EACCES (Permission denied) &#10;&gt; E/TelephonyManager( 1078): hasMatchedTetherApnSetting NPE &#10;&gt; E/TelephonyManager( 1078): java.lang.NullPointerException: Attempt to invoke interface method 'int &lt;api&gt;com.android.internal.telephony.ITelephony.getTetherApnRequired()&lt;/api&gt;' on a null object reference&#10;&#10;&#10;Full radio log (after ejecting/inserting SIM) http://paste.evervolv.com/view/d00213a4&#10;&#10;&#10;More details I've posted on http://en.miui.com/thread-264222-1-1.html&#10;(in two words: phone Xiaomi Mi Note Pro, never locked, worked before 6 month).&#10;&#10;&#10;I think this is wide spreaded Android bug - exists many complains on this issue.&#10;&#10;Any suggestions?&#10;&#10;UPD1: The SIM is factory micro-sim, not hand cutted one.&#10;&#10;UPD2: I am not sure that logs are represents root cause of the bug.&#10;&#10;UPD3: The root cause of failure was found in logs:&#10;&#10;&#10;E/RILQ    (  964): (1/964): RIL[1][main] qcril_qmi_init_core_client_handles: qcril_qmi_presence_init returned failure(-3)&#10;E/RILQ    (  964): (1/964): RIL[1][main] qcril_qmi_client_send_msg_sync: Failed to send sync qmi msg 0x03 w/(-2) QMI_SERVICE_ERR&#10;&#10;&#10;This is error of QMI protocol communicating with GSM module. So this is chipset (Snapdragon 810 in this case) hardware error...&#10;&#10;It was very loud to say 'android bug'... Android mistake was in hiding so much kind of errors behind common message 'No SIM card'.&#10;&#10;Closed.&#10;" CommentCount="9" CreationDate="2016-04-14T07:48:33.000" Id="142333" LastActivityDate="2016-04-15T10:06:23.027" LastEditDate="2016-04-15T10:06:23.027" LastEditorUserId="161002" OwnerUserId="161002" PostTypeId="1" Score="1" Tags="&lt;bugs&gt;&lt;gsm&gt;" Title="Android error - No SIM card/Emergency calls only" ViewCount="145" />
  <row Body="Based on the information by others, now I know that the backup file is just a prefixed Deflated (GZip) stream, based on this information this simple program can unpack it for you:&#10;&#10;import java.io.*;&#10;import java.util.zip.*;&#10;&#10;/** Run: javac unab.java &amp;amp;&amp;amp; java unab backupfile.ab */&#10;public class unab {&#10;    private static final int BACKUP_HEADER_LENGTH = 24;&#10;    public static void main(String[] args) throws IOException {&#10;        InputStream in = new FileInputStream(args[0]);&#10;        try {&#10;            OutputStream out = new FileOutputStream(args[0] + &quot;.tar&quot;);&#10;            try {&#10;                if (&lt;api&gt;in.skip(BACKUP_HEADER_LENGTH)&lt;/api&gt; != BACKUP_HEADER_LENGTH) {&#10;                    throw new IOException(&quot;Unexpected end of file while skipping backup header.&quot;);&#10;                }&#10;                byte[] buffer = new byte[100 * 1024];&#10;                int count;&#10;                InputStream zip = new InflaterInputStream(in);&#10;                while ((count = &lt;api&gt;zip.read(buffer))&lt;/api&gt; &amp;gt; 0) {&#10;                    &lt;api&gt;out.write(buffer, 0, count)&lt;/api&gt;;&#10;                }&#10;            } finally {&#10;                &lt;api&gt;out.close()&lt;/api&gt;;&#10;            }&#10;        } finally {&#10;            &lt;api&gt;in.close()&lt;/api&gt;;&#10;        }&#10;    }&#10;}&#10;&#10;&#10;I wrote this because I don't have any of the Unix tools mentioned above, and it was easier than installing Cygwin or other tools.&#10;&#10;Advantages:&#10;&#10;&#10;cross-platform&#10;simple (no esoteric parameters)&#10;no need for piping tools&#10;&#10;&#10;Disadvantages:&#10;&#10;&#10;need a JDK (which you likely already have because you're messing with Android SDK)&#10;no support for encrypted backups&#10;need something to extract the resulting tar file (I use Total Commander)&#10;&#10;&#10;To make it a command line tool create unab.bat with contents: java -cp &quot;%~dp0.&quot; unab %* and the directory to PATH.&#10;" CommentCount="0" CreationDate="2016-04-27T17:37:02.020" Id="143502" LastActivityDate="2016-04-27T17:55:08.040" LastEditDate="2016-04-27T17:55:08.040" LastEditorUserId="46849" OwnerUserId="46849" ParentId="28481" PostTypeId="2" Score="0" />
  <row AnswerCount="1" Body="I am running Cyanogenmod 12.1 on a Nexus 5. It include SE-Linux in enforcing mode and Privacy Guard. Cyanogenmod does not provide a store, so I fetched Uber from Google Play using a download service and installed it via the command line with adb install com.ubercab.apk.&#10;&#10;When I attempt to launch Uber, it simply hangs. The screen capture is below.&#10;&#10;When I inspect the logcat logs, it shows some minor issues. It looks like the app is not as tested as well as it could be, but I don't see any fatal exceptions. The output is below.&#10;&#10;Its also worth noting other apps, such as Textra and Firefox, run fine when installed the same way.&#10;&#10;How do I run Uber Rider on this Cyanogenmod/Nexus combination?&#10;&#10;&#10;&#10;I/ActivityManager(  746): Start proc 3207:com.ubercab/u0a18 for activity com.ube&#10;rcab/.UBUberActivity&#10;I/MultiDex( 3207): VM with version 2.1.0 has multidex support&#10;I/MultiDex( 3207): install&#10;I/MultiDex( 3207): VM has multidex support, MultiDex support library is disabled&#10;.&#10;W/ActivityManager(  746): getRunningAppProcesses: caller 10018 does not hold REA&#10;L_GET_TASKS; limiting output&#10;I/Fabric  ( 3207): Initializing Crashlytics 2.2.3.41&#10;W/ActivityManager(  746): getRunningAppProcesses: caller 10018 does not hold REA&#10;L_GET_TASKS; limiting output&#10;W/ActivityManager(  746): getRunningAppProcesses: caller 10018 does not hold REA&#10;L_GET_TASKS; limiting output&#10;W/Settings( 3207): Setting install_non_market_apps has moved from android.provid&#10;er.Settings.Global to android.provider.Settings.Secure, returning read-only valu&#10;e.&#10;W/Settings( 3207): Setting install_non_market_apps has moved from android.provid&#10;er.Settings.Global to android.provider.Settings.Secure, returning read-only valu&#10;e.&#10;W/Settings( 3207): Setting install_non_market_apps has moved from android.provid&#10;er.Settings.Global to android.provider.Settings.Secure, returning read-only valu&#10;e.&#10;W/GooglePlayServicesUtil( 3207): Google Play services is missing.&#10;W/GooglePlayServicesUtil( 3207): Google Play services is missing.&#10;I/art     ( 3207): Background partial concurrent mark sweep GC freed 1582(96KB)&#10;AllocSpace objects, 0(0B) LOS objects, 36% free, 27MB/43MB, paused 7.948ms total&#10; 31.274ms&#10;F/Adjust  ( 3207): PRODUCTION: Adjust is running in Production mode. Use this se&#10;tting only for the build that you want to publish. Set the environment to `sandb&#10;ox` if you want to test your app!&#10;D/OpenGLRenderer( 3207): Use EGL_SWAP_BEHAVIOR_PRESERVED: true&#10;E/ActivityThread( 3207): Failed to find provider info for com.facebook.katana.pr&#10;ovider.AttributionIdProvider&#10;D/Atlas   ( 3207): Validating map...&#10;V/WindowManager(  746): Adding window Window{30dc474e u0 com.ubercab/com.ubercab&#10;.UBUberActivity} at 3 of 9 (before Window{adeae23 u0 Starting com.ubercab})&#10;I/Adjust  ( 3207): Unable to get Google Play Services Advertising ID at start ti&#10;me&#10;I/Adjust  ( 3207): Started subsession 3 of session 1&#10;I/WebViewFactory( 3207): Loading com.android.webview version 39 (1636aa03d7-arm)&#10; (code 300001)&#10;I/LibraryLoader( 3207): Time to load native libraries: 101 ms (timestamps 1997-2&#10;098)&#10;I/LibraryLoader( 3207): Expected native library version number &quot;&quot;,actual native&#10;library version number &quot;&quot;&#10;V/WebViewChromiumFactoryProvider( 3207): Binding Chromium to main looper Looper&#10;(main, tid 1) {2650a87f}&#10;I/LibraryLoader( 3207): Expected native library version number &quot;&quot;,actual native&#10;library version number &quot;&quot;&#10;I/chromium( 3207): [INFO:library_loader_hooks.cc(104)] Chromium logging enabled:&#10; level = 0, default verbosity = 0&#10;I/BrowserStartupController( 3207): Initializing chromium process, singleProcess=&#10;true&#10;W/art     ( 3207): Attempt to remove local handle scope entry from IRT, ignoring&#10;&#10;W/chromium( 3207): [WARNING:resource_bundle.cc(304)] &lt;api&gt;locale_file_path.empty()&lt;/api&gt;&#10;I/chromium( 3207): [INFO:aw_browser_main_parts.cc(65)] Load from apk succesful,&#10;fd=57 off=46184 len=3037&#10;I/chromium( 3207): [INFO:aw_browser_main_parts.cc(78)] Loading webviewchromium.p&#10;ak from, fd:58 off:229484 len:1089587&#10;W/AudioManagerAndroid( 3207): Requires BLUETOOTH permission&#10;I/Adreno-EGL( 3207): &amp;lt;qeglDrvAPI_eglInitialize:379&amp;gt;: QUALCOMM Build: 01/14/15, a&#10;b0075f, Id3510ff6dc&#10;W/chromium( 3207): [WARNING:data_reduction_proxy_settings.cc(331)] SPDY proxy OF&#10;F at startup&#10;W/art     ( 3207): Attempt to remove local handle scope entry from IRT, ignoring&#10;&#10;W/AwContents( 3207): onDetachedFromWindow called when already detached. Ignoring&#10;&#10;W/ScreenOrientationListener( 3207): Removing an inexistent observer!&#10;W/GooglePlayServicesUtil( 3207): Google Play services is missing.&#10;I/Timeline( 3207): Timeline: Activity_launch_request id:com.ubercab time:652225&#10;I/ActivityManager(  746): START u0 {cmp=com.ubercab/.webclient.app.WebClientActi&#10;vity} from uid 10018 on display 0&#10;V/WindowManager(  746): addAppToken: AppWindowToken{35bf0ab2 token=Token{64a44bd&#10; ActivityRecord{7734414 u0 com.ubercab/.webclient.app.WebClientActivity t4}}} to&#10; stack=1 task=4 at 1&#10;V/WindowManager(  746): Adding window Window{adeae23 u0 Starting com.ubercab} at&#10; 4 of 9 (after Window{30dc474e u0 com.ubercab/com.ubercab.UBUberActivity})&#10;I/OpenGLRenderer( 3207): Initialized EGL, version 1.4&#10;D/OpenGLRenderer( 3207): Enabling debug mode 0&#10;W/art     ( 3207): Attempt to remove local handle scope entry from IRT, ignoring&#10;&#10;W/AwContents( 3207): onDetachedFromWindow called when already detached. Ignoring&#10;&#10;W/art     ( 3207): Attempt to remove local handle scope entry from IRT, ignoring&#10;&#10;W/art     ( 3207): Attempt to remove local handle scope entry from IRT, ignoring&#10;&#10;V/WindowManager(  746): Adding window Window{2a8f1ffe u0 com.ubercab/com.ubercab&#10;.webclient.app.WebClientActivity} at 4 of 10 (before Window{adeae23 u0 Starting&#10;com.ubercab})&#10;I/Timeline( 3207): Timeline: Activity_idle id: android.os.BinderProxy@28cd19b0 t&#10;ime:652505&#10;I/ActivityManager(  746): Displayed com.ubercab/.webclient.app.WebClientActivity&#10;: +248ms (total +1s663ms)&#10;I/Timeline(  746): Timeline: Activity_windows_visible id: ActivityRecord{7734414&#10; u0 com.ubercab/.webclient.app.WebClientActivity t4} time:652509&#10;I/chromium( 3207): [INFO:CONSOLE(1)] &quot;Uncaught ReferenceError: Uber is not defin&#10;ed&quot;, source:  (1)&#10;CTRL+C&#10;&#10;&#10;&#10;&#10;&#10;" CommentCount="1" CreationDate="2016-05-23T13:06:12.960" Id="145592" LastActivityDate="2016-05-23T13:21:59.220" OwnerUserId="69677" PostTypeId="1" Score="0" Tags="&lt;applications&gt;&lt;cyanogenmod&gt;" Title="Uber Rider hangs on launch" ViewCount="45" />
  <row AnswerCount="0" Body="I'm working on an app which stores small amounts of data in /data/data/my_app/files using this code:&#10;&#10;private void buildFileFromPreset(String fileName) {&#10;&#10;    fileName = &lt;api&gt;fileName.toLowerCase()&lt;/api&gt;;&#10;&#10;    StandardData data = &lt;api&gt;StandardData.getInstance()&lt;/api&gt;;&#10;    String[] list = &lt;api&gt;data.getDataByName(fileName)&lt;/api&gt;;&#10;&#10;    FileOutputStream fos = null;&#10;    try {&#10;        fos = openFileOutput(fileName, Context.MODE_PRIVATE);&#10;        PrintWriter writer = new PrintWriter(fos);&#10;        for (int i = 0; i &amp;lt; list.length; i++) {&#10;            &lt;api&gt;writer.println(list[i])&lt;/api&gt;;&#10;        }&#10;        &lt;api&gt;writer.close()&lt;/api&gt;;&#10;    } catch (FileNotFoundException e) {&#10;&#10;    } catch (IOException e) {&#10;        &lt;api&gt;e.printStackTrace()&lt;/api&gt;;&#10;    } finally {&#10;        try {&#10;            &lt;api&gt;fos.close()&lt;/api&gt;;&#10;        } catch (IOException e) {&#10;            &lt;api&gt;e.printStackTrace()&lt;/api&gt;;&#10;        }&#10;    }&#10;}&#10;&#10;&#10;All works fine when the app gets started, in the onCreate() function of the main activity, I want to check if the files that were created last time are still present:&#10;&#10;private String getAppFilesDir() {&#10;    ContextWrapper c = new ContextWrapper(this);&#10;    return &lt;api&gt;c.getFilesDir()&lt;/api&gt;.toString();&#10;}&#10;&#10;&#10;which returns something like:&#10;&#10;/data/user/0/my_app/files&#10;&#10;&#10;I've read some older posts (2012) suggesting this method must work but it doesn't, probably since jellybean.&#10;&#10;So my question: &#10;How can I check if the files I created using FileOutputStream and PrintWriter in a previous session still exist?&#10;&#10;I hope I provided enough info for you guys to answer (:&#10;" ClosedDate="2016-05-27T08:56:00.147" CommentCount="1" CreationDate="2016-05-27T06:33:50.107" Id="145895" LastActivityDate="2016-05-27T06:33:50.107" OwnerUserId="167635" PostTypeId="1" Score="-1" Tags="&lt;internal-storage&gt;&lt;file-system&gt;&lt;file-management&gt;&lt;files&gt;" Title="Can't get path to /data/data/my_app/files" ViewCount="7" />
  </posts>
